"use strict";(()=>{var pF=Object.create;var LS=Object.defineProperty;var mF=Object.getOwnPropertyDescriptor;var gF=Object.getOwnPropertyNames;var vF=Object.getPrototypeOf,yF=Object.prototype.hasOwnProperty;var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var xF=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gF(e))!yF.call(t,i)&&i!==n&&LS(t,i,{get:()=>e[i],enumerable:!(r=mF(e,i))||r.enumerable});return t};var Nn=(t,e,n)=>(n=t!=null?pF(vF(t)):{},xF(e||!t||!t.__esModule?LS(n,"default",{value:t,enumerable:!0}):n,t));var HS=S(K=>{"use strict";var ul=Symbol.for("react.element"),SF=Symbol.for("react.portal"),kF=Symbol.for("react.fragment"),wF=Symbol.for("react.strict_mode"),bF=Symbol.for("react.profiler"),CF=Symbol.for("react.provider"),EF=Symbol.for("react.context"),TF=Symbol.for("react.forward_ref"),AF=Symbol.for("react.suspense"),_F=Symbol.for("react.memo"),OF=Symbol.for("react.lazy"),NS=Symbol.iterator;function RF(t){return t===null||typeof t!="object"?null:(t=NS&&t[NS]||t["@@iterator"],typeof t=="function"?t:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BS=Object.assign,qS={};function us(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||FS}us.prototype.isReactComponent={};us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VS(){}VS.prototype=us.prototype;function Tm(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||FS}var Am=Tm.prototype=new VS;Am.constructor=Tm;BS(Am,us.prototype);Am.isPureReactComponent=!0;var IS=Array.isArray,US=Object.prototype.hasOwnProperty,_m={current:null},zS={key:!0,ref:!0,__self:!0,__source:!0};function WS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)US.call(e,r)&&!zS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ul,type:t,key:o,ref:s,props:i,_owner:_m.current}}function MF(t,e){return{$$typeof:ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Om(t){return typeof t=="object"&&t!==null&&t.$$typeof===ul}function PF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DS=/\/+/g;function Em(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PF(""+t.key):e.toString(36)}function zc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ul:case SF:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Em(s,0):r,IS(i)?(n="",t!=null&&(n=t.replace(DS,"$&/")+"/"),zc(i,e,n,"",function(u){return u})):i!=null&&(Om(i)&&(i=MF(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(DS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",IS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Em(o,a);s+=zc(o,e,n,l,i)}else if(l=RF(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Em(o,a++),s+=zc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Uc(t,e,n){if(t==null)return t;var r=[],i=0;return zc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function LF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},Wc={transition:null},NF={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:_m};function jS(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Uc,forEach:function(t,e,n){Uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uc(t,function(){e++}),e},toArray:function(t){return Uc(t,function(e){return e})||[]},only:function(t){if(!Om(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=us;K.Fragment=kF;K.Profiler=bF;K.PureComponent=Tm;K.StrictMode=wF;K.Suspense=AF;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NF;K.act=jS;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=_m.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)US.call(e,l)&&!zS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ul,type:t.type,key:i,ref:o,props:r,_owner:s}};K.createContext=function(t){return t={$$typeof:EF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CF,_context:t},t.Consumer=t};K.createElement=WS;K.createFactory=function(t){var e=WS.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:TF,render:t}};K.isValidElement=Om;K.lazy=function(t){return{$$typeof:OF,_payload:{_status:-1,_result:t},_init:LF}};K.memo=function(t,e){return{$$typeof:_F,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};K.unstable_act=jS;K.useCallback=function(t,e){return Ot.current.useCallback(t,e)};K.useContext=function(t){return Ot.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};K.useEffect=function(t,e){return Ot.current.useEffect(t,e)};K.useId=function(){return Ot.current.useId()};K.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return Ot.current.useMemo(t,e)};K.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};K.useRef=function(t){return Ot.current.useRef(t)};K.useState=function(t){return Ot.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return Ot.current.useTransition()};K.version="18.3.1"});var ao=S((due,GS)=>{"use strict";GS.exports=HS()});var nk=S(ye=>{"use strict";function Lm(t,e){var n=t.length;t.push(e);e:for(;0<n;){var r=n-1>>>1,i=t[r];if(0<jc(i,e))t[r]=e,t[n]=i,n=r;else break e}}function In(t){return t.length===0?null:t[0]}function Gc(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var r=0,i=t.length,o=i>>>1;r<o;){var s=2*(r+1)-1,a=t[s],l=s+1,u=t[l];if(0>jc(a,n))l<i&&0>jc(u,a)?(t[r]=u,t[l]=n,r=l):(t[r]=a,t[s]=n,r=s);else if(l<i&&0>jc(u,n))t[r]=u,t[l]=n,r=l;else break e}}return e}function jc(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}typeof performance=="object"&&typeof performance.now=="function"?(KS=performance,ye.unstable_now=function(){return KS.now()}):(Rm=Date,$S=Rm.now(),ye.unstable_now=function(){return Rm.now()-$S});var KS,Rm,$S,ir=[],hi=[],IF=1,vn=null,vt=3,Kc=!1,lo=!1,fl=!1,ZS=typeof setTimeout=="function"?setTimeout:null,QS=typeof clearTimeout=="function"?clearTimeout:null,YS=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Nm(t){for(var e=In(hi);e!==null;){if(e.callback===null)Gc(hi);else if(e.startTime<=t)Gc(hi),e.sortIndex=e.expirationTime,Lm(ir,e);else break;e=In(hi)}}function Im(t){if(fl=!1,Nm(t),!lo)if(In(ir)!==null)lo=!0,Fm(Dm);else{var e=In(hi);e!==null&&Bm(Im,e.startTime-t)}}function Dm(t,e){lo=!1,fl&&(fl=!1,QS(hl),hl=-1),Kc=!0;var n=vt;try{for(Nm(e),vn=In(ir);vn!==null&&(!(vn.expirationTime>e)||t&&!tk());){var r=vn.callback;if(typeof r=="function"){vn.callback=null,vt=vn.priorityLevel;var i=r(vn.expirationTime<=e);e=ye.unstable_now(),typeof i=="function"?vn.callback=i:vn===In(ir)&&Gc(ir),Nm(e)}else Gc(ir);vn=In(ir)}if(vn!==null)var o=!0;else{var s=In(hi);s!==null&&Bm(Im,s.startTime-e),o=!1}return o}finally{vn=null,vt=n,Kc=!1}}var $c=!1,Hc=null,hl=-1,JS=5,ek=-1;function tk(){return!(ye.unstable_now()-ek<JS)}function Mm(){if(Hc!==null){var t=ye.unstable_now();ek=t;var e=!0;try{e=Hc(!0,t)}finally{e?cl():($c=!1,Hc=null)}}else $c=!1}var cl;typeof YS=="function"?cl=function(){YS(Mm)}:typeof MessageChannel<"u"?(Pm=new MessageChannel,XS=Pm.port2,Pm.port1.onmessage=Mm,cl=function(){XS.postMessage(null)}):cl=function(){ZS(Mm,0)};var Pm,XS;function Fm(t){Hc=t,$c||($c=!0,cl())}function Bm(t,e){hl=ZS(function(){t(ye.unstable_now())},e)}ye.unstable_IdlePriority=5;ye.unstable_ImmediatePriority=1;ye.unstable_LowPriority=4;ye.unstable_NormalPriority=3;ye.unstable_Profiling=null;ye.unstable_UserBlockingPriority=2;ye.unstable_cancelCallback=function(t){t.callback=null};ye.unstable_continueExecution=function(){lo||Kc||(lo=!0,Fm(Dm))};ye.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):JS=0<t?Math.floor(1e3/t):5};ye.unstable_getCurrentPriorityLevel=function(){return vt};ye.unstable_getFirstCallbackNode=function(){return In(ir)};ye.unstable_next=function(t){switch(vt){case 1:case 2:case 3:var e=3;break;default:e=vt}var n=vt;vt=e;try{return t()}finally{vt=n}};ye.unstable_pauseExecution=function(){};ye.unstable_requestPaint=function(){};ye.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=vt;vt=t;try{return e()}finally{vt=n}};ye.unstable_scheduleCallback=function(t,e,n){var r=ye.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=n+i,t={id:IF++,callback:e,priorityLevel:t,startTime:n,expirationTime:i,sortIndex:-1},n>r?(t.sortIndex=n,Lm(hi,t),In(ir)===null&&t===In(hi)&&(fl?(QS(hl),hl=-1):fl=!0,Bm(Im,n-r))):(t.sortIndex=i,Lm(ir,t),lo||Kc||(lo=!0,Fm(Dm))),t};ye.unstable_shouldYield=tk;ye.unstable_wrapCallback=function(t){var e=vt;return function(){var n=vt;vt=e;try{return t.apply(this,arguments)}finally{vt=n}}}});var ik=S((mue,rk)=>{"use strict";rk.exports=nk()});var lC=S(on=>{"use strict";var DF=ao(),nn=ik();function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fw=new Set,Nl={};function wo(t,e){Rs(t,e),Rs(t+"Capture",e)}function Rs(t,e){for(Nl[t]=e,t=0;t<e.length;t++)fw.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ag=Object.prototype.hasOwnProperty,FF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ok={},sk={};function BF(t){return ag.call(sk,t)?!0:ag.call(ok,t)?!1:FF.test(t)?sk[t]=!0:(ok[t]=!0,!1)}function qF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VF(t,e,n,r){if(e===null||typeof e>"u"||qF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function e0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jg,e0);ut[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jg,e0);ut[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jg,e0);ut[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function t0(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VF(e,n,i,r)&&(n=null),r||i===null?BF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=DF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),hs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),hw=Symbol.for("react.provider"),dw=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),cg=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),pi=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var pw=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var ak=Symbol.iterator;function dl(t){return t===null||typeof t!="object"?null:(t=ak&&t[ak]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,qm;function kl(t){if(qm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qm=e&&e[1]||""}return`
`+qm+t}var Vm=!1;function Um(t,e){if(!t||Vm)return"";Vm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Vm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kl(t):""}function UF(t){switch(t.tag){case 5:return kl(t.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return t=Um(t.type,!1),t;case 11:return t=Um(t.type.render,!1),t;case 1:return t=Um(t.type,!0),t;default:return""}}function fg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case hs:return"Portal";case lg:return"Profiler";case n0:return"StrictMode";case ug:return"Suspense";case cg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dw:return(t.displayName||"Context")+".Consumer";case hw:return(t._context.displayName||"Context")+".Provider";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i0:return e=t.displayName||null,e!==null?e:fg(t.type)||"Memo";case pi:e=t._payload,t=t._init;try{return fg(t(e))}catch{}}return null}function zF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fg(e);case 8:return e===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WF(t){var e=mw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=WF(t))}function gw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hg(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vw(t,e){e=e.checked,e!=null&&t0(t,"checked",e,!1)}function dg(t,e){vw(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&pg(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pg(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wl=Array.isArray;function Cs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ck(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(wl(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function yw(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zc,Sw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jF=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(t){jF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),El[e]=El[t]})});function kw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||El.hasOwnProperty(t)&&El[t]?(""+e).trim():e+"px"}function ww(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var HF=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vg(t,e){if(e){if(HF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function yg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=null;function o0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sg=null,Es=null,Ts=null;function hk(t){if(t=Jl(t)){if(typeof Sg!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Jf(e),Sg(t.stateNode,t.type,e))}}function bw(t){Es?Ts?Ts.push(t):Ts=[t]:Es=t}function Cw(){if(Es){var t=Es,e=Ts;if(Ts=Es=null,hk(t),e)for(t=0;t<e.length;t++)hk(e[t])}}function Ew(t,e){return t(e)}function Tw(){}var zm=!1;function Aw(t,e,n){if(zm)return t(e,n);zm=!0;try{return Ew(t,e,n)}finally{zm=!1,(Es!==null||Ts!==null)&&(Tw(),Cw())}}function Dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var kg=!1;if(zr)try{cs={},Object.defineProperty(cs,"passive",{get:function(){kg=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{kg=!1}var cs;function GF(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Tl=!1,Tf=null,Af=!1,wg=null,KF={onError:function(t){Tl=!0,Tf=t}};function $F(t,e,n,r,i,o,s,a,l){Tl=!1,Tf=null,GF.apply(KF,arguments)}function YF(t,e,n,r,i,o,s,a,l){if($F.apply(this,arguments),Tl){if(Tl){var u=Tf;Tl=!1,Tf=null}else throw Error(R(198));Af||(Af=!0,wg=u)}}function bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _w(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dk(t){if(bo(t)!==t)throw Error(R(188))}function XF(t){var e=t.alternate;if(!e){if(e=bo(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return dk(i),t;if(o===r)return dk(i),e;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Ow(t){return t=XF(t),t!==null?Rw(t):null}function Rw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rw(t);if(e!==null)return e;t=t.sibling}return null}var Mw=nn.unstable_scheduleCallback,pk=nn.unstable_cancelCallback,ZF=nn.unstable_shouldYield,QF=nn.unstable_requestPaint,Ve=nn.unstable_now,JF=nn.unstable_getCurrentPriorityLevel,s0=nn.unstable_ImmediatePriority,Pw=nn.unstable_UserBlockingPriority,_f=nn.unstable_NormalPriority,e5=nn.unstable_LowPriority,Lw=nn.unstable_IdlePriority,Yf=null,lr=null;function t5(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Yf,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:i5,n5=Math.log,r5=Math.LN2;function i5(t){return t>>>=0,t===0?32:31-(n5(t)/r5|0)|0}var Qc=64,Jc=4194304;function bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Of(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=bl(a):(o&=s,o!==0&&(r=bl(o)))}else s=n&~i,s!==0?r=bl(s):o!==0&&(r=bl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function o5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Vn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=o5(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nw(){var t=Qc;return Qc<<=1,!(Qc&4194240)&&(Qc=64),t}function Wm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function a5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function a0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ue=0;function Iw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dw,l0,Fw,Bw,qw,Cg=!1,ef=[],Si=null,ki=null,wi=null,Fl=new Map,Bl=new Map,gi=[],l5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mk(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(e.pointerId)}}function pl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Jl(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function u5(t,e,n,r,i){switch(e){case"focusin":return Si=pl(Si,t,e,n,r,i),!0;case"dragenter":return ki=pl(ki,t,e,n,r,i),!0;case"mouseover":return wi=pl(wi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Fl.set(o,pl(Fl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bl.set(o,pl(Bl.get(o)||null,t,e,n,r,i)),!0}return!1}function Vw(t){var e=fo(t.target);if(e!==null){var n=bo(e);if(n!==null){if(e=n.tag,e===13){if(e=_w(n),e!==null){t.blockedOn=e,qw(t.priority,function(){Fw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xg=r,n.target.dispatchEvent(r),xg=null}else return e=Jl(n),e!==null&&l0(e),t.blockedOn=n,!1;e.shift()}return!0}function gk(t,e,n){mf(t)&&n.delete(e)}function c5(){Cg=!1,Si!==null&&mf(Si)&&(Si=null),ki!==null&&mf(ki)&&(ki=null),wi!==null&&mf(wi)&&(wi=null),Fl.forEach(gk),Bl.forEach(gk)}function ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Cg||(Cg=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,c5)))}function ql(t){function e(i){return ml(i,t)}if(0<ef.length){ml(ef[0],t);for(var n=1;n<ef.length;n++){var r=ef[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&ml(Si,t),ki!==null&&ml(ki,t),wi!==null&&ml(wi,t),Fl.forEach(e),Bl.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)Vw(n),n.blockedOn===null&&gi.shift()}var As=Gr.ReactCurrentBatchConfig,Rf=!0;function f5(t,e,n,r){var i=ue,o=As.transition;As.transition=null;try{ue=1,u0(t,e,n,r)}finally{ue=i,As.transition=o}}function h5(t,e,n,r){var i=ue,o=As.transition;As.transition=null;try{ue=4,u0(t,e,n,r)}finally{ue=i,As.transition=o}}function u0(t,e,n,r){if(Rf){var i=Eg(t,e,n,r);if(i===null)Xm(t,e,r,Mf,n),mk(t,r);else if(u5(i,t,e,n,r))r.stopPropagation();else if(mk(t,r),e&4&&-1<l5.indexOf(t)){for(;i!==null;){var o=Jl(i);if(o!==null&&Dw(o),o=Eg(t,e,n,r),o===null&&Xm(t,e,r,Mf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Xm(t,e,r,null,n)}}var Mf=null;function Eg(t,e,n,r){if(Mf=null,t=o0(r),t=fo(t),t!==null)if(e=bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_w(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mf=t,null}function Uw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JF()){case s0:return 1;case Pw:return 4;case _f:case e5:return 16;case Lw:return 536870912;default:return 16}default:return 16}}var yi=null,c0=null,gf=null;function zw(){if(gf)return gf;var t,e=c0,n=e.length,r,i="value"in yi?yi.value:yi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return gf=i.slice(t,1<r?1-r:void 0)}function vf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tf(){return!0}function vk(){return!1}function rn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tf:vk,this.isPropagationStopped=vk,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),e}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f0=rn(Fs),Ql=Ie({},Fs,{view:0,detail:0}),d5=rn(Ql),jm,Hm,gl,Xf=Ie({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(jm=t.screenX-gl.screenX,Hm=t.screenY-gl.screenY):Hm=jm=0,gl=t),jm)},movementY:function(t){return"movementY"in t?t.movementY:Hm}}),yk=rn(Xf),p5=Ie({},Xf,{dataTransfer:0}),m5=rn(p5),g5=Ie({},Ql,{relatedTarget:0}),Gm=rn(g5),v5=Ie({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),y5=rn(v5),x5=Ie({},Fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S5=rn(x5),k5=Ie({},Fs,{data:0}),xk=rn(k5),w5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C5[t])?!!e[t]:!1}function h0(){return E5}var T5=Ie({},Ql,{key:function(t){if(t.key){var e=w5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h0,charCode:function(t){return t.type==="keypress"?vf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A5=rn(T5),_5=Ie({},Xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sk=rn(_5),O5=Ie({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h0}),R5=rn(O5),M5=Ie({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),P5=rn(M5),L5=Ie({},Xf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N5=rn(L5),I5=[9,13,27,32],d0=zr&&"CompositionEvent"in window,Al=null;zr&&"documentMode"in document&&(Al=document.documentMode);var D5=zr&&"TextEvent"in window&&!Al,Ww=zr&&(!d0||Al&&8<Al&&11>=Al),kk=" ",wk=!1;function jw(t,e){switch(t){case"keyup":return I5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function F5(t,e){switch(t){case"compositionend":return Hw(e);case"keypress":return e.which!==32?null:(wk=!0,kk);case"textInput":return t=e.data,t===kk&&wk?null:t;default:return null}}function B5(t,e){if(ps)return t==="compositionend"||!d0&&jw(t,e)?(t=zw(),gf=c0=yi=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ww&&e.locale!=="ko"?null:e.data;default:return null}}var q5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q5[t.type]:e==="textarea"}function Gw(t,e,n,r){bw(r),e=Pf(e,"onChange"),0<e.length&&(n=new f0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,Vl=null;function V5(t){rb(t,0)}function Zf(t){var e=vs(t);if(gw(e))return t}function U5(t,e){if(t==="change")return e}var Kw=!1;zr&&(zr?(rf="oninput"in document,rf||(Km=document.createElement("div"),Km.setAttribute("oninput","return;"),rf=typeof Km.oninput=="function"),nf=rf):nf=!1,Kw=nf&&(!document.documentMode||9<document.documentMode));var nf,rf,Km;function Ck(){_l&&(_l.detachEvent("onpropertychange",$w),Vl=_l=null)}function $w(t){if(t.propertyName==="value"&&Zf(Vl)){var e=[];Gw(e,Vl,t,o0(t)),Aw(V5,e)}}function z5(t,e,n){t==="focusin"?(Ck(),_l=e,Vl=n,_l.attachEvent("onpropertychange",$w)):t==="focusout"&&Ck()}function W5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zf(Vl)}function j5(t,e){if(t==="click")return Zf(e)}function H5(t,e){if(t==="input"||t==="change")return Zf(e)}function G5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:G5;function Ul(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ag.call(e,i)||!zn(t[i],e[i]))return!1}return!0}function Ek(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tk(t,e){var n=Ek(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ek(n)}}function Yw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xw(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K5(t){var e=Xw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yw(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Tk(n,o);var s=Tk(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $5=zr&&"documentMode"in document&&11>=document.documentMode,ms=null,Tg=null,Ol=null,Ag=!1;function Ak(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ag||ms==null||ms!==Ef(r)||(r=ms,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&Ul(Ol,r)||(Ol=r,r=Pf(Tg,"onSelect"),0<r.length&&(e=new f0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ms)))}function of(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:of("Animation","AnimationEnd"),animationiteration:of("Animation","AnimationIteration"),animationstart:of("Animation","AnimationStart"),transitionend:of("Transition","TransitionEnd")},$m={},Zw={};zr&&(Zw=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Qf(t){if($m[t])return $m[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zw)return $m[t]=e[n];return t}var Qw=Qf("animationend"),Jw=Qf("animationiteration"),eb=Qf("animationstart"),tb=Qf("transitionend"),nb=new Map,_k="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){nb.set(t,e),wo(e,[t])}for(sf=0;sf<_k.length;sf++)af=_k[sf],Ok=af.toLowerCase(),Rk=af[0].toUpperCase()+af.slice(1),Ri(Ok,"on"+Rk);var af,Ok,Rk,sf;Ri(Qw,"onAnimationEnd");Ri(Jw,"onAnimationIteration");Ri(eb,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(tb,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function Mk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YF(r,e,void 0,t),t.currentTarget=null}function rb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mk(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mk(i,a,u),o=l}}}if(Af)throw t=wg,Af=!1,wg=null,t}function ke(t,e){var n=e[Pg];n===void 0&&(n=e[Pg]=new Set);var r=t+"__bubble";n.has(r)||(ib(e,t,2,!1),n.add(r))}function Ym(t,e,n){var r=0;e&&(r|=4),ib(n,t,r,e)}var lf="_reactListening"+Math.random().toString(36).slice(2);function zl(t){if(!t[lf]){t[lf]=!0,fw.forEach(function(n){n!=="selectionchange"&&(Y5.has(n)||Ym(n,!1,t),Ym(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lf]||(e[lf]=!0,Ym("selectionchange",!1,e))}}function ib(t,e,n,r){switch(Uw(e)){case 1:var i=f5;break;case 4:i=h5;break;default:i=u0}n=i.bind(null,e,n,t),i=void 0,!kg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=fo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Aw(function(){var u=o,c=o0(n),f=[];e:{var h=nb.get(t);if(h!==void 0){var p=f0,d=t;switch(t){case"keypress":if(vf(n)===0)break e;case"keydown":case"keyup":p=A5;break;case"focusin":d="focus",p=Gm;break;case"focusout":d="blur",p=Gm;break;case"beforeblur":case"afterblur":p=Gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=m5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=R5;break;case Qw:case Jw:case eb:p=y5;break;case tb:p=P5;break;case"scroll":p=d5;break;case"wheel":p=N5;break;case"copy":case"cut":case"paste":p=S5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sk}var g=(e&4)!==0,x=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,y;v!==null;){y=v;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=Dl(v,m),k!=null&&g.push(Wl(v,k,y)))),x)break;v=v.return}0<g.length&&(h=new p(h,d,null,n,c),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==xg&&(d=n.relatedTarget||n.fromElement)&&(fo(d)||d[Wr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=n.relatedTarget||n.toElement,p=u,d=d?fo(d):null,d!==null&&(x=bo(d),d!==x||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=u),p!==d)){if(g=yk,k="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Sk,k="onPointerLeave",m="onPointerEnter",v="pointer"),x=p==null?h:vs(p),y=d==null?h:vs(d),h=new g(k,v+"leave",p,n,c),h.target=x,h.relatedTarget=y,k=null,fo(c)===u&&(g=new g(m,v+"enter",d,n,c),g.target=y,g.relatedTarget=x,k=g),x=k,p&&d)t:{for(g=p,m=d,v=0,y=g;y;y=fs(y))v++;for(y=0,k=m;k;k=fs(k))y++;for(;0<v-y;)g=fs(g),v--;for(;0<y-v;)m=fs(m),y--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=fs(g),m=fs(m)}g=null}else g=null;p!==null&&Pk(f,h,p,g,!1),d!==null&&x!==null&&Pk(f,x,d,g,!0)}}e:{if(h=u?vs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=U5;else if(bk(h))if(Kw)b=H5;else{b=W5;var w=z5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=j5);if(b&&(b=b(t,u))){Gw(f,b,n,c);break e}w&&w(t,h,u),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&pg(h,"number",h.value)}switch(w=u?vs(u):window,t){case"focusin":(bk(w)||w.contentEditable==="true")&&(ms=w,Tg=u,Ol=null);break;case"focusout":Ol=Tg=ms=null;break;case"mousedown":Ag=!0;break;case"contextmenu":case"mouseup":case"dragend":Ag=!1,Ak(f,n,c);break;case"selectionchange":if($5)break;case"keydown":case"keyup":Ak(f,n,c)}var C;if(d0)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ps?jw(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ww&&n.locale!=="ko"&&(ps||E!=="onCompositionStart"?E==="onCompositionEnd"&&ps&&(C=zw()):(yi=c,c0="value"in yi?yi.value:yi.textContent,ps=!0)),w=Pf(u,E),0<w.length&&(E=new xk(E,t,null,n,c),f.push({event:E,listeners:w}),C?E.data=C:(C=Hw(n),C!==null&&(E.data=C)))),(C=D5?F5(t,n):B5(t,n))&&(u=Pf(u,"onBeforeInput"),0<u.length&&(c=new xk("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}rb(f,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Dl(t,n),o!=null&&r.unshift(Wl(t,o,i)),o=Dl(t,e),o!=null&&r.push(Wl(t,o,i))),t=t.return}return r}function fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pk(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Dl(n,o),l!=null&&s.unshift(Wl(n,l,a))):i||(l=Dl(n,o),l!=null&&s.push(Wl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var X5=/\r\n?/g,Z5=/\u0000|\uFFFD/g;function Lk(t){return(typeof t=="string"?t:""+t).replace(X5,`
`).replace(Z5,"")}function uf(t,e,n){if(e=Lk(e),Lk(t)!==e&&n)throw Error(R(425))}function Lf(){}var _g=null,Og=null;function Rg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,Q5=typeof clearTimeout=="function"?clearTimeout:void 0,Nk=typeof Promise=="function"?Promise:void 0,J5=typeof queueMicrotask=="function"?queueMicrotask:typeof Nk<"u"?function(t){return Nk.resolve(null).then(t).catch(e8)}:Mg;function e8(t){setTimeout(function(){throw t})}function Zm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ql(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ik(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),ar="__reactFiber$"+Bs,jl="__reactProps$"+Bs,Wr="__reactContainer$"+Bs,Pg="__reactEvents$"+Bs,t8="__reactListeners$"+Bs,n8="__reactHandles$"+Bs;function fo(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ik(t);t!==null;){if(n=t[ar])return n;t=Ik(t)}return e}t=n,n=t.parentNode}return null}function Jl(t){return t=t[ar]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Jf(t){return t[jl]||null}var Lg=[],ys=-1;function Mi(t){return{current:t}}function we(t){0>ys||(t.current=Lg[ys],Lg[ys]=null,ys--)}function xe(t,e){ys++,Lg[ys]=t.current,t.current=e}var Oi={},kt=Mi(Oi),Wt=Mi(!1),vo=Oi;function Ms(t,e){var n=t.type.contextTypes;if(!n)return Oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jt(t){return t=t.childContextTypes,t!=null}function Nf(){we(Wt),we(kt)}function Dk(t,e,n){if(kt.current!==Oi)throw Error(R(168));xe(kt,e),xe(Wt,n)}function ob(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,zF(t)||"Unknown",i));return Ie({},n,r)}function If(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,vo=kt.current,xe(kt,t),xe(Wt,Wt.current),!0}function Fk(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=ob(t,e,vo),r.__reactInternalMemoizedMergedChildContext=t,we(Wt),we(kt),xe(kt,t)):we(Wt),xe(Wt,n)}var Br=null,eh=!1,Qm=!1;function sb(t){Br===null?Br=[t]:Br.push(t)}function r8(t){eh=!0,sb(t)}function Pi(){if(!Qm&&Br!==null){Qm=!0;var t=0,e=ue;try{var n=Br;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Br=null,eh=!1}catch(i){throw Br!==null&&(Br=Br.slice(t+1)),Mw(s0,Pi),i}finally{ue=e,Qm=!1}}return null}var xs=[],Ss=0,Df=null,Ff=0,yn=[],xn=0,yo=null,qr=1,Vr="";function uo(t,e){xs[Ss++]=Ff,xs[Ss++]=Df,Df=t,Ff=e}function ab(t,e,n){yn[xn++]=qr,yn[xn++]=Vr,yn[xn++]=yo,yo=t;var r=qr;t=Vr;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var o=32-Vn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qr=1<<32-Vn(e)+i|n<<i|r,Vr=o+t}else qr=1<<o|n<<i|r,Vr=t}function m0(t){t.return!==null&&(uo(t,1),ab(t,1,0))}function g0(t){for(;t===Df;)Df=xs[--Ss],xs[Ss]=null,Ff=xs[--Ss],xs[Ss]=null;for(;t===yo;)yo=yn[--xn],yn[xn]=null,Vr=yn[--xn],yn[xn]=null,qr=yn[--xn],yn[xn]=null}var tn=null,en=null,Ae=!1,qn=null;function lb(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,en=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yo!==null?{id:qr,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,en=null,!0):!1;default:return!1}}function Ng(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ig(t){if(Ae){var e=en;if(e){var n=e;if(!Bk(t,e)){if(Ng(t))throw Error(R(418));e=bi(n.nextSibling);var r=tn;e&&Bk(t,e)?lb(r,n):(t.flags=t.flags&-4097|2,Ae=!1,tn=t)}}else{if(Ng(t))throw Error(R(418));t.flags=t.flags&-4097|2,Ae=!1,tn=t}}}function qk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function cf(t){if(t!==tn)return!1;if(!Ae)return qk(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rg(t.type,t.memoizedProps)),e&&(e=en)){if(Ng(t))throw ub(),Error(R(418));for(;e;)lb(t,e),e=bi(e.nextSibling)}if(qk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=tn?bi(t.stateNode.nextSibling):null;return!0}function ub(){for(var t=en;t;)t=bi(t.nextSibling)}function Ps(){en=tn=null,Ae=!1}function v0(t){qn===null?qn=[t]:qn.push(t)}var i8=Gr.ReactCurrentBatchConfig;function vl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function ff(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vk(t){var e=t._init;return e(t._payload)}function cb(t){function e(m,v){if(t){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Ai(m,v),m.index=0,m.sibling=null,m}function o(m,v,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,v,y,k){return v===null||v.tag!==6?(v=og(y,m.mode,k),v.return=m,v):(v=i(v,y),v.return=m,v)}function l(m,v,y,k){var b=y.type;return b===ds?c(m,v,y.props.children,k,y.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pi&&Vk(b)===v.type)?(k=i(v,y.props),k.ref=vl(m,v,y),k.return=m,k):(k=Cf(y.type,y.key,y.props,null,m.mode,k),k.ref=vl(m,v,y),k.return=m,k)}function u(m,v,y,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=sg(y,m.mode,k),v.return=m,v):(v=i(v,y.children||[]),v.return=m,v)}function c(m,v,y,k,b){return v===null||v.tag!==7?(v=go(y,m.mode,k,b),v.return=m,v):(v=i(v,y),v.return=m,v)}function f(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=og(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yc:return y=Cf(v.type,v.key,v.props,null,m.mode,y),y.ref=vl(m,null,v),y.return=m,y;case hs:return v=sg(v,m.mode,y),v.return=m,v;case pi:var k=v._init;return f(m,k(v._payload),y)}if(wl(v)||dl(v))return v=go(v,m.mode,y,null),v.return=m,v;ff(m,v)}return null}function h(m,v,y,k){var b=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(m,v,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yc:return y.key===b?l(m,v,y,k):null;case hs:return y.key===b?u(m,v,y,k):null;case pi:return b=y._init,h(m,v,b(y._payload),k)}if(wl(y)||dl(y))return b!==null?null:c(m,v,y,k,null);ff(m,y)}return null}function p(m,v,y,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,a(v,m,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Yc:return m=m.get(k.key===null?y:k.key)||null,l(v,m,k,b);case hs:return m=m.get(k.key===null?y:k.key)||null,u(v,m,k,b);case pi:var w=k._init;return p(m,v,y,w(k._payload),b)}if(wl(k)||dl(k))return m=m.get(y)||null,c(v,m,k,b,null);ff(v,k)}return null}function d(m,v,y,k){for(var b=null,w=null,C=v,E=v=0,A=null;C!==null&&E<y.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var O=h(m,C,y[E],k);if(O===null){C===null&&(C=A);break}t&&C&&O.alternate===null&&e(m,C),v=o(O,v,E),w===null?b=O:w.sibling=O,w=O,C=A}if(E===y.length)return n(m,C),Ae&&uo(m,E),b;if(C===null){for(;E<y.length;E++)C=f(m,y[E],k),C!==null&&(v=o(C,v,E),w===null?b=C:w.sibling=C,w=C);return Ae&&uo(m,E),b}for(C=r(m,C);E<y.length;E++)A=p(C,m,E,y[E],k),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?E:A.key),v=o(A,v,E),w===null?b=A:w.sibling=A,w=A);return t&&C.forEach(function(q){return e(m,q)}),Ae&&uo(m,E),b}function g(m,v,y,k){var b=dl(y);if(typeof b!="function")throw Error(R(150));if(y=b.call(y),y==null)throw Error(R(151));for(var w=b=null,C=v,E=v=0,A=null,O=y.next();C!==null&&!O.done;E++,O=y.next()){C.index>E?(A=C,C=null):A=C.sibling;var q=h(m,C,O.value,k);if(q===null){C===null&&(C=A);break}t&&C&&q.alternate===null&&e(m,C),v=o(q,v,E),w===null?b=q:w.sibling=q,w=q,C=A}if(O.done)return n(m,C),Ae&&uo(m,E),b;if(C===null){for(;!O.done;E++,O=y.next())O=f(m,O.value,k),O!==null&&(v=o(O,v,E),w===null?b=O:w.sibling=O,w=O);return Ae&&uo(m,E),b}for(C=r(m,C);!O.done;E++,O=y.next())O=p(C,m,E,O.value,k),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?E:O.key),v=o(O,v,E),w===null?b=O:w.sibling=O,w=O);return t&&C.forEach(function(B){return e(m,B)}),Ae&&uo(m,E),b}function x(m,v,y,k){if(typeof y=="object"&&y!==null&&y.type===ds&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Yc:e:{for(var b=y.key,w=v;w!==null;){if(w.key===b){if(b=y.type,b===ds){if(w.tag===7){n(m,w.sibling),v=i(w,y.props.children),v.return=m,m=v;break e}}else if(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pi&&Vk(b)===w.type){n(m,w.sibling),v=i(w,y.props),v.ref=vl(m,w,y),v.return=m,m=v;break e}n(m,w);break}else e(m,w);w=w.sibling}y.type===ds?(v=go(y.props.children,m.mode,k,y.key),v.return=m,m=v):(k=Cf(y.type,y.key,y.props,null,m.mode,k),k.ref=vl(m,v,y),k.return=m,m=k)}return s(m);case hs:e:{for(w=y.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(m,v.sibling),v=i(v,y.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=sg(y,m.mode,k),v.return=m,m=v}return s(m);case pi:return w=y._init,x(m,v,w(y._payload),k)}if(wl(y))return d(m,v,y,k);if(dl(y))return g(m,v,y,k);ff(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,y),v.return=m,m=v):(n(m,v),v=og(y,m.mode,k),v.return=m,m=v),s(m)):n(m,v)}return x}var Ls=cb(!0),fb=cb(!1),Bf=Mi(null),qf=null,ks=null,y0=null;function x0(){y0=ks=qf=null}function S0(t){var e=Bf.current;we(Bf),t._currentValue=e}function Dg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _s(t,e){qf=t,y0=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(y0!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(qf===null)throw Error(R(308));ks=t,qf.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var ho=null;function k0(t){ho===null?ho=[t]:ho.push(t)}function hb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,k0(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mi=!1;function w0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function db(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,k0(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function yf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}function Uk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vf(t,e,n,r){var i=t.updateQueue;mi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=t,g=a;switch(h=e,p=n,g.tag){case 1:if(d=g.payload,typeof d=="function"){f=d.call(p,f,h);break e}f=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=g.payload,h=typeof d=="function"?d.call(p,f,h):d,h==null)break e;f=Ie({},f,h);break e;case 2:mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);So|=s,t.lanes=s,t.memoizedState=f}}function zk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var eu={},ur=Mi(eu),Hl=Mi(eu),Gl=Mi(eu);function po(t){if(t===eu)throw Error(R(174));return t}function b0(t,e){switch(xe(Gl,e),xe(Hl,t),xe(ur,eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gg(e,t)}we(ur),xe(ur,e)}function Ns(){we(ur),we(Hl),we(Gl)}function pb(t){po(Gl.current);var e=po(ur.current),n=gg(e,t.type);e!==n&&(xe(Hl,t),xe(ur,n))}function C0(t){Hl.current===t&&(we(ur),we(Hl))}var Le=Mi(0);function Uf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jm=[];function E0(){for(var t=0;t<Jm.length;t++)Jm[t]._workInProgressVersionPrimary=null;Jm.length=0}var xf=Gr.ReactCurrentDispatcher,eg=Gr.ReactCurrentBatchConfig,xo=0,Ne=null,Xe=null,et=null,zf=!1,Rl=!1,Kl=0,o8=0;function yt(){throw Error(R(321))}function T0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function A0(t,e,n,r,i,o){if(xo=o,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xf.current=t===null||t.memoizedState===null?u8:c8,t=n(r,i),Rl){o=0;do{if(Rl=!1,Kl=0,25<=o)throw Error(R(301));o+=1,et=Xe=null,e.updateQueue=null,xf.current=f8,t=n(r,i)}while(Rl)}if(xf.current=Wf,e=Xe!==null&&Xe.next!==null,xo=0,et=Xe=Ne=null,zf=!1,e)throw Error(R(300));return t}function _0(){var t=Kl!==0;return Kl=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ne.memoizedState=et=t:et=et.next=t,et}function bn(){if(Xe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=et===null?Ne.memoizedState:et.next;if(e!==null)et=e,Xe=t;else{if(t===null)throw Error(R(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},et===null?Ne.memoizedState=et=t:et=et.next=t}return et}function $l(t,e){return typeof e=="function"?e(t):e}function tg(t){var e=bn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((xo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ne.lanes|=c,So|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,zn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ne.lanes|=o,So|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ng(t){var e=bn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);zn(o,e.memoizedState)||(zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function mb(){}function gb(t,e){var n=Ne,r=bn(),i=e(),o=!zn(r.memoizedState,i);if(o&&(r.memoizedState=i,zt=!0),r=r.queue,O0(xb.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Yl(9,yb.bind(null,n,r,i,e),void 0,null),tt===null)throw Error(R(349));xo&30||vb(n,e,i)}return i}function vb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yb(t,e,n,r){e.value=n,e.getSnapshot=r,Sb(e)&&kb(t)}function xb(t,e,n){return n(function(){Sb(e)&&kb(t)})}function Sb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function kb(t){var e=jr(t,1);e!==null&&Un(e,t,1,-1)}function Wk(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:t},e.queue=t,t=t.dispatch=l8.bind(null,Ne,t),[e.memoizedState,t]}function Yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wb(){return bn().memoizedState}function Sf(t,e,n,r){var i=sr();Ne.flags|=t,i.memoizedState=Yl(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var i=bn();r=r===void 0?null:r;var o=void 0;if(Xe!==null){var s=Xe.memoizedState;if(o=s.destroy,r!==null&&T0(r,s.deps)){i.memoizedState=Yl(e,n,o,r);return}}Ne.flags|=t,i.memoizedState=Yl(1|e,n,o,r)}function jk(t,e){return Sf(8390656,8,t,e)}function O0(t,e){return th(2048,8,t,e)}function bb(t,e){return th(4,2,t,e)}function Cb(t,e){return th(4,4,t,e)}function Eb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tb(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,Eb.bind(null,e,t),n)}function R0(){}function Ab(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _b(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ob(t,e,n){return xo&21?(zn(n,e)||(n=Nw(),Ne.lanes|=n,So|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function s8(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=eg.transition;eg.transition={};try{t(!1),e()}finally{ue=n,eg.transition=r}}function Rb(){return bn().memoizedState}function a8(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mb(t))Pb(e,n);else if(n=hb(t,e,n,r),n!==null){var i=Mt();Un(n,t,r,i),Lb(n,e,r)}}function l8(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mb(t))Pb(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,zn(a,s)){var l=e.interleaved;l===null?(i.next=i,k0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hb(t,e,i,r),n!==null&&(i=Mt(),Un(n,t,r,i),Lb(n,e,r))}}function Mb(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function Pb(t,e){Rl=zf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Lb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}var Wf={readContext:wn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},u8={readContext:wn,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:jk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sf(4194308,4,Eb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sf(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=a8.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:Wk,useDebugValue:R0,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=Wk(!1),e=t[0];return t=s8.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=sr();if(Ae){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),tt===null)throw Error(R(349));xo&30||vb(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,jk(xb.bind(null,r,o,t),[t]),r.flags|=2048,Yl(9,yb.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=sr(),e=tt.identifierPrefix;if(Ae){var n=Vr,r=qr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c8={readContext:wn,useCallback:Ab,useContext:wn,useEffect:O0,useImperativeHandle:Tb,useInsertionEffect:bb,useLayoutEffect:Cb,useMemo:_b,useReducer:tg,useRef:wb,useState:function(){return tg($l)},useDebugValue:R0,useDeferredValue:function(t){var e=bn();return Ob(e,Xe.memoizedState,t)},useTransition:function(){var t=tg($l)[0],e=bn().memoizedState;return[t,e]},useMutableSource:mb,useSyncExternalStore:gb,useId:Rb,unstable_isNewReconciler:!1},f8={readContext:wn,useCallback:Ab,useContext:wn,useEffect:O0,useImperativeHandle:Tb,useInsertionEffect:bb,useLayoutEffect:Cb,useMemo:_b,useReducer:ng,useRef:wb,useState:function(){return ng($l)},useDebugValue:R0,useDeferredValue:function(t){var e=bn();return Xe===null?e.memoizedState=t:Ob(e,Xe.memoizedState,t)},useTransition:function(){var t=ng($l)[0],e=bn().memoizedState;return[t,e]},useMutableSource:mb,useSyncExternalStore:gb,useId:Rb,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nh={isMounted:function(t){return(t=t._reactInternals)?bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Ti(t),o=Ur(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ci(t,o,i),e!==null&&(Un(e,t,i,r),yf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Ti(t),o=Ur(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ci(t,o,i),e!==null&&(Un(e,t,i,r),yf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Ti(t),i=Ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ci(t,i,r),e!==null&&(Un(e,t,r,n),yf(e,t,r))}};function Hk(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ul(n,r)||!Ul(i,o):!0}function Nb(t,e,n){var r=!1,i=Oi,o=e.contextType;return typeof o=="object"&&o!==null?o=wn(o):(i=jt(e)?vo:kt.current,r=e.contextTypes,o=(r=r!=null)?Ms(t,i):Oi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Gk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function Bg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},w0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=wn(o):(o=jt(e)?vo:kt.current,i.context=Ms(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Fg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nh.enqueueReplaceState(i,i.state,null),Vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e){try{var n="",r=e;do n+=UF(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function rg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var h8=typeof WeakMap=="function"?WeakMap:Map;function Ib(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hf||(Hf=!0,Yg=r),qg(t,e)},n}function Db(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qg(t,e),typeof r!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Kk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new h8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=T8.bind(null,t,e,n),e.then(t,t))}function $k(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var d8=Gr.ReactCurrentOwner,zt=!1;function Rt(t,e,n,r){e.child=t===null?fb(e,null,n,r):Ls(e,t.child,n,r)}function Xk(t,e,n,r,i){n=n.render;var o=e.ref;return _s(e,i),r=A0(t,e,n,r,o,i),n=_0(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hr(t,e,i)):(Ae&&n&&m0(e),e.flags|=1,Rt(t,e,r,i),e.child)}function Zk(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!B0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Fb(t,e,o,r,i)):(t=Cf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(s,r)&&t.ref===e.ref)return Hr(t,e,i)}return e.flags|=1,t=Ai(o,r),t.ref=e.ref,t.return=e,e.child=t}function Fb(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ul(o,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Hr(t,e,i)}return Vg(t,e,n,r,i)}function Bb(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(bs,Jt),Jt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(bs,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xe(bs,Jt),Jt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,xe(bs,Jt),Jt|=r;return Rt(t,e,i,n),e.child}function qb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vg(t,e,n,r,i){var o=jt(n)?vo:kt.current;return o=Ms(e,o),_s(e,i),n=A0(t,e,n,r,o,i),r=_0(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hr(t,e,i)):(Ae&&r&&m0(e),e.flags|=1,Rt(t,e,n,i),e.child)}function Qk(t,e,n,r,i){if(jt(n)){var o=!0;If(e)}else o=!1;if(_s(e,i),e.stateNode===null)kf(t,e),Nb(e,n,r),Bg(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=jt(n)?vo:kt.current,u=Ms(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gk(e,s,r,u),mi=!1;var h=e.memoizedState;s.state=h,Vf(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Wt.current||mi?(typeof c=="function"&&(Fg(e,n,c,r),l=e.memoizedState),(a=mi||Hk(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,db(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=jt(n)?vo:kt.current,l=Ms(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Gk(e,s,r,l),mi=!1,h=e.memoizedState,s.state=h,Vf(e,r,s,i);var d=e.memoizedState;a!==f||h!==d||Wt.current||mi?(typeof p=="function"&&(Fg(e,n,p,r),d=e.memoizedState),(u=mi||Hk(e,n,u,r,h,d,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ug(t,e,n,r,o,i)}function Ug(t,e,n,r,i,o){qb(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Fk(e,n,!1),Hr(t,e,o);r=e.stateNode,d8.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ls(e,t.child,null,o),e.child=Ls(e,null,a,o)):Rt(t,e,a,o),e.memoizedState=r.state,i&&Fk(e,n,!0),e.child}function Vb(t){var e=t.stateNode;e.pendingContext?Dk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dk(t,e.context,!1),b0(t,e.containerInfo)}function Jk(t,e,n,r,i){return Ps(),v0(i),e.flags|=256,Rt(t,e,n,r),e.child}var zg={dehydrated:null,treeContext:null,retryLane:0};function Wg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ub(t,e,n){var r=e.pendingProps,i=Le.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Le,i&1),t===null)return Ig(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=oh(s,r,0,null),t=go(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Wg(n),e.memoizedState=zg,t):M0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return p8(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ai(a,o):(o=go(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Wg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=zg,r}return o=t.child,t=o.sibling,r=Ai(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function M0(t,e){return e=oh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hf(t,e,n,r){return r!==null&&v0(r),Ls(e,t.child,null,n),t=M0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p8(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=rg(Error(R(422))),hf(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=oh({mode:"visible",children:r.children},i,0,null),o=go(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ls(e,t.child,null,s),e.child.memoizedState=Wg(s),e.memoizedState=zg,o);if(!(e.mode&1))return hf(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(R(419)),r=rg(o,r,void 0),hf(t,e,s,r)}if(a=(s&t.childLanes)!==0,zt||a){if(r=tt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jr(t,i),Un(r,t,i,-1))}return F0(),r=rg(Error(R(421))),hf(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=A8.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,en=bi(i.nextSibling),tn=e,Ae=!0,qn=null,t!==null&&(yn[xn++]=qr,yn[xn++]=Vr,yn[xn++]=yo,qr=t.id,Vr=t.overflow,yo=e),e=M0(e,r.children),e.flags|=4096,e)}function ew(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dg(t.return,e,n)}function ig(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zb(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Rt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ew(t,n,e);else if(t.tag===19)ew(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Uf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ig(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ig(e,!0,n,null,o);break;case"together":ig(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),So|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m8(t,e,n){switch(e.tag){case 3:Vb(e),Ps();break;case 5:pb(e);break;case 1:jt(e.type)&&If(e);break;case 4:b0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(Bf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?Ub(t,e,n):(xe(Le,Le.current&1),t=Hr(t,e,n),t!==null?t.sibling:null);xe(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,Bb(t,e,n)}return Hr(t,e,n)}var Wb,jg,jb,Hb;Wb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jg=function(){};jb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,po(ur.current);var o=null;switch(n){case"input":i=hg(t,i),r=hg(t,r),o=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),o=[];break;case"textarea":i=mg(t,i),r=mg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lf)}vg(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i?.[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Hb=function(t,e,n,r){n!==r&&(e.flags|=4)};function yl(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function g8(t,e,n){var r=e.pendingProps;switch(g0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return jt(e.type)&&Nf(),xt(e),null;case 3:return r=e.stateNode,Ns(),we(Wt),we(kt),E0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(Qg(qn),qn=null))),jg(t,e),xt(e),null;case 5:C0(e);var i=po(Gl.current);if(n=e.type,t!==null&&e.stateNode!=null)jb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return xt(e),null}if(t=po(ur.current),cf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ar]=e,r[jl]=o,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Cl.length;i++)ke(Cl[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":lk(r,o),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ke("invalid",r);break;case"textarea":ck(r,o),ke("invalid",r)}vg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&uf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&uf(r.textContent,a,t),i=["children",""+a]):Nl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ke("scroll",r)}switch(n){case"input":Xc(r),uk(r,o,!0);break;case"textarea":Xc(r),fk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Lf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ar]=e,t[jl]=r,Wb(t,e,!1,!1),e.stateNode=t;e:{switch(s=yg(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cl.length;i++)ke(Cl[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":lk(t,r),i=hg(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),ke("invalid",t);break;case"textarea":ck(t,r),i=mg(t,r),ke("invalid",t);break;default:i=r}vg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?ww(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(t,l):typeof l=="number"&&Il(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ke("scroll",t):l!=null&&t0(t,o,l,s))}switch(n){case"input":Xc(t),uk(t,r,!1);break;case"textarea":Xc(t),fk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Cs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Cs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)Hb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=po(Gl.current),po(ur.current),cf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(o=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:uf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return xt(e),null;case 13:if(we(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&en!==null&&e.mode&1&&!(e.flags&128))ub(),Ps(),e.flags|=98560,o=!1;else if(o=cf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(R(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[ar]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),o=!1}else qn!==null&&(Qg(qn),qn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Ze===0&&(Ze=3):F0())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Ns(),jg(t,e),t===null&&zl(e.stateNode.containerInfo),xt(e),null;case 10:return S0(e.type._context),xt(e),null;case 17:return jt(e.type)&&Nf(),xt(e),null;case 19:if(we(Le),o=e.memoizedState,o===null)return xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)yl(o,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Uf(t),s!==null){for(e.flags|=128,yl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Le,Le.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ve()>Ds&&(e.flags|=128,r=!0,yl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Uf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ae)return xt(e),null}else 2*Ve()-o.renderingStartTime>Ds&&n!==1073741824&&(e.flags|=128,r=!0,yl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ve(),e.sibling=null,n=Le.current,xe(Le,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return D0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function v8(t,e){switch(g0(e),e.tag){case 1:return jt(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ns(),we(Wt),we(kt),E0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C0(e),null;case 13:if(we(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Le),null;case 4:return Ns(),null;case 10:return S0(e.type._context),null;case 22:case 23:return D0(),null;case 24:return null;default:return null}}var df=!1,St=!1,y8=typeof WeakSet=="function"?WeakSet:Set,V=null;function ws(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Hg(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var tw=!1;function x8(t,e){if(_g=Rf,t=Xw(),p0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Og={focusedElem:t,selectionRange:n},Rf=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var d=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var g=d.memoizedProps,x=d.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Fn(e.type,g),x);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(k){Fe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return d=tw,tw=!1,d}function Ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Hg(e,n,o)}i=i.next}while(i!==r)}}function rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gb(t){var e=t.alternate;e!==null&&(t.alternate=null,Gb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[jl],delete e[Pg],delete e[t8],delete e[n8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kb(t){return t.tag===5||t.tag===3||t.tag===4}function nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lf));else if(r!==4&&(t=t.child,t!==null))for(Kg(t,e,n),t=t.sibling;t!==null;)Kg(t,e,n),t=t.sibling}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}var at=null,Bn=!1;function di(t,e,n){for(n=n.child;n!==null;)$b(t,e,n),n=n.sibling}function $b(t,e,n){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Yf,n)}catch{}switch(n.tag){case 5:St||ws(n,e);case 6:var r=at,i=Bn;at=null,di(t,e,n),at=r,Bn=i,at!==null&&(Bn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(Bn?(t=at,n=n.stateNode,t.nodeType===8?Zm(t.parentNode,n):t.nodeType===1&&Zm(t,n),ql(t)):Zm(at,n.stateNode));break;case 4:r=at,i=Bn,at=n.stateNode.containerInfo,Bn=!0,di(t,e,n),at=r,Bn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Hg(n,e,s),i=i.next}while(i!==r)}di(t,e,n);break;case 1:if(!St&&(ws(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}di(t,e,n);break;case 21:di(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,di(t,e,n),St=r):di(t,e,n);break;default:di(t,e,n)}}function rw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new y8),e.forEach(function(r){var i=_8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,Bn=!1;break e;case 3:at=a.stateNode.containerInfo,Bn=!0;break e;case 4:at=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(at===null)throw Error(R(160));$b(o,s,i),at=null,Bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yb(e,t),e=e.sibling}function Yb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),or(t),r&4){try{Ml(3,t,t.return),rh(3,t)}catch(g){Fe(t,t.return,g)}try{Ml(5,t,t.return)}catch(g){Fe(t,t.return,g)}}break;case 1:Dn(e,t),or(t),r&512&&n!==null&&ws(n,n.return);break;case 5:if(Dn(e,t),or(t),r&512&&n!==null&&ws(n,n.return),t.flags&32){var i=t.stateNode;try{Il(i,"")}catch(g){Fe(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&vw(i,o),yg(a,s);var u=yg(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?ww(i,f):c==="dangerouslySetInnerHTML"?Sw(i,f):c==="children"?Il(i,f):t0(i,c,f,u)}switch(a){case"input":dg(i,o);break;case"textarea":yw(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Cs(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Cs(i,!!o.multiple,o.defaultValue,!0):Cs(i,!!o.multiple,o.multiple?[]:"",!1))}i[jl]=o}catch(g){Fe(t,t.return,g)}}break;case 6:if(Dn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Fe(t,t.return,g)}}break;case 3:if(Dn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(g){Fe(t,t.return,g)}break;case 4:Dn(e,t),or(t);break;case 13:Dn(e,t),or(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(N0=Ve())),r&4&&rw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(St=(u=St)||c,Dn(e,t),St=u):Dn(e,t),or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(V=t,c=t.child;c!==null;){for(f=V=c;V!==null;){switch(h=V,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ml(4,h,h.return);break;case 1:ws(h,h.return);var d=h.stateNode;if(typeof d.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,d.props=e.memoizedProps,d.state=e.memoizedState,d.componentWillUnmount()}catch(g){Fe(r,n,g)}}break;case 5:ws(h,h.return);break;case 22:if(h.memoizedState!==null){ow(f);continue}}p!==null?(p.return=h,V=p):ow(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kw("display",s))}catch(g){Fe(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Fe(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),or(t),r&4&&rw(t);break;case 21:break;default:Dn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kb(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Il(i,""),r.flags&=-33);var o=nw(t);$g(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=nw(t);Kg(t,a,s);break;default:throw Error(R(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S8(t,e,n){V=t,Xb(t,e,n)}function Xb(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||df;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=df;var u=St;if(df=s,(St=l)&&!u)for(V=i;V!==null;)s=V,l=s.child,s.tag===22&&s.memoizedState!==null?sw(i):l!==null?(l.return=s,V=l):sw(i);for(;o!==null;)V=o,Xb(o,e,n),o=o.sibling;V=i,df=a,St=u}iw(t,e,n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,V=o):iw(t,e,n)}}function iw(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&zk(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zk(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}St||e.flags&512&&Gg(e)}catch(h){Fe(e,e.return,h)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function ow(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function sw(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rh(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var o=e.return;try{Gg(e)}catch(l){Fe(e,o,l)}break;case 5:var s=e.return;try{Gg(e)}catch(l){Fe(e,s,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var k8=Math.ceil,jf=Gr.ReactCurrentDispatcher,P0=Gr.ReactCurrentOwner,kn=Gr.ReactCurrentBatchConfig,te=0,tt=null,We=null,lt=0,Jt=0,bs=Mi(0),Ze=0,Xl=null,So=0,ih=0,L0=0,Pl=null,Ut=null,N0=0,Ds=1/0,Fr=null,Hf=!1,Yg=null,Ei=null,pf=!1,xi=null,Gf=0,Ll=0,Xg=null,wf=-1,bf=0;function Mt(){return te&6?Ve():wf!==-1?wf:wf=Ve()}function Ti(t){return t.mode&1?te&2&&lt!==0?lt&-lt:i8.transition!==null?(bf===0&&(bf=Nw()),bf):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Uw(t.type)),t):1}function Un(t,e,n,r){if(50<Ll)throw Ll=0,Xg=null,Error(R(185));Zl(t,n,r),(!(te&2)||t!==tt)&&(t===tt&&(!(te&2)&&(ih|=n),Ze===4&&vi(t,lt)),Ht(t,r),n===1&&te===0&&!(e.mode&1)&&(Ds=Ve()+500,eh&&Pi()))}function Ht(t,e){var n=t.callbackNode;s5(t,e);var r=Of(t,t===tt?lt:0);if(r===0)n!==null&&pk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pk(n),e===1)t.tag===0?r8(aw.bind(null,t)):sb(aw.bind(null,t)),J5(function(){!(te&6)&&Pi()}),n=null;else{switch(Iw(r)){case 1:n=s0;break;case 4:n=Pw;break;case 16:n=_f;break;case 536870912:n=Lw;break;default:n=_f}n=iC(n,Zb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zb(t,e){if(wf=-1,bf=0,te&6)throw Error(R(327));var n=t.callbackNode;if(Os()&&t.callbackNode!==n)return null;var r=Of(t,t===tt?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kf(t,r);else{e=r;var i=te;te|=2;var o=Jb();(tt!==t||lt!==e)&&(Fr=null,Ds=Ve()+500,mo(t,e));do try{C8();break}catch(a){Qb(t,a)}while(!0);x0(),jf.current=o,te=i,We!==null?e=0:(tt=null,lt=0,e=Ze)}if(e!==0){if(e===2&&(i=bg(t),i!==0&&(r=i,e=Zg(t,i))),e===1)throw n=Xl,mo(t,0),vi(t,r),Ht(t,Ve()),n;if(e===6)vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!w8(i)&&(e=Kf(t,r),e===2&&(o=bg(t),o!==0&&(r=o,e=Zg(t,o))),e===1))throw n=Xl,mo(t,0),vi(t,r),Ht(t,Ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:co(t,Ut,Fr);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=N0+500-Ve(),10<e)){if(Of(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mg(co.bind(null,t,Ut,Fr),e);break}co(t,Ut,Fr);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Vn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k8(r/1960))-r,10<r){t.timeoutHandle=Mg(co.bind(null,t,Ut,Fr),r);break}co(t,Ut,Fr);break;case 5:co(t,Ut,Fr);break;default:throw Error(R(329))}}}return Ht(t,Ve()),t.callbackNode===n?Zb.bind(null,t):null}function Zg(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(mo(t,e).flags|=256),t=Kf(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Qg(e)),t}function Qg(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function w8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!zn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~L0,e&=~ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function aw(t){if(te&6)throw Error(R(327));Os();var e=Of(t,0);if(!(e&1))return Ht(t,Ve()),null;var n=Kf(t,e);if(t.tag!==0&&n===2){var r=bg(t);r!==0&&(e=r,n=Zg(t,r))}if(n===1)throw n=Xl,mo(t,0),vi(t,e),Ht(t,Ve()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,co(t,Ut,Fr),Ht(t,Ve()),null}function I0(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Ds=Ve()+500,eh&&Pi())}}function ko(t){xi!==null&&xi.tag===0&&!(te&6)&&Os();var e=te;te|=1;var n=kn.transition,r=ue;try{if(kn.transition=null,ue=1,t)return t()}finally{ue=r,kn.transition=n,te=e,!(te&6)&&Pi()}}function D0(){Jt=bs.current,we(bs)}function mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q5(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(g0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nf();break;case 3:Ns(),we(Wt),we(kt),E0();break;case 5:C0(r);break;case 4:Ns();break;case 13:we(Le);break;case 19:we(Le);break;case 10:S0(r.type._context);break;case 22:case 23:D0()}n=n.return}if(tt=t,We=t=Ai(t.current,null),lt=Jt=e,Ze=0,Xl=null,L0=ih=So=0,Ut=Pl=null,ho!==null){for(e=0;e<ho.length;e++)if(n=ho[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ho=null}return t}function Qb(t,e){do{var n=We;try{if(x0(),xf.current=Wf,zf){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zf=!1}if(xo=0,et=Xe=Ne=null,Rl=!1,Kl=0,P0.current=null,n===null||n.return===null){Ze=1,Xl=e,We=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=$k(s);if(p!==null){p.flags&=-257,Yk(p,s,a,o,e),p.mode&1&&Kk(o,u,e),e=p,l=u;var d=e.updateQueue;if(d===null){var g=new Set;g.add(l),e.updateQueue=g}else d.add(l);break e}else{if(!(e&1)){Kk(o,u,e),F0();break e}l=Error(R(426))}}else if(Ae&&a.mode&1){var x=$k(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Yk(x,s,a,o,e),v0(Is(l,a));break e}}o=l=Is(l,a),Ze!==4&&(Ze=2),Pl===null?Pl=[o]:Pl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Ib(o,l,e);Uk(o,m);break e;case 1:a=l;var v=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ei===null||!Ei.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=Db(o,a,e);Uk(o,k);break e}}o=o.return}while(o!==null)}tC(n)}catch(b){e=b,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function Jb(){var t=jf.current;return jf.current=Wf,t===null?Wf:t}function F0(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),tt===null||!(So&268435455)&&!(ih&268435455)||vi(tt,lt)}function Kf(t,e){var n=te;te|=2;var r=Jb();(tt!==t||lt!==e)&&(Fr=null,mo(t,e));do try{b8();break}catch(i){Qb(t,i)}while(!0);if(x0(),te=n,jf.current=r,We!==null)throw Error(R(261));return tt=null,lt=0,Ze}function b8(){for(;We!==null;)eC(We)}function C8(){for(;We!==null&&!ZF();)eC(We)}function eC(t){var e=rC(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?tC(t):We=e,P0.current=null}function tC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v8(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,We=null;return}}else if(n=g8(n,e,Jt),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Ze===0&&(Ze=5)}function co(t,e,n){var r=ue,i=kn.transition;try{kn.transition=null,ue=1,E8(t,e,n,r)}finally{kn.transition=i,ue=r}return null}function E8(t,e,n,r){do Os();while(xi!==null);if(te&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(a5(t,o),t===tt&&(We=tt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pf||(pf=!0,iC(_f,function(){return Os(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kn.transition,kn.transition=null;var s=ue;ue=1;var a=te;te|=4,P0.current=null,x8(t,n),Yb(n,t),K5(Og),Rf=!!_g,Og=_g=null,t.current=n,S8(n,t,i),QF(),te=a,ue=s,kn.transition=o}else t.current=n;if(pf&&(pf=!1,xi=t,Gf=i),o=t.pendingLanes,o===0&&(Ei=null),t5(n.stateNode,r),Ht(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hf)throw Hf=!1,t=Yg,Yg=null,t;return Gf&1&&t.tag!==0&&Os(),o=t.pendingLanes,o&1?t===Xg?Ll++:(Ll=0,Xg=t):Ll=0,Pi(),null}function Os(){if(xi!==null){var t=Iw(Gf),e=kn.transition,n=ue;try{if(kn.transition=null,ue=16>t?16:t,xi===null)var r=!1;else{if(t=xi,xi=null,Gf=0,te&6)throw Error(R(331));var i=te;for(te|=4,V=t.current;V!==null;){var o=V,s=o.child;if(V.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:Ml(8,c,o)}var f=c.child;if(f!==null)f.return=c,V=f;else for(;V!==null;){c=V;var h=c.sibling,p=c.return;if(Gb(c),c===u){V=null;break}if(h!==null){h.return=p,V=h;break}V=p}}}var d=o.alternate;if(d!==null){var g=d.child;if(g!==null){d.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}V=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,V=s;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ml(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,V=m;break e}V=o.return}}var v=t.current;for(V=v;V!==null;){s=V;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,V=y;else e:for(s=v;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rh(9,a)}}catch(b){Fe(a,a.return,b)}if(a===s){V=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,V=k;break e}V=a.return}}if(te=i,Pi(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Yf,t)}catch{}r=!0}return r}finally{ue=n,kn.transition=e}}return!1}function lw(t,e,n){e=Is(n,e),e=Ib(t,e,1),t=Ci(t,e,1),e=Mt(),t!==null&&(Zl(t,1,e),Ht(t,e))}function Fe(t,e,n){if(t.tag===3)lw(t,t,n);else for(;e!==null;){if(e.tag===3){lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ei===null||!Ei.has(r))){t=Is(n,t),t=Db(e,t,1),e=Ci(e,t,1),t=Mt(),e!==null&&(Zl(e,1,t),Ht(e,t));break}}e=e.return}}function T8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(lt&n)===n&&(Ze===4||Ze===3&&(lt&130023424)===lt&&500>Ve()-N0?mo(t,0):L0|=n),Ht(t,e)}function nC(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=Mt();t=jr(t,e),t!==null&&(Zl(t,e,n),Ht(t,n))}function A8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nC(t,n)}function _8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),nC(t,n)}var rC;rC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,m8(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Ae&&e.flags&1048576&&ab(e,Ff,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kf(t,e),t=e.pendingProps;var i=Ms(e,kt.current);_s(e,n),i=A0(null,e,r,t,i,n);var o=_0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(o=!0,If(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w0(e),i.updater=nh,e.stateNode=i,i._reactInternals=e,Bg(e,r,t,n),e=Ug(null,e,r,!0,o,n)):(e.tag=0,Ae&&o&&m0(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R8(r),t=Fn(r,t),i){case 0:e=Vg(null,e,r,t,n);break e;case 1:e=Qk(null,e,r,t,n);break e;case 11:e=Xk(null,e,r,t,n);break e;case 14:e=Zk(null,e,r,Fn(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Vg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Qk(t,e,r,i,n);case 3:e:{if(Vb(e),t===null)throw Error(R(387));r=e.pendingProps,o=e.memoizedState,i=o.element,db(t,e),Vf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Is(Error(R(423)),e),e=Jk(t,e,r,n,i);break e}else if(r!==i){i=Is(Error(R(424)),e),e=Jk(t,e,r,n,i);break e}else for(en=bi(e.stateNode.containerInfo.firstChild),tn=e,Ae=!0,qn=null,n=fb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===i){e=Hr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return pb(e),t===null&&Ig(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Rg(r,i)?s=null:o!==null&&Rg(r,o)&&(e.flags|=32),qb(t,e),Rt(t,e,s,n),e.child;case 6:return t===null&&Ig(e),null;case 13:return Ub(t,e,n);case 4:return b0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ls(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Xk(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,xe(Bf,r._currentValue),r._currentValue=s,o!==null)if(zn(o.value,s)){if(o.children===i.children&&!Wt.current){e=Hr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ur(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dg(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Dg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_s(e,n),i=wn(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),Zk(t,e,r,i,n);case 15:return Fb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),kf(t,e),e.tag=1,jt(r)?(t=!0,If(e)):t=!1,_s(e,n),Nb(e,r,i),Bg(e,r,i,n),Ug(null,e,r,!0,t,n);case 19:return zb(t,e,n);case 22:return Bb(t,e,n)}throw Error(R(156,e.tag))};function iC(t,e){return Mw(t,e)}function O8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new O8(t,e,n,r)}function B0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R8(t){if(typeof t=="function")return B0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r0)return 11;if(t===i0)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")B0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ds:return go(n.children,i,o,e);case n0:s=8,i|=8;break;case lg:return t=Sn(12,n,e,i|2),t.elementType=lg,t.lanes=o,t;case ug:return t=Sn(13,n,e,i),t.elementType=ug,t.lanes=o,t;case cg:return t=Sn(19,n,e,i),t.elementType=cg,t.lanes=o,t;case pw:return oh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hw:s=10;break e;case dw:s=9;break e;case r0:s=11;break e;case i0:s=14;break e;case pi:s=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Sn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function go(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function oh(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=pw,t.lanes=n,t.stateNode={isHidden:!1},t}function og(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function sg(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wm(0),this.expirationTimes=Wm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function q0(t,e,n,r,i,o,s,a,l){return t=new M8(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Sn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w0(o),t}function P8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oC(t){if(!t)return Oi;t=t._reactInternals;e:{if(bo(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(jt(n))return ob(t,n,e)}return e}function sC(t,e,n,r,i,o,s,a,l){return t=q0(n,r,!0,t,i,o,s,a,l),t.context=oC(null),n=t.current,r=Mt(),i=Ti(n),o=Ur(r,i),o.callback=e??null,Ci(n,o,i),t.current.lanes=i,Zl(t,i,r),Ht(t,r),t}function sh(t,e,n,r){var i=e.current,o=Mt(),s=Ti(i);return n=oC(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ci(i,e,s),t!==null&&(Un(t,i,s,o),yf(t,i,s)),s}function $f(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function V0(t,e){uw(t,e),(t=t.alternate)&&uw(t,e)}function L8(){return null}var aC=typeof reportError=="function"?reportError:function(t){console.error(t)};function U0(t){this._internalRoot=t}ah.prototype.render=U0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));sh(t,e,null,null)};ah.prototype.unmount=U0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ko(function(){sh(null,t,null,null)}),e[Wr]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gi.length&&e!==0&&e<gi[n].priority;n++);gi.splice(n,0,t),n===0&&Vw(t)}};function z0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cw(){}function N8(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=$f(s);o.call(u)}}var s=sC(e,r,t,0,null,!1,!1,"",cw);return t._reactRootContainer=s,t[Wr]=s.current,zl(t.nodeType===8?t.parentNode:t),ko(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$f(l);a.call(u)}}var l=q0(t,0,!1,null,null,!1,!1,"",cw);return t._reactRootContainer=l,t[Wr]=l.current,zl(t.nodeType===8?t.parentNode:t),ko(function(){sh(e,l,n,r)}),l}function uh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=$f(s);a.call(l)}}sh(e,s,t,i)}else s=N8(n,e,t,i,r);return $f(s)}Dw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bl(e.pendingLanes);n!==0&&(a0(e,n|1),Ht(e,Ve()),!(te&6)&&(Ds=Ve()+500,Pi()))}break;case 13:ko(function(){var r=jr(t,1);if(r!==null){var i=Mt();Un(r,t,1,i)}}),V0(t,1)}};l0=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Mt();Un(e,t,134217728,n)}V0(t,134217728)}};Fw=function(t){if(t.tag===13){var e=Ti(t),n=jr(t,e);if(n!==null){var r=Mt();Un(n,t,e,r)}V0(t,e)}};Bw=function(){return ue};qw=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Sg=function(t,e,n){switch(e){case"input":if(dg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jf(r);if(!i)throw Error(R(90));gw(r),dg(r,i)}}}break;case"textarea":yw(t,n);break;case"select":e=n.value,e!=null&&Cs(t,!!n.multiple,e,!1)}};Ew=I0;Tw=ko;var I8={usingClientEntryPoint:!1,Events:[Jl,vs,Jf,bw,Cw,I0]},xl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D8={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ow(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||L8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Sl.isDisabled&&Sl.supportsFiber))try{Yf=Sl.inject(D8),lr=Sl}catch{}var Sl;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I8;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z0(e))throw Error(R(200));return P8(t,e,null,n)};on.createRoot=function(t,e){if(!z0(t))throw Error(R(299));var n=!1,r="",i=aC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=q0(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,zl(t.nodeType===8?t.parentNode:t),new U0(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Ow(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return ko(t)};on.hydrate=function(t,e,n){if(!lh(e))throw Error(R(200));return uh(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!z0(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=aC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=sC(e,null,t,1,n??null,i,!1,o,s),t[Wr]=e.current,zl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ah(e)};on.render=function(t,e,n){if(!lh(e))throw Error(R(200));return uh(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!lh(t))throw Error(R(40));return t._reactRootContainer?(ko(function(){uh(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};on.unstable_batchedUpdates=I0;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lh(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return uh(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426"});var fC=S((vue,cC)=>{"use strict";function uC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uC)}catch(t){console.error(t)}}uC(),cC.exports=lC()});var dC=S(W0=>{"use strict";var hC=fC();W0.createRoot=hC.createRoot,W0.hydrateRoot=hC.hydrateRoot;var yue});var h_=S(Hd=>{"use strict";var TU=ao(),AU=Symbol.for("react.element"),_U=Symbol.for("react.fragment"),OU=Object.prototype.hasOwnProperty,RU=TU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MU={key:!0,ref:!0,__self:!0,__source:!0};function f_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)OU.call(e,r)&&!MU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AU,type:t,key:o,ref:s,props:i,_owner:RU.current}}Hd.Fragment=_U;Hd.jsx=f_;Hd.jsxs=f_});var la=S((sfe,d_)=>{"use strict";d_.exports=h_()});var C1=S(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.VERSION=void 0;Gd.VERSION="10.5.0"});var ua=S((xfe,v_)=>{var LU=Object.prototype;function NU(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||LU;return t===n}v_.exports=NU});var E1=S((Sfe,y_)=>{function IU(t,e){return function(n){return t(e(n))}}y_.exports=IU});var S_=S((kfe,x_)=>{var DU=E1(),FU=DU(Object.keys,Object);x_.exports=FU});var T1=S((wfe,k_)=>{var BU=ua(),qU=S_(),VU=Object.prototype,UU=VU.hasOwnProperty;function zU(t){if(!BU(t))return qU(t);var e=[];for(var n in Object(t))UU.call(t,n)&&n!="constructor"&&e.push(n);return e}k_.exports=zU});var A1=S((bfe,w_)=>{var WU=typeof window=="object"&&window&&window.Object===Object&&window;w_.exports=WU});var Xn=S((Cfe,b_)=>{var jU=A1(),HU=typeof self=="object"&&self&&self.Object===Object&&self,GU=jU||HU||Function("return this")();b_.exports=GU});var Ko=S((Efe,C_)=>{var KU=Xn(),$U=KU.Symbol;C_.exports=$U});var __=S((Tfe,A_)=>{var E_=Ko(),T_=Object.prototype,YU=T_.hasOwnProperty,XU=T_.toString,Zu=E_?E_.toStringTag:void 0;function ZU(t){var e=YU.call(t,Zu),n=t[Zu];try{t[Zu]=void 0;var r=!0}catch{}var i=XU.call(t);return r&&(e?t[Zu]=n:delete t[Zu]),i}A_.exports=ZU});var R_=S((Afe,O_)=>{var QU=Object.prototype,JU=QU.toString;function ez(t){return JU.call(t)}O_.exports=ez});var Ki=S((_fe,L_)=>{var M_=Ko(),tz=__(),nz=R_(),rz="[object Null]",iz="[object Undefined]",P_=M_?M_.toStringTag:void 0;function oz(t){return t==null?t===void 0?iz:rz:P_&&P_ in Object(t)?tz(t):nz(t)}L_.exports=oz});var Zn=S((Ofe,N_)=>{function sz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}N_.exports=sz});var ca=S((Rfe,I_)=>{var az=Ki(),lz=Zn(),uz="[object AsyncFunction]",cz="[object Function]",fz="[object GeneratorFunction]",hz="[object Proxy]";function dz(t){if(!lz(t))return!1;var e=az(t);return e==cz||e==fz||e==uz||e==hz}I_.exports=dz});var F_=S((Mfe,D_)=>{var pz=Xn(),mz=pz["__core-js_shared__"];D_.exports=mz});var V_=S((Pfe,q_)=>{var _1=F_(),B_=function(){var t=/[^.]+$/.exec(_1&&_1.keys&&_1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gz(t){return!!B_&&B_ in t}q_.exports=gz});var O1=S((Lfe,U_)=>{var vz=Function.prototype,yz=vz.toString;function xz(t){if(t!=null){try{return yz.call(t)}catch{}try{return t+""}catch{}}return""}U_.exports=xz});var W_=S((Nfe,z_)=>{var Sz=ca(),kz=V_(),wz=Zn(),bz=O1(),Cz=/[\\^$.*+?()[\]{}|]/g,Ez=/^\[object .+?Constructor\]$/,Tz=Function.prototype,Az=Object.prototype,_z=Tz.toString,Oz=Az.hasOwnProperty,Rz=RegExp("^"+_z.call(Oz).replace(Cz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mz(t){if(!wz(t)||kz(t))return!1;var e=Sz(t)?Rz:Ez;return e.test(bz(t))}z_.exports=Mz});var H_=S((Ife,j_)=>{function Pz(t,e){return t?.[e]}j_.exports=Pz});var $i=S((Dfe,G_)=>{var Lz=W_(),Nz=H_();function Iz(t,e){var n=Nz(t,e);return Lz(n)?n:void 0}G_.exports=Iz});var $_=S((Ffe,K_)=>{var Dz=$i(),Fz=Xn(),Bz=Dz(Fz,"DataView");K_.exports=Bz});var Kd=S((Bfe,Y_)=>{var qz=$i(),Vz=Xn(),Uz=qz(Vz,"Map");Y_.exports=Uz});var Z_=S((qfe,X_)=>{var zz=$i(),Wz=Xn(),jz=zz(Wz,"Promise");X_.exports=jz});var R1=S((Vfe,Q_)=>{var Hz=$i(),Gz=Xn(),Kz=Hz(Gz,"Set");Q_.exports=Kz});var eO=S((Ufe,J_)=>{var $z=$i(),Yz=Xn(),Xz=$z(Yz,"WeakMap");J_.exports=Xz});var ha=S((zfe,aO)=>{var M1=$_(),P1=Kd(),L1=Z_(),N1=R1(),I1=eO(),sO=Ki(),fa=O1(),tO="[object Map]",Zz="[object Object]",nO="[object Promise]",rO="[object Set]",iO="[object WeakMap]",oO="[object DataView]",Qz=fa(M1),Jz=fa(P1),eW=fa(L1),tW=fa(N1),nW=fa(I1),$o=sO;(M1&&$o(new M1(new ArrayBuffer(1)))!=oO||P1&&$o(new P1)!=tO||L1&&$o(L1.resolve())!=nO||N1&&$o(new N1)!=rO||I1&&$o(new I1)!=iO)&&($o=function(t){var e=sO(t),n=e==Zz?t.constructor:void 0,r=n?fa(n):"";if(r)switch(r){case Qz:return oO;case Jz:return tO;case eW:return nO;case tW:return rO;case nW:return iO}return e});aO.exports=$o});var Qn=S((Wfe,lO)=>{function rW(t){return t!=null&&typeof t=="object"}lO.exports=rW});var cO=S((jfe,uO)=>{var iW=Ki(),oW=Qn(),sW="[object Arguments]";function aW(t){return oW(t)&&iW(t)==sW}uO.exports=aW});var Qu=S((Hfe,dO)=>{var fO=cO(),lW=Qn(),hO=Object.prototype,uW=hO.hasOwnProperty,cW=hO.propertyIsEnumerable,fW=fO(function(){return arguments}())?fO:function(t){return lW(t)&&uW.call(t,"callee")&&!cW.call(t,"callee")};dO.exports=fW});var ce=S((Gfe,pO)=>{var hW=Array.isArray;pO.exports=hW});var $d=S((Kfe,mO)=>{var dW=9007199254740991;function pW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dW}mO.exports=pW});var Jn=S(($fe,gO)=>{var mW=ca(),gW=$d();function vW(t){return t!=null&&gW(t.length)&&!mW(t)}gO.exports=vW});var yO=S((Yfe,vO)=>{function yW(){return!1}vO.exports=yW});var ec=S((Ju,da)=>{var xW=Xn(),SW=yO(),kO=typeof Ju=="object"&&Ju&&!Ju.nodeType&&Ju,xO=kO&&typeof da=="object"&&da&&!da.nodeType&&da,kW=xO&&xO.exports===kO,SO=kW?xW.Buffer:void 0,wW=SO?SO.isBuffer:void 0,bW=wW||SW;da.exports=bW});var bO=S((Xfe,wO)=>{var CW=Ki(),EW=$d(),TW=Qn(),AW="[object Arguments]",_W="[object Array]",OW="[object Boolean]",RW="[object Date]",MW="[object Error]",PW="[object Function]",LW="[object Map]",NW="[object Number]",IW="[object Object]",DW="[object RegExp]",FW="[object Set]",BW="[object String]",qW="[object WeakMap]",VW="[object ArrayBuffer]",UW="[object DataView]",zW="[object Float32Array]",WW="[object Float64Array]",jW="[object Int8Array]",HW="[object Int16Array]",GW="[object Int32Array]",KW="[object Uint8Array]",$W="[object Uint8ClampedArray]",YW="[object Uint16Array]",XW="[object Uint32Array]",Ce={};Ce[zW]=Ce[WW]=Ce[jW]=Ce[HW]=Ce[GW]=Ce[KW]=Ce[$W]=Ce[YW]=Ce[XW]=!0;Ce[AW]=Ce[_W]=Ce[VW]=Ce[OW]=Ce[UW]=Ce[RW]=Ce[MW]=Ce[PW]=Ce[LW]=Ce[NW]=Ce[IW]=Ce[DW]=Ce[FW]=Ce[BW]=Ce[qW]=!1;function ZW(t){return TW(t)&&EW(t.length)&&!!Ce[CW(t)]}wO.exports=ZW});var pa=S((Zfe,CO)=>{function QW(t){return function(e){return t(e)}}CO.exports=QW});var rc=S((tc,ma)=>{var JW=A1(),EO=typeof tc=="object"&&tc&&!tc.nodeType&&tc,nc=EO&&typeof ma=="object"&&ma&&!ma.nodeType&&ma,ej=nc&&nc.exports===EO,D1=ej&&JW.process,tj=function(){try{var t=nc&&nc.require&&nc.require("util").types;return t||D1&&D1.binding&&D1.binding("util")}catch{}}();ma.exports=tj});var Yd=S((Qfe,_O)=>{var nj=bO(),rj=pa(),TO=rc(),AO=TO&&TO.isTypedArray,ij=AO?rj(AO):nj;_O.exports=ij});var Rn=S((Jfe,OO)=>{var oj=T1(),sj=ha(),aj=Qu(),lj=ce(),uj=Jn(),cj=ec(),fj=ua(),hj=Yd(),dj="[object Map]",pj="[object Set]",mj=Object.prototype,gj=mj.hasOwnProperty;function vj(t){if(t==null)return!0;if(uj(t)&&(lj(t)||typeof t=="string"||typeof t.splice=="function"||cj(t)||hj(t)||aj(t)))return!t.length;var e=sj(t);if(e==dj||e==pj)return!t.size;if(fj(t))return!oj(t).length;for(var n in t)if(gj.call(t,n))return!1;return!0}OO.exports=vj});var ga=S((ehe,RO)=>{function yj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}RO.exports=yj});var PO=S((the,MO)=>{function xj(){this.__data__=[],this.size=0}MO.exports=xj});var va=S((nhe,LO)=>{function Sj(t,e){return t===e||t!==t&&e!==e}LO.exports=Sj});var ic=S((rhe,NO)=>{var kj=va();function wj(t,e){for(var n=t.length;n--;)if(kj(t[n][0],e))return n;return-1}NO.exports=wj});var DO=S((ihe,IO)=>{var bj=ic(),Cj=Array.prototype,Ej=Cj.splice;function Tj(t){var e=this.__data__,n=bj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ej.call(e,n,1),--this.size,!0}IO.exports=Tj});var BO=S((ohe,FO)=>{var Aj=ic();function _j(t){var e=this.__data__,n=Aj(e,t);return n<0?void 0:e[n][1]}FO.exports=_j});var VO=S((she,qO)=>{var Oj=ic();function Rj(t){return Oj(this.__data__,t)>-1}qO.exports=Rj});var zO=S((ahe,UO)=>{var Mj=ic();function Pj(t,e){var n=this.__data__,r=Mj(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}UO.exports=Pj});var oc=S((lhe,WO)=>{var Lj=PO(),Nj=DO(),Ij=BO(),Dj=VO(),Fj=zO();function ya(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ya.prototype.clear=Lj;ya.prototype.delete=Nj;ya.prototype.get=Ij;ya.prototype.has=Dj;ya.prototype.set=Fj;WO.exports=ya});var HO=S((uhe,jO)=>{var Bj=oc();function qj(){this.__data__=new Bj,this.size=0}jO.exports=qj});var KO=S((che,GO)=>{function Vj(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}GO.exports=Vj});var YO=S((fhe,$O)=>{function Uj(t){return this.__data__.get(t)}$O.exports=Uj});var ZO=S((hhe,XO)=>{function zj(t){return this.__data__.has(t)}XO.exports=zj});var sc=S((dhe,QO)=>{var Wj=$i(),jj=Wj(Object,"create");QO.exports=jj});var tR=S((phe,eR)=>{var JO=sc();function Hj(){this.__data__=JO?JO(null):{},this.size=0}eR.exports=Hj});var rR=S((mhe,nR)=>{function Gj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}nR.exports=Gj});var oR=S((ghe,iR)=>{var Kj=sc(),$j="__lodash_hash_undefined__",Yj=Object.prototype,Xj=Yj.hasOwnProperty;function Zj(t){var e=this.__data__;if(Kj){var n=e[t];return n===$j?void 0:n}return Xj.call(e,t)?e[t]:void 0}iR.exports=Zj});var aR=S((vhe,sR)=>{var Qj=sc(),Jj=Object.prototype,eH=Jj.hasOwnProperty;function tH(t){var e=this.__data__;return Qj?e[t]!==void 0:eH.call(e,t)}sR.exports=tH});var uR=S((yhe,lR)=>{var nH=sc(),rH="__lodash_hash_undefined__";function iH(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nH&&e===void 0?rH:e,this}lR.exports=iH});var fR=S((xhe,cR)=>{var oH=tR(),sH=rR(),aH=oR(),lH=aR(),uH=uR();function xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xa.prototype.clear=oH;xa.prototype.delete=sH;xa.prototype.get=aH;xa.prototype.has=lH;xa.prototype.set=uH;cR.exports=xa});var pR=S((She,dR)=>{var hR=fR(),cH=oc(),fH=Kd();function hH(){this.size=0,this.__data__={hash:new hR,map:new(fH||cH),string:new hR}}dR.exports=hH});var gR=S((khe,mR)=>{function dH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}mR.exports=dH});var ac=S((whe,vR)=>{var pH=gR();function mH(t,e){var n=t.__data__;return pH(e)?n[typeof e=="string"?"string":"hash"]:n.map}vR.exports=mH});var xR=S((bhe,yR)=>{var gH=ac();function vH(t){var e=gH(this,t).delete(t);return this.size-=e?1:0,e}yR.exports=vH});var kR=S((Che,SR)=>{var yH=ac();function xH(t){return yH(this,t).get(t)}SR.exports=xH});var bR=S((Ehe,wR)=>{var SH=ac();function kH(t){return SH(this,t).has(t)}wR.exports=kH});var ER=S((The,CR)=>{var wH=ac();function bH(t,e){var n=wH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}CR.exports=bH});var Xd=S((Ahe,TR)=>{var CH=pR(),EH=xR(),TH=kR(),AH=bR(),_H=ER();function Sa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sa.prototype.clear=CH;Sa.prototype.delete=EH;Sa.prototype.get=TH;Sa.prototype.has=AH;Sa.prototype.set=_H;TR.exports=Sa});var _R=S((_he,AR)=>{var OH=oc(),RH=Kd(),MH=Xd(),PH=200;function LH(t,e){var n=this.__data__;if(n instanceof OH){var r=n.__data__;if(!RH||r.length<PH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new MH(r)}return n.set(t,e),this.size=n.size,this}AR.exports=LH});var Zd=S((Ohe,OR)=>{var NH=oc(),IH=HO(),DH=KO(),FH=YO(),BH=ZO(),qH=_R();function ka(t){var e=this.__data__=new NH(t);this.size=e.size}ka.prototype.clear=IH;ka.prototype.delete=DH;ka.prototype.get=FH;ka.prototype.has=BH;ka.prototype.set=qH;OR.exports=ka});var MR=S((Rhe,RR)=>{var VH="__lodash_hash_undefined__";function UH(t){return this.__data__.set(t,VH),this}RR.exports=UH});var LR=S((Mhe,PR)=>{function zH(t){return this.__data__.has(t)}PR.exports=zH});var Jd=S((Phe,NR)=>{var WH=Xd(),jH=MR(),HH=LR();function Qd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new WH;++e<n;)this.add(t[e])}Qd.prototype.add=Qd.prototype.push=jH;Qd.prototype.has=HH;NR.exports=Qd});var F1=S((Lhe,IR)=>{function GH(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}IR.exports=GH});var ep=S((Nhe,DR)=>{function KH(t,e){return t.has(e)}DR.exports=KH});var B1=S((Ihe,FR)=>{var $H=Jd(),YH=F1(),XH=ep(),ZH=1,QH=2;function JH(t,e,n,r,i,o){var s=n&ZH,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&QH?new $H:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var d=t[f],g=e[f];if(r)var x=s?r(g,d,f,e,t,o):r(d,g,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!YH(e,function(m,v){if(!XH(p,v)&&(d===m||i(d,m,n,r,o)))return p.push(v)})){h=!1;break}}else if(!(d===g||i(d,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}FR.exports=JH});var q1=S((Dhe,BR)=>{var eG=Xn(),tG=eG.Uint8Array;BR.exports=tG});var VR=S((Fhe,qR)=>{function nG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}qR.exports=nG});var tp=S((Bhe,UR)=>{function rG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}UR.exports=rG});var GR=S((qhe,HR)=>{var zR=Ko(),WR=q1(),iG=va(),oG=B1(),sG=VR(),aG=tp(),lG=1,uG=2,cG="[object Boolean]",fG="[object Date]",hG="[object Error]",dG="[object Map]",pG="[object Number]",mG="[object RegExp]",gG="[object Set]",vG="[object String]",yG="[object Symbol]",xG="[object ArrayBuffer]",SG="[object DataView]",jR=zR?zR.prototype:void 0,V1=jR?jR.valueOf:void 0;function kG(t,e,n,r,i,o,s){switch(n){case SG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xG:return!(t.byteLength!=e.byteLength||!o(new WR(t),new WR(e)));case cG:case fG:case pG:return iG(+t,+e);case hG:return t.name==e.name&&t.message==e.message;case mG:case vG:return t==e+"";case dG:var a=sG;case gG:var l=r&lG;if(a||(a=aG),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=uG,s.set(t,e);var c=oG(a(t),a(e),r,i,o,s);return s.delete(t),c;case yG:if(V1)return V1.call(t)==V1.call(e)}return!1}HR.exports=kG});var np=S((Vhe,KR)=>{function wG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}KR.exports=wG});var U1=S((Uhe,$R)=>{var bG=np(),CG=ce();function EG(t,e,n){var r=e(t);return CG(t)?r:bG(r,n(t))}$R.exports=EG});var rp=S((zhe,YR)=>{function TG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}YR.exports=TG});var z1=S((Whe,XR)=>{function AG(){return[]}XR.exports=AG});var ip=S((jhe,QR)=>{var _G=rp(),OG=z1(),RG=Object.prototype,MG=RG.propertyIsEnumerable,ZR=Object.getOwnPropertySymbols,PG=ZR?function(t){return t==null?[]:(t=Object(t),_G(ZR(t),function(e){return MG.call(t,e)}))}:OG;QR.exports=PG});var eM=S((Hhe,JR)=>{function LG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}JR.exports=LG});var lc=S((Ghe,tM)=>{var NG=9007199254740991,IG=/^(?:0|[1-9]\d*)$/;function DG(t,e){var n=typeof t;return e=e??NG,!!e&&(n=="number"||n!="symbol"&&IG.test(t))&&t>-1&&t%1==0&&t<e}tM.exports=DG});var W1=S((Khe,nM)=>{var FG=eM(),BG=Qu(),qG=ce(),VG=ec(),UG=lc(),zG=Yd(),WG=Object.prototype,jG=WG.hasOwnProperty;function HG(t,e){var n=qG(t),r=!n&&BG(t),i=!n&&!r&&VG(t),o=!n&&!r&&!i&&zG(t),s=n||r||i||o,a=s?FG(t.length,String):[],l=a.length;for(var u in t)(e||jG.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||UG(u,l)))&&a.push(u);return a}nM.exports=HG});var dn=S(($he,rM)=>{var GG=W1(),KG=T1(),$G=Jn();function YG(t){return $G(t)?GG(t):KG(t)}rM.exports=YG});var j1=S((Yhe,iM)=>{var XG=U1(),ZG=ip(),QG=dn();function JG(t){return XG(t,QG,ZG)}iM.exports=JG});var aM=S((Xhe,sM)=>{var oM=j1(),eK=1,tK=Object.prototype,nK=tK.hasOwnProperty;function rK(t,e,n,r,i,o){var s=n&eK,a=oM(t),l=a.length,u=oM(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:nK.call(e,h)))return!1}var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var g=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var m=t[h],v=e[h];if(r)var y=s?r(v,m,h,e,t,o):r(m,v,h,t,e,o);if(!(y===void 0?m===v||i(m,v,n,r,o):y)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var k=t.constructor,b=e.constructor;k!=b&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof b=="function"&&b instanceof b)&&(g=!1)}return o.delete(t),o.delete(e),g}sM.exports=rK});var mM=S((Zhe,pM)=>{var H1=Zd(),iK=B1(),oK=GR(),sK=aM(),lM=ha(),uM=ce(),cM=ec(),aK=Yd(),lK=1,fM="[object Arguments]",hM="[object Array]",op="[object Object]",uK=Object.prototype,dM=uK.hasOwnProperty;function cK(t,e,n,r,i,o){var s=uM(t),a=uM(e),l=s?hM:lM(t),u=a?hM:lM(e);l=l==fM?op:l,u=u==fM?op:u;var c=l==op,f=u==op,h=l==u;if(h&&cM(t)){if(!cM(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new H1),s||aK(t)?iK(t,e,n,r,i,o):oK(t,e,l,n,r,i,o);if(!(n&lK)){var p=c&&dM.call(t,"__wrapped__"),d=f&&dM.call(e,"__wrapped__");if(p||d){var g=p?t.value():t,x=d?e.value():e;return o||(o=new H1),i(g,x,n,r,o)}}return h?(o||(o=new H1),sK(t,e,n,r,i,o)):!1}pM.exports=cK});var G1=S((Qhe,yM)=>{var fK=mM(),gM=Qn();function vM(t,e,n,r,i){return t===e?!0:t==null||e==null||!gM(t)&&!gM(e)?t!==t&&e!==e:fK(t,e,n,r,vM,i)}yM.exports=vM});var SM=S((Jhe,xM)=>{var hK=Zd(),dK=G1(),pK=1,mK=2;function gK(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new hK;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?dK(c,u,pK|mK,r,f):h))return!1}}return!0}xM.exports=gK});var K1=S((ede,kM)=>{var vK=Zn();function yK(t){return t===t&&!vK(t)}kM.exports=yK});var bM=S((tde,wM)=>{var xK=K1(),SK=dn();function kK(t){for(var e=SK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,xK(i)]}return e}wM.exports=kK});var $1=S((nde,CM)=>{function wK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}CM.exports=wK});var TM=S((rde,EM)=>{var bK=SM(),CK=bM(),EK=$1();function TK(t){var e=CK(t);return e.length==1&&e[0][2]?EK(e[0][0],e[0][1]):function(n){return n===t||bK(n,t,e)}}EM.exports=TK});var uc=S((ide,AM)=>{var AK=Ki(),_K=Qn(),OK="[object Symbol]";function RK(t){return typeof t=="symbol"||_K(t)&&AK(t)==OK}AM.exports=RK});var sp=S((ode,_M)=>{var MK=ce(),PK=uc(),LK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NK=/^\w*$/;function IK(t,e){if(MK(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||PK(t)?!0:NK.test(t)||!LK.test(t)||e!=null&&t in Object(e)}_M.exports=IK});var MM=S((sde,RM)=>{var OM=Xd(),DK="Expected a function";function Y1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Y1.Cache||OM),n}Y1.Cache=OM;RM.exports=Y1});var LM=S((ade,PM)=>{var FK=MM(),BK=500;function qK(t){var e=FK(t,function(r){return n.size===BK&&n.clear(),r}),n=e.cache;return e}PM.exports=qK});var IM=S((lde,NM)=>{var VK=LM(),UK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zK=/\\(\\)?/g,WK=VK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UK,function(n,r,i,o){e.push(i?o.replace(zK,"$1"):r||n)}),e});NM.exports=WK});var UM=S((ude,VM)=>{var DM=Ko(),jK=ga(),HK=ce(),GK=uc(),KK=1/0,FM=DM?DM.prototype:void 0,BM=FM?FM.toString:void 0;function qM(t){if(typeof t=="string")return t;if(HK(t))return jK(t,qM)+"";if(GK(t))return BM?BM.call(t):"";var e=t+"";return e=="0"&&1/t==-KK?"-0":e}VM.exports=qM});var X1=S((cde,zM)=>{var $K=UM();function YK(t){return t==null?"":$K(t)}zM.exports=YK});var cc=S((fde,WM)=>{var XK=ce(),ZK=sp(),QK=IM(),JK=X1();function e$(t,e){return XK(t)?t:ZK(t,e)?[t]:QK(JK(t))}WM.exports=e$});var wa=S((hde,jM)=>{var t$=uc(),n$=1/0;function r$(t){if(typeof t=="string"||t$(t))return t;var e=t+"";return e=="0"&&1/t==-n$?"-0":e}jM.exports=r$});var ap=S((dde,HM)=>{var i$=cc(),o$=wa();function s$(t,e){e=i$(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[o$(e[n++])];return n&&n==r?t:void 0}HM.exports=s$});var KM=S((pde,GM)=>{var a$=ap();function l$(t,e,n){var r=t==null?void 0:a$(t,e);return r===void 0?n:r}GM.exports=l$});var YM=S((mde,$M)=>{function u$(t,e){return t!=null&&e in Object(t)}$M.exports=u$});var Z1=S((gde,XM)=>{var c$=cc(),f$=Qu(),h$=ce(),d$=lc(),p$=$d(),m$=wa();function g$(t,e,n){e=c$(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=m$(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&p$(i)&&d$(s,i)&&(h$(t)||f$(t)))}XM.exports=g$});var QM=S((vde,ZM)=>{var v$=YM(),y$=Z1();function x$(t,e){return t!=null&&y$(t,e,v$)}ZM.exports=x$});var eP=S((yde,JM)=>{var S$=G1(),k$=KM(),w$=QM(),b$=sp(),C$=K1(),E$=$1(),T$=wa(),A$=1,_$=2;function O$(t,e){return b$(t)&&C$(e)?E$(T$(t),e):function(n){var r=k$(n,t);return r===void 0&&r===e?w$(n,t):S$(e,r,A$|_$)}}JM.exports=O$});var ba=S((xde,tP)=>{function R$(t){return t}tP.exports=R$});var rP=S((Sde,nP)=>{function M$(t){return function(e){return e?.[t]}}nP.exports=M$});var oP=S((kde,iP)=>{var P$=ap();function L$(t){return function(e){return P$(e,t)}}iP.exports=L$});var aP=S((wde,sP)=>{var N$=rP(),I$=oP(),D$=sp(),F$=wa();function B$(t){return D$(t)?N$(F$(t)):I$(t)}sP.exports=B$});var er=S((bde,lP)=>{var q$=TM(),V$=eP(),U$=ba(),z$=ce(),W$=aP();function j$(t){return typeof t=="function"?t:t==null?U$:typeof t=="object"?z$(t)?V$(t[0],t[1]):q$(t):W$(t)}lP.exports=j$});var cP=S((Cde,uP)=>{function H$(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}uP.exports=H$});var hP=S((Ede,fP)=>{var G$=cP(),K$=G$();fP.exports=K$});var pP=S((Tde,dP)=>{var $$=hP(),Y$=dn();function X$(t,e){return t&&$$(t,e,Y$)}dP.exports=X$});var gP=S((Ade,mP)=>{var Z$=Jn();function Q$(t,e){return function(n,r){if(n==null)return n;if(!Z$(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}mP.exports=Q$});var Yi=S((_de,vP)=>{var J$=pP(),eY=gP(),tY=eY(J$);vP.exports=tY});var xP=S((Ode,yP)=>{var nY=Yi(),rY=Jn();function iY(t,e){var n=-1,r=rY(t)?Array(t.length):[];return nY(t,function(i,o,s){r[++n]=e(i,o,s)}),r}yP.exports=iY});var Ft=S((Rde,SP)=>{var oY=ga(),sY=er(),aY=xP(),lY=ce();function uY(t,e){var n=lY(t)?oY:aY;return n(t,sY(e,3))}SP.exports=uY});var Q1=S((Mde,kP)=>{function cY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}kP.exports=cY});var bP=S((Pde,wP)=>{var fY=ba();function hY(t){return typeof t=="function"?t:fY}wP.exports=hY});var pt=S((Lde,CP)=>{var dY=Q1(),pY=Yi(),mY=bP(),gY=ce();function vY(t,e){var n=gY(t)?dY:pY;return n(t,mY(e))}CP.exports=vY});var TP=S((Nde,EP)=>{var yY=ga();function xY(t,e){return yY(e,function(n){return t[n]})}EP.exports=xY});var Sr=S((Ide,AP)=>{var SY=TP(),kY=dn();function wY(t){return t==null?[]:SY(t,kY(t))}AP.exports=wY});var OP=S((Dde,_P)=>{var bY=Object.prototype,CY=bY.hasOwnProperty;function EY(t,e){return t!=null&&CY.call(t,e)}_P.exports=EY});var pn=S((Fde,RP)=>{var TY=OP(),AY=Z1();function _Y(t,e){return t!=null&&AY(t,e,TY)}RP.exports=_Y});var J1=S((Bde,MP)=>{var OY=$i(),RY=function(){try{var t=OY(Object,"defineProperty");return t({},"",{}),t}catch{}}();MP.exports=RY});var lp=S((qde,LP)=>{var PP=J1();function MY(t,e,n){e=="__proto__"&&PP?PP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}LP.exports=MY});var fc=S((Vde,NP)=>{var PY=lp(),LY=va(),NY=Object.prototype,IY=NY.hasOwnProperty;function DY(t,e,n){var r=t[e];(!(IY.call(t,e)&&LY(r,n))||n===void 0&&!(e in t))&&PY(t,e,n)}NP.exports=DY});var Ca=S((Ude,IP)=>{var FY=fc(),BY=lp();function qY(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?BY(n,a,l):FY(n,a,l)}return n}IP.exports=qY});var FP=S((zde,DP)=>{var VY=Ca(),UY=dn();function zY(t,e){return t&&VY(e,UY(e),t)}DP.exports=zY});var qP=S((Wde,BP)=>{function WY(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}BP.exports=WY});var UP=S((jde,VP)=>{var jY=Zn(),HY=ua(),GY=qP(),KY=Object.prototype,$Y=KY.hasOwnProperty;function YY(t){if(!jY(t))return GY(t);var e=HY(t),n=[];for(var r in t)r=="constructor"&&(e||!$Y.call(t,r))||n.push(r);return n}VP.exports=YY});var hc=S((Hde,zP)=>{var XY=W1(),ZY=UP(),QY=Jn();function JY(t){return QY(t)?XY(t,!0):ZY(t)}zP.exports=JY});var jP=S((Gde,WP)=>{var eX=Ca(),tX=hc();function nX(t,e){return t&&eX(e,tX(e),t)}WP.exports=nX});var YP=S((dc,Ea)=>{var rX=Xn(),$P=typeof dc=="object"&&dc&&!dc.nodeType&&dc,HP=$P&&typeof Ea=="object"&&Ea&&!Ea.nodeType&&Ea,iX=HP&&HP.exports===$P,GP=iX?rX.Buffer:void 0,KP=GP?GP.allocUnsafe:void 0;function oX(t,e){if(e)return t.slice();var n=t.length,r=KP?KP(n):new t.constructor(n);return t.copy(r),r}Ea.exports=oX});var ZP=S((Kde,XP)=>{function sX(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}XP.exports=sX});var JP=S(($de,QP)=>{var aX=Ca(),lX=ip();function uX(t,e){return aX(t,lX(t),e)}QP.exports=uX});var ex=S((Yde,eL)=>{var cX=E1(),fX=cX(Object.getPrototypeOf,Object);eL.exports=fX});var tx=S((Xde,tL)=>{var hX=np(),dX=ex(),pX=ip(),mX=z1(),gX=Object.getOwnPropertySymbols,vX=gX?function(t){for(var e=[];t;)hX(e,pX(t)),t=dX(t);return e}:mX;tL.exports=vX});var rL=S((Zde,nL)=>{var yX=Ca(),xX=tx();function SX(t,e){return yX(t,xX(t),e)}nL.exports=SX});var nx=S((Qde,iL)=>{var kX=U1(),wX=tx(),bX=hc();function CX(t){return kX(t,bX,wX)}iL.exports=CX});var sL=S((Jde,oL)=>{var EX=Object.prototype,TX=EX.hasOwnProperty;function AX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&TX.call(t,"index")&&(n.index=t.index,n.input=t.input),n}oL.exports=AX});var up=S((epe,lL)=>{var aL=q1();function _X(t){var e=new t.constructor(t.byteLength);return new aL(e).set(new aL(t)),e}lL.exports=_X});var cL=S((tpe,uL)=>{var OX=up();function RX(t,e){var n=e?OX(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}uL.exports=RX});var hL=S((npe,fL)=>{var MX=/\w*$/;function PX(t){var e=new t.constructor(t.source,MX.exec(t));return e.lastIndex=t.lastIndex,e}fL.exports=PX});var vL=S((rpe,gL)=>{var dL=Ko(),pL=dL?dL.prototype:void 0,mL=pL?pL.valueOf:void 0;function LX(t){return mL?Object(mL.call(t)):{}}gL.exports=LX});var xL=S((ipe,yL)=>{var NX=up();function IX(t,e){var n=e?NX(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}yL.exports=IX});var kL=S((ope,SL)=>{var DX=up(),FX=cL(),BX=hL(),qX=vL(),VX=xL(),UX="[object Boolean]",zX="[object Date]",WX="[object Map]",jX="[object Number]",HX="[object RegExp]",GX="[object Set]",KX="[object String]",$X="[object Symbol]",YX="[object ArrayBuffer]",XX="[object DataView]",ZX="[object Float32Array]",QX="[object Float64Array]",JX="[object Int8Array]",eZ="[object Int16Array]",tZ="[object Int32Array]",nZ="[object Uint8Array]",rZ="[object Uint8ClampedArray]",iZ="[object Uint16Array]",oZ="[object Uint32Array]";function sZ(t,e,n){var r=t.constructor;switch(e){case YX:return DX(t);case UX:case zX:return new r(+t);case XX:return FX(t,n);case ZX:case QX:case JX:case eZ:case tZ:case nZ:case rZ:case iZ:case oZ:return VX(t,n);case WX:return new r;case jX:case KX:return new r(t);case HX:return BX(t);case GX:return new r;case $X:return qX(t)}}SL.exports=sZ});var CL=S((spe,bL)=>{var aZ=Zn(),wL=Object.create,lZ=function(){function t(){}return function(e){if(!aZ(e))return{};if(wL)return wL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();bL.exports=lZ});var TL=S((ape,EL)=>{var uZ=CL(),cZ=ex(),fZ=ua();function hZ(t){return typeof t.constructor=="function"&&!fZ(t)?uZ(cZ(t)):{}}EL.exports=hZ});var _L=S((lpe,AL)=>{var dZ=ha(),pZ=Qn(),mZ="[object Map]";function gZ(t){return pZ(t)&&dZ(t)==mZ}AL.exports=gZ});var PL=S((upe,ML)=>{var vZ=_L(),yZ=pa(),OL=rc(),RL=OL&&OL.isMap,xZ=RL?yZ(RL):vZ;ML.exports=xZ});var NL=S((cpe,LL)=>{var SZ=ha(),kZ=Qn(),wZ="[object Set]";function bZ(t){return kZ(t)&&SZ(t)==wZ}LL.exports=bZ});var BL=S((fpe,FL)=>{var CZ=NL(),EZ=pa(),IL=rc(),DL=IL&&IL.isSet,TZ=DL?EZ(DL):CZ;FL.exports=TZ});var WL=S((hpe,zL)=>{var AZ=Zd(),_Z=Q1(),OZ=fc(),RZ=FP(),MZ=jP(),PZ=YP(),LZ=ZP(),NZ=JP(),IZ=rL(),DZ=j1(),FZ=nx(),BZ=ha(),qZ=sL(),VZ=kL(),UZ=TL(),zZ=ce(),WZ=ec(),jZ=PL(),HZ=Zn(),GZ=BL(),KZ=dn(),$Z=hc(),YZ=1,XZ=2,ZZ=4,qL="[object Arguments]",QZ="[object Array]",JZ="[object Boolean]",eQ="[object Date]",tQ="[object Error]",VL="[object Function]",nQ="[object GeneratorFunction]",rQ="[object Map]",iQ="[object Number]",UL="[object Object]",oQ="[object RegExp]",sQ="[object Set]",aQ="[object String]",lQ="[object Symbol]",uQ="[object WeakMap]",cQ="[object ArrayBuffer]",fQ="[object DataView]",hQ="[object Float32Array]",dQ="[object Float64Array]",pQ="[object Int8Array]",mQ="[object Int16Array]",gQ="[object Int32Array]",vQ="[object Uint8Array]",yQ="[object Uint8ClampedArray]",xQ="[object Uint16Array]",SQ="[object Uint32Array]",Se={};Se[qL]=Se[QZ]=Se[cQ]=Se[fQ]=Se[JZ]=Se[eQ]=Se[hQ]=Se[dQ]=Se[pQ]=Se[mQ]=Se[gQ]=Se[rQ]=Se[iQ]=Se[UL]=Se[oQ]=Se[sQ]=Se[aQ]=Se[lQ]=Se[vQ]=Se[yQ]=Se[xQ]=Se[SQ]=!0;Se[tQ]=Se[VL]=Se[uQ]=!1;function cp(t,e,n,r,i,o){var s,a=e&YZ,l=e&XZ,u=e&ZZ;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!HZ(t))return t;var c=zZ(t);if(c){if(s=qZ(t),!a)return LZ(t,s)}else{var f=BZ(t),h=f==VL||f==nQ;if(WZ(t))return PZ(t,a);if(f==UL||f==qL||h&&!i){if(s=l||h?{}:UZ(t),!a)return l?IZ(t,MZ(s,t)):NZ(t,RZ(s,t))}else{if(!Se[f])return i?t:{};s=VZ(t,f,a)}}o||(o=new AZ);var p=o.get(t);if(p)return p;o.set(t,s),GZ(t)?t.forEach(function(x){s.add(cp(x,e,n,x,t,o))}):jZ(t)&&t.forEach(function(x,m){s.set(m,cp(x,e,n,m,t,o))});var d=u?l?FZ:DZ:l?$Z:KZ,g=c?void 0:d(t);return _Z(g||t,function(x,m){g&&(m=x,x=t[m]),OZ(s,m,cp(x,e,n,m,t,o))}),s}zL.exports=cp});var Qr=S((dpe,jL)=>{var kQ=WL(),wQ=4;function bQ(t){return kQ(t,wQ)}jL.exports=bQ});var HL=S(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.PRINT_WARNING=Ta.PRINT_ERROR=void 0;function CQ(t){console&&console.error&&console.error("Error: ".concat(t))}Ta.PRINT_ERROR=CQ;function EQ(t){console&&console.warn&&console.warn("Warning: ".concat(t))}Ta.PRINT_WARNING=EQ});var GL=S(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.timer=void 0;function TQ(t){var e=new Date().getTime(),n=t(),r=new Date().getTime(),i=r-e;return{time:i,value:n}}fp.timer=TQ});var KL=S((exports,module)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.toFastProperties=void 0;function toFastProperties(toBecomeFast){function FakeConstructor(){}FakeConstructor.prototype=toBecomeFast;var fakeInstance=new FakeConstructor;function fakeAccess(){return typeof fakeInstance.bar}return fakeAccess(),fakeAccess(),toBecomeFast;eval(toBecomeFast)}exports.toFastProperties=toFastProperties});var Aa=S(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.toFastProperties=kr.timer=kr.PRINT_ERROR=kr.PRINT_WARNING=void 0;var $L=HL();Object.defineProperty(kr,"PRINT_WARNING",{enumerable:!0,get:function(){return $L.PRINT_WARNING}});Object.defineProperty(kr,"PRINT_ERROR",{enumerable:!0,get:function(){return $L.PRINT_ERROR}});var AQ=GL();Object.defineProperty(kr,"timer",{enumerable:!0,get:function(){return AQ.timer}});var _Q=KL();Object.defineProperty(kr,"toFastProperties",{enumerable:!0,get:function(){return _Q.toFastProperties}})});var hp=S((vpe,YL)=>{function OQ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}YL.exports=OQ});var ZL=S((ype,XL)=>{var RQ=/\s/;function MQ(t){for(var e=t.length;e--&&RQ.test(t.charAt(e)););return e}XL.exports=MQ});var JL=S((xpe,QL)=>{var PQ=ZL(),LQ=/^\s+/;function NQ(t){return t&&t.slice(0,PQ(t)+1).replace(LQ,"")}QL.exports=NQ});var rN=S((Spe,nN)=>{var IQ=JL(),eN=Zn(),DQ=uc(),tN=NaN,FQ=/^[-+]0x[0-9a-f]+$/i,BQ=/^0b[01]+$/i,qQ=/^0o[0-7]+$/i,VQ=parseInt;function UQ(t){if(typeof t=="number")return t;if(DQ(t))return tN;if(eN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=eN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=IQ(t);var n=BQ.test(t);return n||qQ.test(t)?VQ(t.slice(2),n?2:8):FQ.test(t)?tN:+t}nN.exports=UQ});var sN=S((kpe,oN)=>{var zQ=rN(),iN=1/0,WQ=17976931348623157e292;function jQ(t){if(!t)return t===0?t:0;if(t=zQ(t),t===iN||t===-iN){var e=t<0?-1:1;return e*WQ}return t===t?t:0}oN.exports=jQ});var _a=S((wpe,aN)=>{var HQ=sN();function GQ(t){var e=HQ(t),n=e%1;return e===e?n?e-n:e:0}aN.exports=GQ});var dp=S((bpe,lN)=>{var KQ=hp(),$Q=_a();function YQ(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:$Q(e),KQ(t,e<0?0:e,r)):[]}lN.exports=YQ});var pc=S((Cpe,uN)=>{var XQ=Ki(),ZQ=ce(),QQ=Qn(),JQ="[object String]";function eJ(t){return typeof t=="string"||!ZQ(t)&&QQ(t)&&XQ(t)==JQ}uN.exports=eJ});var fN=S((Epe,cN)=>{var tJ=Ki(),nJ=Qn(),rJ="[object RegExp]";function iJ(t){return nJ(t)&&tJ(t)==rJ}cN.exports=iJ});var rx=S((Tpe,pN)=>{var oJ=fN(),sJ=pa(),hN=rc(),dN=hN&&hN.isRegExp,aJ=dN?sJ(dN):oJ;pN.exports=aJ});var vN=S((Ape,gN)=>{var lJ=fc(),uJ=cc(),cJ=lc(),mN=Zn(),fJ=wa();function hJ(t,e,n,r){if(!mN(t))return t;e=uJ(e,t);for(var i=-1,o=e.length,s=o-1,a=t;a!=null&&++i<o;){var l=fJ(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var c=a[l];u=r?r(c,l,a):void 0,u===void 0&&(u=mN(c)?c:cJ(e[i+1])?[]:{})}lJ(a,l,u),a=a[l]}return t}gN.exports=hJ});var xN=S((_pe,yN)=>{var dJ=ap(),pJ=vN(),mJ=cc();function gJ(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=dJ(t,s);n(a,s)&&pJ(o,mJ(s,t),a)}return o}yN.exports=gJ});var ix=S((Ope,SN)=>{var vJ=ga(),yJ=er(),xJ=xN(),SJ=nx();function kJ(t,e){if(t==null)return{};var n=vJ(SJ(t),function(r){return[r]});return e=yJ(e),xJ(t,n,function(r,i){return e(r,i[0])})}SN.exports=kJ});var wN=S((Rpe,kN)=>{function wJ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}kN.exports=wJ});var EN=S((Mpe,CN)=>{var bJ=wN(),bN=Math.max;function CJ(t,e,n){return e=bN(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=bN(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),bJ(t,this,a)}}CN.exports=CJ});var AN=S((Ppe,TN)=>{function EJ(t){return function(){return t}}TN.exports=EJ});var RN=S((Lpe,ON)=>{var TJ=AN(),_N=J1(),AJ=ba(),_J=_N?function(t,e){return _N(t,"toString",{configurable:!0,enumerable:!1,value:TJ(e),writable:!0})}:AJ;ON.exports=_J});var PN=S((Npe,MN)=>{var OJ=800,RJ=16,MJ=Date.now;function PJ(t){var e=0,n=0;return function(){var r=MJ(),i=RJ-(r-n);if(n=r,i>0){if(++e>=OJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}MN.exports=PJ});var NN=S((Ipe,LN)=>{var LJ=RN(),NJ=PN(),IJ=NJ(LJ);LN.exports=IJ});var pp=S((Dpe,IN)=>{var DJ=ba(),FJ=EN(),BJ=NN();function qJ(t,e){return BJ(FJ(t,e,DJ),t+"")}IN.exports=qJ});var mc=S((Fpe,DN)=>{var VJ=va(),UJ=Jn(),zJ=lc(),WJ=Zn();function jJ(t,e,n){if(!WJ(n))return!1;var r=typeof e;return(r=="number"?UJ(n)&&zJ(e,n.length):r=="string"&&e in n)?VJ(n[e],t):!1}DN.exports=jJ});var BN=S((Bpe,FN)=>{var HJ=pp(),GJ=mc();function KJ(t){return HJ(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&GJ(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}FN.exports=KJ});var gc=S((qpe,qN)=>{var $J=fc(),YJ=Ca(),XJ=BN(),ZJ=Jn(),QJ=ua(),JJ=dn(),eee=Object.prototype,tee=eee.hasOwnProperty,nee=XJ(function(t,e){if(QJ(e)||ZJ(e)){YJ(e,JJ(e),t);return}for(var n in e)tee.call(e,n)&&$J(t,n,e[n])});qN.exports=nee});var gp=S(se=>{"use strict";var Jr=se&&se.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oa=se&&se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(se,"__esModule",{value:!0});se.serializeProduction=se.serializeGrammar=se.Terminal=se.Alternation=se.RepetitionWithSeparator=se.Repetition=se.RepetitionMandatoryWithSeparator=se.RepetitionMandatory=se.Option=se.Alternative=se.Rule=se.NonTerminal=se.AbstractProduction=void 0;var VN=Oa(Ft()),ree=Oa(pt()),ox=Oa(pc()),iee=Oa(rx()),wr=Oa(ix()),br=Oa(gc());function oee(t){return see(t)?t.LABEL:t.name}function see(t){return(0,ox.default)(t.LABEL)&&t.LABEL!==""}var Cr=function(){function t(e){this._definition=e}return Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),t.prototype.accept=function(e){e.visit(this),(0,ree.default)(this.definition,function(n){n.accept(e)})},t}();se.AbstractProduction=Cr;var UN=function(t){Jr(e,t);function e(n){var r=t.call(this,[])||this;return r.idx=1,(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return Object.defineProperty(e.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(n){},enumerable:!1,configurable:!0}),e.prototype.accept=function(n){n.visit(this)},e}(Cr);se.NonTerminal=UN;var zN=function(t){Jr(e,t);function e(n){var r=t.call(this,n.definition)||this;return r.orgText="",(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return e}(Cr);se.Rule=zN;var WN=function(t){Jr(e,t);function e(n){var r=t.call(this,n.definition)||this;return r.ignoreAmbiguities=!1,(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return e}(Cr);se.Alternative=WN;var jN=function(t){Jr(e,t);function e(n){var r=t.call(this,n.definition)||this;return r.idx=1,(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return e}(Cr);se.Option=jN;var HN=function(t){Jr(e,t);function e(n){var r=t.call(this,n.definition)||this;return r.idx=1,(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return e}(Cr);se.RepetitionMandatory=HN;var GN=function(t){Jr(e,t);function e(n){var r=t.call(this,n.definition)||this;return r.idx=1,(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return e}(Cr);se.RepetitionMandatoryWithSeparator=GN;var KN=function(t){Jr(e,t);function e(n){var r=t.call(this,n.definition)||this;return r.idx=1,(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return e}(Cr);se.Repetition=KN;var $N=function(t){Jr(e,t);function e(n){var r=t.call(this,n.definition)||this;return r.idx=1,(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return e}(Cr);se.RepetitionWithSeparator=$N;var YN=function(t){Jr(e,t);function e(n){var r=t.call(this,n.definition)||this;return r.idx=1,r.ignoreAmbiguities=!1,r.hasPredicates=!1,(0,br.default)(r,(0,wr.default)(n,function(i){return i!==void 0})),r}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(n){this._definition=n},enumerable:!1,configurable:!0}),e}(Cr);se.Alternation=YN;var mp=function(){function t(e){this.idx=1,(0,br.default)(this,(0,wr.default)(e,function(n){return n!==void 0}))}return t.prototype.accept=function(e){e.visit(this)},t}();se.Terminal=mp;function aee(t){return(0,VN.default)(t,vc)}se.serializeGrammar=aee;function vc(t){function e(o){return(0,VN.default)(o,vc)}if(t instanceof UN){var n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return(0,ox.default)(t.label)&&(n.label=t.label),n}else{if(t instanceof WN)return{type:"Alternative",definition:e(t.definition)};if(t instanceof jN)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof HN)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof GN)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:vc(new mp({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof $N)return{type:"RepetitionWithSeparator",idx:t.idx,separator:vc(new mp({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof KN)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof YN)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof mp){var r={type:"Terminal",name:t.terminalType.name,label:oee(t.terminalType),idx:t.idx};(0,ox.default)(t.label)&&(r.terminalLabel=t.label);var i=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=(0,iee.default)(i)?i.source:i),r}else{if(t instanceof zN)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}se.serializeProduction=vc});var XN=S(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.GAstVisitor=void 0;var Er=gp(),lee=function(){function t(){}return t.prototype.visit=function(e){var n=e;switch(n.constructor){case Er.NonTerminal:return this.visitNonTerminal(n);case Er.Alternative:return this.visitAlternative(n);case Er.Option:return this.visitOption(n);case Er.RepetitionMandatory:return this.visitRepetitionMandatory(n);case Er.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(n);case Er.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(n);case Er.Repetition:return this.visitRepetition(n);case Er.Alternation:return this.visitAlternation(n);case Er.Terminal:return this.visitTerminal(n);case Er.Rule:return this.visitRule(n);default:throw Error("non exhaustive match")}},t.prototype.visitNonTerminal=function(e){},t.prototype.visitAlternative=function(e){},t.prototype.visitOption=function(e){},t.prototype.visitRepetition=function(e){},t.prototype.visitRepetitionMandatory=function(e){},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){},t.prototype.visitRepetitionWithSeparator=function(e){},t.prototype.visitAlternation=function(e){},t.prototype.visitTerminal=function(e){},t.prototype.visitRule=function(e){},t}();vp.GAstVisitor=lee});var QN=S((zpe,ZN)=>{var uee=Yi();function cee(t,e){var n;return uee(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}ZN.exports=cee});var yp=S((Wpe,JN)=>{var fee=F1(),hee=er(),dee=QN(),pee=ce(),mee=mc();function gee(t,e,n){var r=pee(t)?fee:dee;return n&&mee(t,e,n)&&(e=void 0),r(t,hee(e,3))}JN.exports=gee});var tI=S((jpe,eI)=>{function vee(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}eI.exports=vee});var rI=S((Hpe,nI)=>{var yee=Yi();function xee(t,e){var n=!0;return yee(t,function(r,i,o){return n=!!e(r,i,o),n}),n}nI.exports=xee});var yc=S((Gpe,iI)=>{var See=tI(),kee=rI(),wee=er(),bee=ce(),Cee=mc();function Eee(t,e,n){var r=bee(t)?See:kee;return n&&Cee(t,e,n)&&(e=void 0),r(t,wee(e,3))}iI.exports=Eee});var sx=S((Kpe,oI)=>{function Tee(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}oI.exports=Tee});var aI=S(($pe,sI)=>{function Aee(t){return t!==t}sI.exports=Aee});var uI=S((Ype,lI)=>{function _ee(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}lI.exports=_ee});var xp=S((Xpe,cI)=>{var Oee=sx(),Ree=aI(),Mee=uI();function Pee(t,e,n){return e===e?Mee(t,e,n):Oee(t,Ree,n)}cI.exports=Pee});var ei=S((Zpe,fI)=>{var Lee=xp(),Nee=Jn(),Iee=pc(),Dee=_a(),Fee=Sr(),Bee=Math.max;function qee(t,e,n,r){t=Nee(t)?t:Fee(t),n=n&&!r?Dee(n):0;var i=t.length;return n<0&&(n=Bee(i+n,0)),Iee(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Lee(t,e,n)>-1}fI.exports=qee});var hI=S(Mn=>{"use strict";var lx=Mn&&Mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.getProductionDslName=Mn.isBranchingProd=Mn.isOptionalProd=Mn.isSequenceProd=void 0;var Vee=lx(yp()),Uee=lx(yc()),zee=lx(ei()),_e=gp();function Wee(t){return t instanceof _e.Alternative||t instanceof _e.Option||t instanceof _e.Repetition||t instanceof _e.RepetitionMandatory||t instanceof _e.RepetitionMandatoryWithSeparator||t instanceof _e.RepetitionWithSeparator||t instanceof _e.Terminal||t instanceof _e.Rule}Mn.isSequenceProd=Wee;function ax(t,e){e===void 0&&(e=[]);var n=t instanceof _e.Option||t instanceof _e.Repetition||t instanceof _e.RepetitionWithSeparator;return n?!0:t instanceof _e.Alternation?(0,Vee.default)(t.definition,function(r){return ax(r,e)}):t instanceof _e.NonTerminal&&(0,zee.default)(e,t)?!1:t instanceof _e.AbstractProduction?(t instanceof _e.NonTerminal&&e.push(t),(0,Uee.default)(t.definition,function(r){return ax(r,e)})):!1}Mn.isOptionalProd=ax;function jee(t){return t instanceof _e.Alternation}Mn.isBranchingProd=jee;function Hee(t){if(t instanceof _e.NonTerminal)return"SUBRULE";if(t instanceof _e.Option)return"OPTION";if(t instanceof _e.Alternation)return"OR";if(t instanceof _e.RepetitionMandatory)return"AT_LEAST_ONE";if(t instanceof _e.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(t instanceof _e.RepetitionWithSeparator)return"MANY_SEP";if(t instanceof _e.Repetition)return"MANY";if(t instanceof _e.Terminal)return"CONSUME";throw Error("non exhaustive match")}Mn.getProductionDslName=Hee});var ze=S(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.isSequenceProd=Q.isBranchingProd=Q.isOptionalProd=Q.getProductionDslName=Q.GAstVisitor=Q.serializeProduction=Q.serializeGrammar=Q.Alternative=Q.Alternation=Q.RepetitionWithSeparator=Q.RepetitionMandatoryWithSeparator=Q.RepetitionMandatory=Q.Repetition=Q.Option=Q.NonTerminal=Q.Terminal=Q.Rule=void 0;var Pn=gp();Object.defineProperty(Q,"Rule",{enumerable:!0,get:function(){return Pn.Rule}});Object.defineProperty(Q,"Terminal",{enumerable:!0,get:function(){return Pn.Terminal}});Object.defineProperty(Q,"NonTerminal",{enumerable:!0,get:function(){return Pn.NonTerminal}});Object.defineProperty(Q,"Option",{enumerable:!0,get:function(){return Pn.Option}});Object.defineProperty(Q,"Repetition",{enumerable:!0,get:function(){return Pn.Repetition}});Object.defineProperty(Q,"RepetitionMandatory",{enumerable:!0,get:function(){return Pn.RepetitionMandatory}});Object.defineProperty(Q,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return Pn.RepetitionMandatoryWithSeparator}});Object.defineProperty(Q,"RepetitionWithSeparator",{enumerable:!0,get:function(){return Pn.RepetitionWithSeparator}});Object.defineProperty(Q,"Alternation",{enumerable:!0,get:function(){return Pn.Alternation}});Object.defineProperty(Q,"Alternative",{enumerable:!0,get:function(){return Pn.Alternative}});Object.defineProperty(Q,"serializeGrammar",{enumerable:!0,get:function(){return Pn.serializeGrammar}});Object.defineProperty(Q,"serializeProduction",{enumerable:!0,get:function(){return Pn.serializeProduction}});var Gee=XN();Object.defineProperty(Q,"GAstVisitor",{enumerable:!0,get:function(){return Gee.GAstVisitor}});var Sp=hI();Object.defineProperty(Q,"getProductionDslName",{enumerable:!0,get:function(){return Sp.getProductionDslName}});Object.defineProperty(Q,"isOptionalProd",{enumerable:!0,get:function(){return Sp.isOptionalProd}});Object.defineProperty(Q,"isBranchingProd",{enumerable:!0,get:function(){return Sp.isBranchingProd}});Object.defineProperty(Q,"isSequenceProd",{enumerable:!0,get:function(){return Sp.isSequenceProd}})});var kp=S(Ra=>{"use strict";var mI=Ra&&Ra.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.RestWalker=void 0;var Kee=mI(dp()),dI=mI(pt()),$t=ze(),$ee=function(){function t(){}return t.prototype.walk=function(e,n){var r=this;n===void 0&&(n=[]),(0,dI.default)(e.definition,function(i,o){var s=(0,Kee.default)(e.definition,o+1);if(i instanceof $t.NonTerminal)r.walkProdRef(i,s,n);else if(i instanceof $t.Terminal)r.walkTerminal(i,s,n);else if(i instanceof $t.Alternative)r.walkFlat(i,s,n);else if(i instanceof $t.Option)r.walkOption(i,s,n);else if(i instanceof $t.RepetitionMandatory)r.walkAtLeastOne(i,s,n);else if(i instanceof $t.RepetitionMandatoryWithSeparator)r.walkAtLeastOneSep(i,s,n);else if(i instanceof $t.RepetitionWithSeparator)r.walkManySep(i,s,n);else if(i instanceof $t.Repetition)r.walkMany(i,s,n);else if(i instanceof $t.Alternation)r.walkOr(i,s,n);else throw Error("non exhaustive match")})},t.prototype.walkTerminal=function(e,n,r){},t.prototype.walkProdRef=function(e,n,r){},t.prototype.walkFlat=function(e,n,r){var i=n.concat(r);this.walk(e,i)},t.prototype.walkOption=function(e,n,r){var i=n.concat(r);this.walk(e,i)},t.prototype.walkAtLeastOne=function(e,n,r){var i=[new $t.Option({definition:e.definition})].concat(n,r);this.walk(e,i)},t.prototype.walkAtLeastOneSep=function(e,n,r){var i=pI(e,n,r);this.walk(e,i)},t.prototype.walkMany=function(e,n,r){var i=[new $t.Option({definition:e.definition})].concat(n,r);this.walk(e,i)},t.prototype.walkManySep=function(e,n,r){var i=pI(e,n,r);this.walk(e,i)},t.prototype.walkOr=function(e,n,r){var i=this,o=n.concat(r);(0,dI.default)(e.definition,function(s){var a=new $t.Alternative({definition:[s]});i.walk(a,o)})},t}();Ra.RestWalker=$ee;function pI(t,e,n){var r=[new $t.Option({definition:[new $t.Terminal({terminalType:t.separator})].concat(t.definition)})],i=r.concat(e,n);return i}});var xI=S((tme,yI)=>{var gI=Ko(),Yee=Qu(),Xee=ce(),vI=gI?gI.isConcatSpreadable:void 0;function Zee(t){return Xee(t)||Yee(t)||!!(vI&&t&&t[vI])}yI.exports=Zee});var wp=S((nme,kI)=>{var Qee=np(),Jee=xI();function SI(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Jee),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?SI(a,e-1,n,r,i):Qee(i,a):r||(i[i.length]=a)}return i}kI.exports=SI});var Tr=S((rme,wI)=>{var ete=wp();function tte(t){var e=t==null?0:t.length;return e?ete(t,1):[]}wI.exports=tte});var ux=S((ime,bI)=>{var nte=xp();function rte(t,e){var n=t==null?0:t.length;return!!n&&nte(t,e,0)>-1}bI.exports=rte});var cx=S((ome,CI)=>{function ite(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}CI.exports=ite});var bp=S((sme,EI)=>{function ote(){}EI.exports=ote});var AI=S((ame,TI)=>{var fx=R1(),ste=bp(),ate=tp(),lte=1/0,ute=fx&&1/ate(new fx([,-0]))[1]==lte?function(t){return new fx(t)}:ste;TI.exports=ute});var OI=S((lme,_I)=>{var cte=Jd(),fte=ux(),hte=cx(),dte=ep(),pte=AI(),mte=tp(),gte=200;function vte(t,e,n){var r=-1,i=fte,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=hte;else if(o>=gte){var u=e?null:pte(t);if(u)return mte(u);s=!1,i=dte,l=new cte}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}_I.exports=vte});var Cp=S((ume,RI)=>{var yte=OI();function xte(t){return t&&t.length?yte(t):[]}RI.exports=xte});var px=S(Ln=>{"use strict";var dx=Ln&&Ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.firstForTerminal=Ln.firstForBranching=Ln.firstForSequence=Ln.first=void 0;var Ste=dx(Tr()),PI=dx(Cp()),kte=dx(Ft()),MI=ze(),hx=ze();function Ep(t){if(t instanceof MI.NonTerminal)return Ep(t.referencedRule);if(t instanceof MI.Terminal)return II(t);if((0,hx.isSequenceProd)(t))return LI(t);if((0,hx.isBranchingProd)(t))return NI(t);throw Error("non exhaustive match")}Ln.first=Ep;function LI(t){for(var e=[],n=t.definition,r=0,i=n.length>r,o,s=!0;i&&s;)o=n[r],s=(0,hx.isOptionalProd)(o),e=e.concat(Ep(o)),r=r+1,i=n.length>r;return(0,PI.default)(e)}Ln.firstForSequence=LI;function NI(t){var e=(0,kte.default)(t.definition,function(n){return Ep(n)});return(0,PI.default)((0,Ste.default)(e))}Ln.firstForBranching=NI;function II(t){return[t.terminalType]}Ln.firstForTerminal=II});var mx=S(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.IN=void 0;Tp.IN="_~IN~_"});var VI=S(Yt=>{"use strict";var wte=Yt&&Yt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),DI=Yt&&Yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.buildInProdFollowPrefix=Yt.buildBetweenProdsFollowPrefix=Yt.computeAllProdsFollows=Yt.ResyncFollowsWalker=void 0;var bte=kp(),Cte=px(),Ete=DI(pt()),Tte=DI(gc()),FI=mx(),Ate=ze(),BI=function(t){wte(e,t);function e(n){var r=t.call(this)||this;return r.topProd=n,r.follows={},r}return e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(n,r,i){},e.prototype.walkProdRef=function(n,r,i){var o=qI(n.referencedRule,n.idx)+this.topProd.name,s=r.concat(i),a=new Ate.Alternative({definition:s}),l=(0,Cte.first)(a);this.follows[o]=l},e}(bte.RestWalker);Yt.ResyncFollowsWalker=BI;function _te(t){var e={};return(0,Ete.default)(t,function(n){var r=new BI(n).startWalking();(0,Tte.default)(e,r)}),e}Yt.computeAllProdsFollows=_te;function qI(t,e){return t.name+e+FI.IN}Yt.buildBetweenProdsFollowPrefix=qI;function Ote(t){var e=t.terminalType.name;return e+t.idx+FI.IN}Yt.buildInProdFollowPrefix=Ote});var Yo=S((dme,UI)=>{function Rte(t){return t===void 0}UI.exports=Rte});var _p=S((zI,Ap)=>{(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof Ap=="object"&&Ap.exports?Ap.exports=e():t.regexpToAst=e()})(typeof self<"u"?self:zI,function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(d){this.idx=d.idx,this.input=d.input,this.groupIdx=d.groupIdx},t.prototype.pattern=function(d){this.idx=0,this.input=d,this.groupIdx=0,this.consumeChar("/");var g=this.disjunction();this.consumeChar("/");for(var x={type:"Flags",loc:{begin:this.idx,end:d.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":s(x,"global");break;case"i":s(x,"ignoreCase");break;case"m":s(x,"multiLine");break;case"u":s(x,"unicode");break;case"y":s(x,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:x,value:g,loc:this.loc(0)}},t.prototype.disjunction=function(){var d=[],g=this.idx;for(d.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),d.push(this.alternative());return{type:"Disjunction",value:d,loc:this.loc(g)}},t.prototype.alternative=function(){for(var d=[],g=this.idx;this.isTerm();)d.push(this.term());return{type:"Alternative",value:d,loc:this.loc(g)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var d=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(d)};case"$":return{type:"EndAnchor",loc:this.loc(d)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(d)};case"B":return{type:"NonWordBoundary",loc:this.loc(d)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var g;switch(this.popChar()){case"=":g="Lookahead";break;case"!":g="NegativeLookahead";break}a(g);var x=this.disjunction();return this.consumeChar(")"),{type:g,value:x,loc:this.loc(d)}}l()},t.prototype.quantifier=function(d){var g,x=this.idx;switch(this.popChar()){case"*":g={atLeast:0,atMost:1/0};break;case"+":g={atLeast:1,atMost:1/0};break;case"?":g={atLeast:0,atMost:1};break;case"{":var m=this.integerIncludingZero();switch(this.popChar()){case"}":g={atLeast:m,atMost:m};break;case",":var v;this.isDigit()?(v=this.integerIncludingZero(),g={atLeast:m,atMost:v}):g={atLeast:m,atMost:1/0},this.consumeChar("}");break}if(d===!0&&g===void 0)return;a(g);break}if(!(d===!0&&g===void 0))return a(g),this.peekChar(0)==="?"?(this.consumeChar("?"),g.greedy=!1):g.greedy=!0,g.type="Quantifier",g.loc=this.loc(x),g},t.prototype.atom=function(){var d,g=this.idx;switch(this.peekChar()){case".":d=this.dotAll();break;case"\\":d=this.atomEscape();break;case"[":d=this.characterClass();break;case"(":d=this.group();break}return d===void 0&&this.isPatternCharacter()&&(d=this.patternCharacter()),a(d),d.loc=this.loc(g),this.isQuantifier()&&(d.quantifier=this.quantifier()),d},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[i(`
`),i("\r"),i("\u2028"),i("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){var d=this.positiveInteger();return{type:"GroupBackReference",value:d}},t.prototype.characterClassEscape=function(){var d,g=!1;switch(this.popChar()){case"d":d=c;break;case"D":d=c,g=!0;break;case"s":d=h;break;case"S":d=h,g=!0;break;case"w":d=f;break;case"W":d=f,g=!0;break}return a(d),{type:"Set",value:d,complement:g}},t.prototype.controlEscapeAtom=function(){var d;switch(this.popChar()){case"f":d=i("\f");break;case"n":d=i(`
`);break;case"r":d=i("\r");break;case"t":d=i("	");break;case"v":d=i("\v");break}return a(d),{type:"Character",value:d}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var d=this.popChar();if(/[a-zA-Z]/.test(d)===!1)throw Error("Invalid ");var g=d.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:g}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:i("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){var d=this.popChar();return{type:"Character",value:i(d)}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var d=this.popChar();return{type:"Character",value:i(d)}}},t.prototype.characterClass=function(){var d=[],g=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),g=!0);this.isClassAtom();){var x=this.classAtom(),m=x.type==="Character";if(m&&this.isRangeDash()){this.consumeChar("-");var v=this.classAtom(),y=v.type==="Character";if(y){if(v.value<x.value)throw Error("Range out of order in character class");d.push({from:x.value,to:v.value})}else o(x.value,d),d.push(i("-")),o(v.value,d)}else o(x.value,d)}return this.consumeChar("]"),{type:"Set",complement:g,value:d}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:i("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var d=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),d=!1;break;default:this.groupIdx++;break}var g=this.disjunction();this.consumeChar(")");var x={type:"Group",capturing:d,value:g};return d&&(x.idx=this.groupIdx),x},t.prototype.positiveInteger=function(){var d=this.popChar();if(r.test(d)===!1)throw Error("Expecting a positive integer");for(;n.test(this.peekChar(0));)d+=this.popChar();return parseInt(d,10)},t.prototype.integerIncludingZero=function(){var d=this.popChar();if(n.test(d)===!1)throw Error("Expecting an integer");for(;n.test(this.peekChar(0));)d+=this.popChar();return parseInt(d,10)},t.prototype.patternCharacter=function(){var d=this.popChar();switch(d){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:i(d)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},t.prototype.isDigit=function(){return n.test(this.peekChar(0))},t.prototype.isClassAtom=function(d){switch(d===void 0&&(d=0),this.peekChar(d)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},t.prototype.isQuantifier=function(){var d=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(d)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(d){for(var g="",x=0;x<d;x++){var m=this.popChar();if(e.test(m)===!1)throw Error("Expecting a HexDecimal digits");g+=m}var v=parseInt(g,16);return{type:"Character",value:v}},t.prototype.peekChar=function(d){return d===void 0&&(d=0),this.input[this.idx+d]},t.prototype.popChar=function(){var d=this.peekChar(0);return this.consumeChar(),d},t.prototype.consumeChar=function(d){if(d!==void 0&&this.input[this.idx]!==d)throw Error("Expected: '"+d+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(d){return{begin:d,end:this.idx}};var e=/[0-9a-fA-F]/,n=/[0-9]/,r=/[1-9]/;function i(d){return d.charCodeAt(0)}function o(d,g){d.length!==void 0?d.forEach(function(x){g.push(x)}):g.push(d)}function s(d,g){if(d[g]===!0)throw"duplicate flag "+g;d[g]=!0}function a(d){if(d===void 0)throw Error("Internal Error - Should never get here!")}function l(){throw Error("Internal Error - Should never get here!")}var u,c=[];for(u=i("0");u<=i("9");u++)c.push(u);var f=[i("_")].concat(c);for(u=i("a");u<=i("z");u++)f.push(u);for(u=i("A");u<=i("Z");u++)f.push(u);var h=[i(" "),i("\f"),i(`
`),i("\r"),i("	"),i("\v"),i("	"),i("\xA0"),i("\u1680"),i("\u2000"),i("\u2001"),i("\u2002"),i("\u2003"),i("\u2004"),i("\u2005"),i("\u2006"),i("\u2007"),i("\u2008"),i("\u2009"),i("\u200A"),i("\u2028"),i("\u2029"),i("\u202F"),i("\u205F"),i("\u3000"),i("\uFEFF")];function p(){}return p.prototype.visitChildren=function(d){for(var g in d){var x=d[g];d.hasOwnProperty(g)&&(x.type!==void 0?this.visit(x):Array.isArray(x)&&x.forEach(function(m){this.visit(m)},this))}},p.prototype.visit=function(d){switch(d.type){case"Pattern":this.visitPattern(d);break;case"Flags":this.visitFlags(d);break;case"Disjunction":this.visitDisjunction(d);break;case"Alternative":this.visitAlternative(d);break;case"StartAnchor":this.visitStartAnchor(d);break;case"EndAnchor":this.visitEndAnchor(d);break;case"WordBoundary":this.visitWordBoundary(d);break;case"NonWordBoundary":this.visitNonWordBoundary(d);break;case"Lookahead":this.visitLookahead(d);break;case"NegativeLookahead":this.visitNegativeLookahead(d);break;case"Character":this.visitCharacter(d);break;case"Set":this.visitSet(d);break;case"Group":this.visitGroup(d);break;case"GroupBackReference":this.visitGroupBackReference(d);break;case"Quantifier":this.visitQuantifier(d);break}this.visitChildren(d)},p.prototype.visitPattern=function(d){},p.prototype.visitFlags=function(d){},p.prototype.visitDisjunction=function(d){},p.prototype.visitAlternative=function(d){},p.prototype.visitStartAnchor=function(d){},p.prototype.visitEndAnchor=function(d){},p.prototype.visitWordBoundary=function(d){},p.prototype.visitNonWordBoundary=function(d){},p.prototype.visitLookahead=function(d){},p.prototype.visitNegativeLookahead=function(d){},p.prototype.visitCharacter=function(d){},p.prototype.visitSet=function(d){},p.prototype.visitGroup=function(d){},p.prototype.visitGroupBackReference=function(d){},p.prototype.visitQuantifier=function(d){},{RegExpParser:t,BaseRegExpVisitor:p,VERSION:"0.5.0"}})});var jI=S((pme,WI)=>{function Mte(t){return t&&t.length?t[0]:void 0}WI.exports=Mte});var Ma=S((mme,HI)=>{HI.exports=jI()});var xc=S((gme,GI)=>{function Pte(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}GI.exports=Pte});var gx=S((vme,KI)=>{var Lte=Yi();function Nte(t,e){var n=[];return Lte(t,function(r,i,o){e(r,i,o)&&n.push(r)}),n}KI.exports=Nte});var YI=S((yme,$I)=>{var Ite="Expected a function";function Dte(t){if(typeof t!="function")throw new TypeError(Ite);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}$I.exports=Dte});var Op=S((xme,XI)=>{var Fte=rp(),Bte=gx(),qte=er(),Vte=ce(),Ute=YI();function zte(t,e){var n=Vte(t)?Fte:Bte;return n(t,Ute(qte(e,3)))}XI.exports=zte});var QI=S((Sme,ZI)=>{var Wte=Jd(),jte=ux(),Hte=cx(),Gte=ga(),Kte=pa(),$te=ep(),Yte=200;function Xte(t,e,n,r){var i=-1,o=jte,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=Gte(e,Kte(n))),r?(o=Hte,s=!1):e.length>=Yte&&(o=$te,s=!1,e=new Wte(e));e:for(;++i<a;){var c=t[i],f=n==null?c:n(c);if(c=r||c!==0?c:0,s&&f===f){for(var h=u;h--;)if(e[h]===f)continue e;l.push(c)}else o(e,f,r)||l.push(c)}return l}ZI.exports=Xte});var e3=S((kme,JI)=>{var Zte=Jn(),Qte=Qn();function Jte(t){return Qte(t)&&Zte(t)}JI.exports=Jte});var Rp=S((wme,n3)=>{var ene=QI(),tne=wp(),nne=pp(),t3=e3(),rne=nne(function(t,e){return t3(t)?ene(t,tne(e,1,t3,!0)):[]});n3.exports=rne});var i3=S((bme,r3)=>{var ine=xp(),one=_a(),sne=Math.max;function ane(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:one(n);return i<0&&(i=sne(r+i,0)),ine(t,e,i)}r3.exports=ane});var s3=S((Cme,o3)=>{var lne=er(),une=Jn(),cne=dn();function fne(t){return function(e,n,r){var i=Object(e);if(!une(e)){var o=lne(n,3);e=cne(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}o3.exports=fne});var l3=S((Eme,a3)=>{var hne=sx(),dne=er(),pne=_a(),mne=Math.max;function gne(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:pne(n);return i<0&&(i=mne(r+i,0)),hne(t,dne(e,3),i)}a3.exports=gne});var Mp=S((Tme,u3)=>{var vne=s3(),yne=l3(),xne=vne(yne);u3.exports=xne});var Pp=S((Ame,c3)=>{var Sne=rp(),kne=gx(),wne=er(),bne=ce();function Cne(t,e){var n=bne(t)?Sne:kne;return n(t,wne(e,3))}c3.exports=Cne});var vx=S((_me,h3)=>{var Ene=pp(),Tne=va(),Ane=mc(),_ne=hc(),f3=Object.prototype,One=f3.hasOwnProperty,Rne=Ene(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Ane(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=_ne(o),a=-1,l=s.length;++a<l;){var u=s[a],c=t[u];(c===void 0||Tne(c,f3[u])&&!One.call(t,u))&&(t[u]=o[u])}return t});h3.exports=Rne});var p3=S((Ome,d3)=>{function Mne(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}d3.exports=Mne});var g3=S((Rme,m3)=>{function Pne(t,e,n,r,i){return i(t,function(o,s,a){n=r?(r=!1,o):e(n,o,s,a)}),n}m3.exports=Pne});var Xi=S((Mme,v3)=>{var Lne=p3(),Nne=Yi(),Ine=er(),Dne=g3(),Fne=ce();function Bne(t,e,n){var r=Fne(t)?Lne:Dne,i=arguments.length<3;return r(t,Ine(e,4),n,i,Nne)}v3.exports=Bne});var Np=S(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.clearRegExpParserCache=Pa.getRegExpAst=void 0;var qne=_p(),Lp={},Vne=new qne.RegExpParser;function Une(t){var e=t.toString();if(Lp.hasOwnProperty(e))return Lp[e];var n=Vne.pattern(e);return Lp[e]=n,n}Pa.getRegExpAst=Une;function zne(){Lp={}}Pa.clearRegExpParserCache=zne});var b3=S(Tt=>{"use strict";var Wne=Tt&&Tt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),La=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.canMatchCharCode=Tt.firstCharOptimizedIndices=Tt.getOptimizedStartCodesIndices=Tt.failedOptimizationPrefixMsg=void 0;var S3=_p(),jne=La(ce()),Hne=La(yc()),Gne=La(pt()),yx=La(Mp()),Kne=La(Sr()),Sx=La(ei()),y3=Aa(),k3=Np(),ti=kx(),w3="Complement Sets are not supported for first char optimization";Tt.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function $ne(t,e){e===void 0&&(e=!1);try{var n=(0,k3.getRegExpAst)(t),r=Dp(n.value,{},n.flags.ignoreCase);return r}catch(o){if(o.message===w3)e&&(0,y3.PRINT_WARNING)("".concat(Tt.failedOptimizationPrefixMsg)+"	Unable to optimize: < ".concat(t.toString(),` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var i="";e&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),(0,y3.PRINT_ERROR)("".concat(Tt.failedOptimizationPrefixMsg,`
`)+"	Failed parsing: < ".concat(t.toString(),` >
`)+"	Using the regexp-to-ast library version: ".concat(S3.VERSION,`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+i)}}return[]}Tt.getOptimizedStartCodesIndices=$ne;function Dp(t,e,n){switch(t.type){case"Disjunction":for(var r=0;r<t.value.length;r++)Dp(t.value[r],e,n);break;case"Alternative":for(var i=t.value,r=0;r<i.length;r++){var o=i[r];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var s=o;switch(s.type){case"Character":Ip(s.value,e,n);break;case"Set":if(s.complement===!0)throw Error(w3);(0,Gne.default)(s.value,function(u){if(typeof u=="number")Ip(u,e,n);else{var c=u;if(n===!0)for(var f=c.from;f<=c.to;f++)Ip(f,e,n);else{for(var f=c.from;f<=c.to&&f<ti.minOptimizationVal;f++)Ip(f,e,n);if(c.to>=ti.minOptimizationVal)for(var h=c.from>=ti.minOptimizationVal?c.from:ti.minOptimizationVal,p=c.to,d=(0,ti.charCodeToOptimizedIndex)(h),g=(0,ti.charCodeToOptimizedIndex)(p),x=d;x<=g;x++)e[x]=x}}});break;case"Group":Dp(s.value,e,n);break;default:throw Error("Non Exhaustive Match")}var a=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&xx(s)===!1||s.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return(0,Kne.default)(e)}Tt.firstCharOptimizedIndices=Dp;function Ip(t,e,n){var r=(0,ti.charCodeToOptimizedIndex)(t);e[r]=r,n===!0&&Yne(t,e)}function Yne(t,e){var n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){var i=(0,ti.charCodeToOptimizedIndex)(r.charCodeAt(0));e[i]=i}else{var o=n.toLowerCase();if(o!==n){var i=(0,ti.charCodeToOptimizedIndex)(o.charCodeAt(0));e[i]=i}}}function x3(t,e){return(0,yx.default)(t.value,function(n){if(typeof n=="number")return(0,Sx.default)(e,n);var r=n;return(0,yx.default)(e,function(i){return r.from<=i&&i<=r.to})!==void 0})}function xx(t){var e=t.quantifier;return e&&e.atLeast===0?!0:t.value?(0,jne.default)(t.value)?(0,Hne.default)(t.value,xx):xx(t.value):!1}var Xne=function(t){Wne(e,t);function e(n){var r=t.call(this)||this;return r.targetCharCodes=n,r.found=!1,r}return e.prototype.visitChildren=function(n){if(this.found!==!0){switch(n.type){case"Lookahead":this.visitLookahead(n);return;case"NegativeLookahead":this.visitNegativeLookahead(n);return}t.prototype.visitChildren.call(this,n)}},e.prototype.visitCharacter=function(n){(0,Sx.default)(this.targetCharCodes,n.value)&&(this.found=!0)},e.prototype.visitSet=function(n){n.complement?x3(n,this.targetCharCodes)===void 0&&(this.found=!0):x3(n,this.targetCharCodes)!==void 0&&(this.found=!0)},e}(S3.BaseRegExpVisitor);function Zne(t,e){if(e instanceof RegExp){var n=(0,k3.getRegExpAst)(e),r=new Xne(t);return r.visit(n),r.found}else return(0,yx.default)(e,function(i){return(0,Sx.default)(t,i.charCodeAt(0))})!==void 0}Tt.canMatchCharCode=Zne});var kx=S(F=>{"use strict";var T3=F&&F.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(F,"__esModule",{value:!0});F.charCodeToOptimizedIndex=F.minOptimizationVal=F.buildLineBreakIssueMessage=F.LineTerminatorOptimizedTester=F.isShortPattern=F.isCustomPattern=F.cloneEmptyGroups=F.performWarningRuntimeChecks=F.performRuntimeChecks=F.addStickyFlag=F.addStartOfInput=F.findUnreachablePatterns=F.findModesThatDoNotExist=F.findInvalidGroupType=F.findDuplicatePatterns=F.findUnsupportedFlags=F.findStartOfInputAnchor=F.findEmptyMatchRegExps=F.findEndOfInputAnchor=F.findInvalidPatterns=F.findMissingPatterns=F.validatePatterns=F.analyzeTokenTypes=F.enableSticky=F.disableSticky=F.SUPPORT_STICKY=F.MODES=F.DEFAULT_MODE=void 0;var A3=_p(),de=Sc(),Qne=qe(Ma()),_3=qe(Rn()),O3=qe(xc()),Bp=qe(ce()),Jne=qe(Sr()),ere=qe(Tr()),R3=qe(Op()),M3=qe(Rp()),C3=qe(i3()),Oe=qe(Ft()),ni=qe(pt()),ri=qe(pc()),Vp=qe(ca()),bx=qe(Yo()),tre=qe(Mp()),At=qe(pn()),nre=qe(dn()),Zi=qe(rx()),Ar=qe(Pp()),rre=qe(vx()),qp=qe(Xi()),Up=qe(ei()),E3=Aa(),Na=b3(),P3=Np(),Xo="PATTERN";F.DEFAULT_MODE="defaultMode";F.MODES="modes";F.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function ire(){F.SUPPORT_STICKY=!1}F.disableSticky=ire;function ore(){F.SUPPORT_STICKY=!0}F.enableSticky=ore;function sre(t,e){e=(0,rre.default)(e,{useSticky:F.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(v,y){return y()}});var n=e.tracer;n("initCharCodeToOptimizedIndexMap",function(){gre()});var r;n("Reject Lexer.NA",function(){r=(0,R3.default)(t,function(v){return v[Xo]===de.Lexer.NA})});var i=!1,o;n("Transform Patterns",function(){i=!1,o=(0,Oe.default)(r,function(v){var y=v[Xo];if((0,Zi.default)(y)){var k=y.source;return k.length===1&&k!=="^"&&k!=="$"&&k!=="."&&!y.ignoreCase?k:k.length===2&&k[0]==="\\"&&!(0,Up.default)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],k[1])?k[1]:e.useSticky?Ex(y):Cx(y)}else{if((0,Vp.default)(y))return i=!0,{exec:y};if(typeof y=="object")return i=!0,y;if(typeof y=="string"){if(y.length===1)return y;var b=y.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(b);return e.useSticky?Ex(w):Cx(w)}else throw Error("non exhaustive match")}})});var s,a,l,u,c;n("misc mapping",function(){s=(0,Oe.default)(r,function(v){return v.tokenTypeIdx}),a=(0,Oe.default)(r,function(v){var y=v.GROUP;if(y!==de.Lexer.SKIPPED){if((0,ri.default)(y))return y;if((0,bx.default)(y))return!1;throw Error("non exhaustive match")}}),l=(0,Oe.default)(r,function(v){var y=v.LONGER_ALT;if(y){var k=(0,Bp.default)(y)?(0,Oe.default)(y,function(b){return(0,C3.default)(r,b)}):[(0,C3.default)(r,y)];return k}}),u=(0,Oe.default)(r,function(v){return v.PUSH_MODE}),c=(0,Oe.default)(r,function(v){return(0,At.default)(v,"POP_MODE")})});var f;n("Line Terminator Handling",function(){var v=G3(e.lineTerminatorCharacters);f=(0,Oe.default)(r,function(y){return!1}),e.positionTracking!=="onlyOffset"&&(f=(0,Oe.default)(r,function(y){return(0,At.default)(y,"LINE_BREAKS")?!!y.LINE_BREAKS:j3(y,v)===!1&&(0,Na.canMatchCharCode)(v,y.PATTERN)}))});var h,p,d,g;n("Misc Mapping #2",function(){h=(0,Oe.default)(r,Ax),p=(0,Oe.default)(o,W3),d=(0,qp.default)(r,function(v,y){var k=y.GROUP;return(0,ri.default)(k)&&k!==de.Lexer.SKIPPED&&(v[k]=[]),v},{}),g=(0,Oe.default)(o,function(v,y){return{pattern:o[y],longerAlt:l[y],canLineTerminator:f[y],isCustom:h[y],short:p[y],group:a[y],push:u[y],pop:c[y],tokenTypeIdx:s[y],tokenType:r[y]}})});var x=!0,m=[];return e.safeMode||n("First Char Optimization",function(){m=(0,qp.default)(r,function(v,y,k){if(typeof y.PATTERN=="string"){var b=y.PATTERN.charCodeAt(0),w=Tx(b);wx(v,w,g[k])}else if((0,Bp.default)(y.START_CHARS_HINT)){var C;(0,ni.default)(y.START_CHARS_HINT,function(A){var O=typeof A=="string"?A.charCodeAt(0):A,q=Tx(O);C!==q&&(C=q,wx(v,q,g[k]))})}else if((0,Zi.default)(y.PATTERN))if(y.PATTERN.unicode)x=!1,e.ensureOptimizations&&(0,E3.PRINT_ERROR)("".concat(Na.failedOptimizationPrefixMsg)+"	Unable to analyze < ".concat(y.PATTERN.toString(),` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var E=(0,Na.getOptimizedStartCodesIndices)(y.PATTERN,e.ensureOptimizations);(0,_3.default)(E)&&(x=!1),(0,ni.default)(E,function(A){wx(v,A,g[k])})}else e.ensureOptimizations&&(0,E3.PRINT_ERROR)("".concat(Na.failedOptimizationPrefixMsg)+"	TokenType: <".concat(y.name,`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),x=!1;return v},[])}),{emptyGroups:d,patternIdxToConfig:g,charCodeToPatternIdxToConfig:m,hasCustom:i,canBeOptimized:x}}F.analyzeTokenTypes=sre;function are(t,e){var n=[],r=L3(t);n=n.concat(r.errors);var i=N3(r.valid),o=i.valid;return n=n.concat(i.errors),n=n.concat(lre(o)),n=n.concat(V3(o)),n=n.concat(U3(o,e)),n=n.concat(z3(o)),n}F.validatePatterns=are;function lre(t){var e=[],n=(0,Ar.default)(t,function(r){return(0,Zi.default)(r[Xo])});return e=e.concat(I3(n)),e=e.concat(F3(n)),e=e.concat(B3(n)),e=e.concat(q3(n)),e=e.concat(D3(n)),e}function L3(t){var e=(0,Ar.default)(t,function(i){return!(0,At.default)(i,Xo)}),n=(0,Oe.default)(e,function(i){return{message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:de.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[i]}}),r=(0,M3.default)(t,e);return{errors:n,valid:r}}F.findMissingPatterns=L3;function N3(t){var e=(0,Ar.default)(t,function(i){var o=i[Xo];return!(0,Zi.default)(o)&&!(0,Vp.default)(o)&&!(0,At.default)(o,"exec")&&!(0,ri.default)(o)}),n=(0,Oe.default)(e,function(i){return{message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:de.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[i]}}),r=(0,M3.default)(t,e);return{errors:n,valid:r}}F.findInvalidPatterns=N3;var ure=/[^\\][$]/;function I3(t){var e=function(i){T3(o,i);function o(){var s=i!==null&&i.apply(this,arguments)||this;return s.found=!1,s}return o.prototype.visitEndAnchor=function(s){this.found=!0},o}(A3.BaseRegExpVisitor),n=(0,Ar.default)(t,function(i){var o=i.PATTERN;try{var s=(0,P3.getRegExpAst)(o),a=new e;return a.visit(s),a.found}catch{return ure.test(o.source)}}),r=(0,Oe.default)(n,function(i){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:de.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[i]}});return r}F.findEndOfInputAnchor=I3;function D3(t){var e=(0,Ar.default)(t,function(r){var i=r.PATTERN;return i.test("")}),n=(0,Oe.default)(e,function(r){return{message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:de.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[r]}});return n}F.findEmptyMatchRegExps=D3;var cre=/[^\\[][\^]|^\^/;function F3(t){var e=function(i){T3(o,i);function o(){var s=i!==null&&i.apply(this,arguments)||this;return s.found=!1,s}return o.prototype.visitStartAnchor=function(s){this.found=!0},o}(A3.BaseRegExpVisitor),n=(0,Ar.default)(t,function(i){var o=i.PATTERN;try{var s=(0,P3.getRegExpAst)(o),a=new e;return a.visit(s),a.found}catch{return cre.test(o.source)}}),r=(0,Oe.default)(n,function(i){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:de.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[i]}});return r}F.findStartOfInputAnchor=F3;function B3(t){var e=(0,Ar.default)(t,function(r){var i=r[Xo];return i instanceof RegExp&&(i.multiline||i.global)}),n=(0,Oe.default)(e,function(r){return{message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:de.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}});return n}F.findUnsupportedFlags=B3;function q3(t){var e=[],n=(0,Oe.default)(t,function(o){return(0,qp.default)(t,function(s,a){return o.PATTERN.source===a.PATTERN.source&&!(0,Up.default)(e,a)&&a.PATTERN!==de.Lexer.NA&&(e.push(a),s.push(a)),s},[])});n=(0,O3.default)(n);var r=(0,Ar.default)(n,function(o){return o.length>1}),i=(0,Oe.default)(r,function(o){var s=(0,Oe.default)(o,function(l){return l.name}),a=(0,Qne.default)(o).PATTERN;return{message:"The same RegExp pattern ->".concat(a,"<-")+"has been used in all of the following Token Types: ".concat(s.join(", ")," <-"),type:de.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:o}});return i}F.findDuplicatePatterns=q3;function V3(t){var e=(0,Ar.default)(t,function(r){if(!(0,At.default)(r,"GROUP"))return!1;var i=r.GROUP;return i!==de.Lexer.SKIPPED&&i!==de.Lexer.NA&&!(0,ri.default)(i)}),n=(0,Oe.default)(e,function(r){return{message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:de.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}});return n}F.findInvalidGroupType=V3;function U3(t,e){var n=(0,Ar.default)(t,function(i){return i.PUSH_MODE!==void 0&&!(0,Up.default)(e,i.PUSH_MODE)}),r=(0,Oe.default)(n,function(i){var o="Token Type: ->".concat(i.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat(i.PUSH_MODE,"<-")+"which does not exist";return{message:o,type:de.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}});return r}F.findModesThatDoNotExist=U3;function z3(t){var e=[],n=(0,qp.default)(t,function(r,i,o){var s=i.PATTERN;return s===de.Lexer.NA||((0,ri.default)(s)?r.push({str:s,idx:o,tokenType:i}):(0,Zi.default)(s)&&hre(s)&&r.push({str:s.source,idx:o,tokenType:i})),r},[]);return(0,ni.default)(t,function(r,i){(0,ni.default)(n,function(o){var s=o.str,a=o.idx,l=o.tokenType;if(i<a&&fre(s,r.PATTERN)){var u="Token: ->".concat(l.name,`<- can never be matched.
`)+"Because it appears AFTER the Token Type ->".concat(r.name,"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:u,type:de.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[r,l]})}})}),e}F.findUnreachablePatterns=z3;function fre(t,e){if((0,Zi.default)(e)){var n=e.exec(t);return n!==null&&n.index===0}else{if((0,Vp.default)(e))return e(t,0,[],{});if((0,At.default)(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function hre(t){var e=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return(0,tre.default)(e,function(n){return t.source.indexOf(n)!==-1})===void 0}function Cx(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:".concat(t.source,")"),e)}F.addStartOfInput=Cx;function Ex(t){var e=t.ignoreCase?"iy":"y";return new RegExp("".concat(t.source),e)}F.addStickyFlag=Ex;function dre(t,e,n){var r=[];return(0,At.default)(t,F.DEFAULT_MODE)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+F.DEFAULT_MODE+`> property in its definition
`,type:de.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,At.default)(t,F.MODES)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+F.MODES+`> property in its definition
`,type:de.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,At.default)(t,F.MODES)&&(0,At.default)(t,F.DEFAULT_MODE)&&!(0,At.default)(t.modes,t.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(F.DEFAULT_MODE,": <").concat(t.defaultMode,">")+`which does not exist
`,type:de.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,At.default)(t,F.MODES)&&(0,ni.default)(t.modes,function(i,o){(0,ni.default)(i,function(s,a){if((0,bx.default)(s))r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+"<".concat(o,"> at index: <").concat(a,`>
`),type:de.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,At.default)(s,"LONGER_ALT")){var l=(0,Bp.default)(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];(0,ni.default)(l,function(u){!(0,bx.default)(u)&&!(0,Up.default)(i,u)&&r.push({message:"A MultiMode Lexer cannot be initialized with a longer_alt <".concat(u.name,"> on token <").concat(s.name,"> outside of mode <").concat(o,`>
`),type:de.LexerDefinitionErrorType.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}F.performRuntimeChecks=dre;function pre(t,e,n){var r=[],i=!1,o=(0,O3.default)((0,ere.default)((0,Jne.default)(t.modes))),s=(0,R3.default)(o,function(l){return l[Xo]===de.Lexer.NA}),a=G3(n);return e&&(0,ni.default)(s,function(l){var u=j3(l,a);if(u!==!1){var c=H3(l,u),f={message:c,type:u.issue,tokenType:l};r.push(f)}else(0,At.default)(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):(0,Na.canMatchCharCode)(a,l.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:de.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),r}F.performWarningRuntimeChecks=pre;function mre(t){var e={},n=(0,nre.default)(t);return(0,ni.default)(n,function(r){var i=t[r];if((0,Bp.default)(i))e[r]=[];else throw Error("non exhaustive match")}),e}F.cloneEmptyGroups=mre;function Ax(t){var e=t.PATTERN;if((0,Zi.default)(e))return!1;if((0,Vp.default)(e))return!0;if((0,At.default)(e,"exec"))return!0;if((0,ri.default)(e))return!1;throw Error("non exhaustive match")}F.isCustomPattern=Ax;function W3(t){return(0,ri.default)(t)&&t.length===1?t.charCodeAt(0):!1}F.isShortPattern=W3;F.LineTerminatorOptimizedTester={test:function(t){for(var e=t.length,n=this.lastIndex;n<e;n++){var r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function j3(t,e){if((0,At.default)(t,"LINE_BREAKS"))return!1;if((0,Zi.default)(t.PATTERN)){try{(0,Na.canMatchCharCode)(e,t.PATTERN)}catch(n){return{issue:de.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if((0,ri.default)(t.PATTERN))return!1;if(Ax(t))return{issue:de.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function H3(t,e){if(e.issue===de.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+"	The problem is in the <".concat(t.name,`> Token Type
`)+"	 Root cause: ".concat(e.errMsg,`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===de.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+"	The problem is in the <".concat(t.name,`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}F.buildLineBreakIssueMessage=H3;function G3(t){var e=(0,Oe.default)(t,function(n){return(0,ri.default)(n)?n.charCodeAt(0):n});return e}function wx(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}F.minOptimizationVal=256;var Fp=[];function Tx(t){return t<F.minOptimizationVal?t:Fp[t]}F.charCodeToOptimizedIndex=Tx;function gre(){if((0,_3.default)(Fp)){Fp=new Array(65536);for(var t=0;t<65536;t++)Fp[t]=t>255?255+~~(t/255):t}}});var zp=S((Ime,K3)=>{function vre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}K3.exports=vre});var Qo=S(G=>{"use strict";var _r=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G,"__esModule",{value:!0});G.isTokenType=G.hasExtendingTokensTypesMapProperty=G.hasExtendingTokensTypesProperty=G.hasCategoriesProperty=G.hasShortKeyProperty=G.singleAssignCategoriesToksMap=G.assignCategoriesMapProp=G.assignCategoriesTokensProp=G.assignTokenDefaultProps=G.expandCategories=G.augmentTokenTypes=G.tokenIdxToClass=G.tokenShortNameIdx=G.tokenStructuredMatcherNoCategories=G.tokenStructuredMatcher=void 0;var yre=_r(Rn()),xre=_r(xc()),Sre=_r(ce()),kre=_r(Tr()),wre=_r(Rp()),bre=_r(Ft()),Zo=_r(pt()),kc=_r(pn()),Cre=_r(ei()),Ere=_r(Qr());function Tre(t,e){var n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}G.tokenStructuredMatcher=Tre;function Are(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}G.tokenStructuredMatcherNoCategories=Are;G.tokenShortNameIdx=1;G.tokenIdxToClass={};function _re(t){var e=$3(t);Y3(e),Z3(e),X3(e),(0,Zo.default)(e,function(n){n.isParent=n.categoryMatches.length>0})}G.augmentTokenTypes=_re;function $3(t){for(var e=(0,Ere.default)(t),n=t,r=!0;r;){n=(0,xre.default)((0,kre.default)((0,bre.default)(n,function(o){return o.CATEGORIES})));var i=(0,wre.default)(n,e);e=e.concat(i),(0,yre.default)(i)?r=!1:n=i}return e}G.expandCategories=$3;function Y3(t){(0,Zo.default)(t,function(e){Q3(e)||(G.tokenIdxToClass[G.tokenShortNameIdx]=e,e.tokenTypeIdx=G.tokenShortNameIdx++),_x(e)&&!(0,Sre.default)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),_x(e)||(e.CATEGORIES=[]),J3(e)||(e.categoryMatches=[]),eD(e)||(e.categoryMatchesMap={})})}G.assignTokenDefaultProps=Y3;function X3(t){(0,Zo.default)(t,function(e){e.categoryMatches=[],(0,Zo.default)(e.categoryMatchesMap,function(n,r){e.categoryMatches.push(G.tokenIdxToClass[r].tokenTypeIdx)})})}G.assignCategoriesTokensProp=X3;function Z3(t){(0,Zo.default)(t,function(e){Ox([],e)})}G.assignCategoriesMapProp=Z3;function Ox(t,e){(0,Zo.default)(t,function(n){e.categoryMatchesMap[n.tokenTypeIdx]=!0}),(0,Zo.default)(e.CATEGORIES,function(n){var r=t.concat(e);(0,Cre.default)(r,n)||Ox(r,n)})}G.singleAssignCategoriesToksMap=Ox;function Q3(t){return(0,kc.default)(t,"tokenTypeIdx")}G.hasShortKeyProperty=Q3;function _x(t){return(0,kc.default)(t,"CATEGORIES")}G.hasCategoriesProperty=_x;function J3(t){return(0,kc.default)(t,"categoryMatches")}G.hasExtendingTokensTypesProperty=J3;function eD(t){return(0,kc.default)(t,"categoryMatchesMap")}G.hasExtendingTokensTypesMapProperty=eD;function Ore(t){return(0,kc.default)(t,"tokenTypeIdx")}G.isTokenType=Ore});var Rx=S(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.defaultLexerErrorProvider=void 0;Wp.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->".concat(t.image,"<- The Mode Stack is empty")},buildUnexpectedCharactersMessage:function(t,e,n,r,i){return"unexpected character: ->".concat(t.charAt(e),"<- at offset: ").concat(e,",")+" skipped ".concat(n," characters.")}}});var Sc=S(oi=>{"use strict";var mn=oi&&oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oi,"__esModule",{value:!0});oi.Lexer=oi.LexerDefinitionErrorType=void 0;var ii=kx(),Mx=mn(bp()),jp=mn(Rn()),Rre=mn(ce()),Mre=mn(zp()),Pre=mn(Op()),tD=mn(Ft()),Px=mn(pt()),Lre=mn(dn()),Nre=mn(Yo()),nD=mn(ba()),rD=mn(gc()),Ire=mn(Xi()),iD=mn(Qr()),Lx=Aa(),Dre=Qo(),Fre=Rx(),Bre=Np(),qre;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(qre=oi.LexerDefinitionErrorType||(oi.LexerDefinitionErrorType={}));var wc={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Fre.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(wc);var Vre=function(){function t(e,n){n===void 0&&(n=wc);var r=this;if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=function(o,s){if(r.traceInitPerf===!0){r.traceInitIndent++;var a=new Array(r.traceInitIndent+1).join("	");r.traceInitIndent<r.traceInitMaxIdent&&console.log("".concat(a,"--> <").concat(o,">"));var l=(0,Lx.timer)(s),u=l.time,c=l.value,f=u>10?console.warn:console.log;return r.traceInitIndent<r.traceInitMaxIdent&&f("".concat(a,"<-- <").concat(o,"> time: ").concat(u,"ms")),r.traceInitIndent--,c}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=(0,rD.default)({},wc,n);var i=this.config.traceInitPerf;i===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof i=="number"&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var o,s=!0;r.TRACE_INIT("Lexer Config handling",function(){if(r.config.lineTerminatorsPattern===wc.lineTerminatorsPattern)r.config.lineTerminatorsPattern=ii.LineTerminatorOptimizedTester;else if(r.config.lineTerminatorCharacters===wc.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');r.trackStartLines=/full|onlyStart/i.test(r.config.positionTracking),r.trackEndLines=/full/i.test(r.config.positionTracking),(0,Rre.default)(e)?o={modes:{defaultMode:(0,iD.default)(e)},defaultMode:ii.DEFAULT_MODE}:(s=!1,o=(0,iD.default)(e))}),r.config.skipValidations===!1&&(r.TRACE_INIT("performRuntimeChecks",function(){r.lexerDefinitionErrors=r.lexerDefinitionErrors.concat((0,ii.performRuntimeChecks)(o,r.trackStartLines,r.config.lineTerminatorCharacters))}),r.TRACE_INIT("performWarningRuntimeChecks",function(){r.lexerDefinitionWarning=r.lexerDefinitionWarning.concat((0,ii.performWarningRuntimeChecks)(o,r.trackStartLines,r.config.lineTerminatorCharacters))})),o.modes=o.modes?o.modes:{},(0,Px.default)(o.modes,function(c,f){o.modes[f]=(0,Pre.default)(c,function(h){return(0,Nre.default)(h)})});var a=(0,Lre.default)(o.modes);if((0,Px.default)(o.modes,function(c,f){r.TRACE_INIT("Mode: <".concat(f,"> processing"),function(){if(r.modes.push(f),r.config.skipValidations===!1&&r.TRACE_INIT("validatePatterns",function(){r.lexerDefinitionErrors=r.lexerDefinitionErrors.concat((0,ii.validatePatterns)(c,a))}),(0,jp.default)(r.lexerDefinitionErrors)){(0,Dre.augmentTokenTypes)(c);var h;r.TRACE_INIT("analyzeTokenTypes",function(){h=(0,ii.analyzeTokenTypes)(c,{lineTerminatorCharacters:r.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:r.TRACE_INIT})}),r.patternIdxToConfig[f]=h.patternIdxToConfig,r.charCodeToPatternIdxToConfig[f]=h.charCodeToPatternIdxToConfig,r.emptyGroups=(0,rD.default)({},r.emptyGroups,h.emptyGroups),r.hasCustom=h.hasCustom||r.hasCustom,r.canModeBeOptimized[f]=h.canBeOptimized}})}),r.defaultMode=o.defaultMode,!(0,jp.default)(r.lexerDefinitionErrors)&&!r.config.deferDefinitionErrorsHandling){var l=(0,tD.default)(r.lexerDefinitionErrors,function(c){return c.message}),u=l.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+u)}(0,Px.default)(r.lexerDefinitionWarning,function(c){(0,Lx.PRINT_WARNING)(c.message)}),r.TRACE_INIT("Choosing sub-methods implementations",function(){if(ii.SUPPORT_STICKY?(r.chopInput=nD.default,r.match=r.matchWithTest):(r.updateLastIndex=Mx.default,r.match=r.matchWithExec),s&&(r.handleModes=Mx.default),r.trackStartLines===!1&&(r.computeNewColumn=nD.default),r.trackEndLines===!1&&(r.updateTokenEndLineColumnLocation=Mx.default),/full/i.test(r.config.positionTracking))r.createTokenInstance=r.createFullToken;else if(/onlyStart/i.test(r.config.positionTracking))r.createTokenInstance=r.createStartOnlyToken;else if(/onlyOffset/i.test(r.config.positionTracking))r.createTokenInstance=r.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'.concat(r.config.positionTracking,'"'));r.hasCustom?(r.addToken=r.addTokenUsingPush,r.handlePayload=r.handlePayloadWithCustom):(r.addToken=r.addTokenUsingMemberAccess,r.handlePayload=r.handlePayloadNoCustom)}),r.TRACE_INIT("Failed Optimization Warnings",function(){var c=(0,Ire.default)(r.canModeBeOptimized,function(f,h,p){return h===!1&&f.push(p),f},[]);if(n.ensureOptimizations&&!(0,jp.default)(c))throw Error("Lexer Modes: < ".concat(c.join(", "),` > cannot be optimized.
`)+`	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),r.TRACE_INIT("clearRegExpParserCache",function(){(0,Bre.clearRegExpParserCache)()}),r.TRACE_INIT("toFastProperties",function(){(0,Lx.toFastProperties)(r)})})}return t.prototype.tokenize=function(e,n){if(n===void 0&&(n=this.defaultMode),!(0,jp.default)(this.lexerDefinitionErrors)){var r=(0,tD.default)(this.lexerDefinitionErrors,function(o){return o.message}),i=r.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,n)},t.prototype.tokenizeInternal=function(e,n){var r=this,i,o,s,a,l,u,c,f,h,p,d,g,x,m,v,y,k=e,b=k.length,w=0,C=0,E=this.hasCustom?0:Math.floor(e.length/10),A=new Array(E),O=[],q=this.trackStartLines?1:void 0,B=this.trackStartLines?1:void 0,z=(0,ii.cloneEmptyGroups)(this.emptyGroups),W=this.trackStartLines,Y=this.config.lineTerminatorsPattern,Te=0,pe=[],De=[],ee=[],Me=[];Object.freeze(Me);var Pe;function Ye(){return pe}function Zt(Qt){var ll=(0,ii.charCodeToOptimizedIndex)(Qt),ls=De[ll];return ls===void 0?Me:ls}var Ir=function(Qt){if(ee.length===1&&Qt.tokenType.PUSH_MODE===void 0){var ll=r.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Qt);O.push({offset:Qt.startOffset,line:Qt.startLine,column:Qt.startColumn,length:Qt.image.length,message:ll})}else{ee.pop();var ls=(0,Mre.default)(ee);pe=r.patternIdxToConfig[ls],De=r.charCodeToPatternIdxToConfig[ls],Te=pe.length;var dF=r.canModeBeOptimized[ls]&&r.config.safeMode===!1;De&&dF?Pe=Zt:Pe=Ye}};function Dr(Qt){ee.push(Qt),De=this.charCodeToPatternIdxToConfig[Qt],pe=this.patternIdxToConfig[Qt],Te=pe.length,Te=pe.length;var ll=this.canModeBeOptimized[Qt]&&this.config.safeMode===!1;De&&ll?Pe=Zt:Pe=Ye}Dr.call(this,n);for(var gt,ol=this.config.recoveryEnabled;w<b;){u=null;var OS=k.charCodeAt(w),RS=Pe(OS),fF=RS.length;for(i=0;i<fF;i++){gt=RS[i];var fi=gt.pattern;c=null;var sl=gt.short;if(sl!==!1?OS===sl&&(u=fi):gt.isCustom===!0?(y=fi.exec(k,w,A,z),y!==null?(u=y[0],y.payload!==void 0&&(c=y.payload)):u=null):(this.updateLastIndex(fi,w),u=this.match(fi,e,w)),u!==null){if(l=gt.longerAlt,l!==void 0){var hF=l.length;for(s=0;s<hF;s++){var xm=pe[l[s]],Sm=xm.pattern;if(f=null,xm.isCustom===!0?(y=Sm.exec(k,w,A,z),y!==null?(a=y[0],y.payload!==void 0&&(f=y.payload)):a=null):(this.updateLastIndex(Sm,w),a=this.match(Sm,e,w)),a&&a.length>u.length){u=a,c=f,gt=xm;break}}}break}}if(u!==null){if(h=u.length,p=gt.group,p!==void 0&&(d=gt.tokenTypeIdx,g=this.createTokenInstance(u,w,d,gt.tokenType,q,B,h),this.handlePayload(g,c),p===!1?C=this.addToken(A,C,g):z[p].push(g)),e=this.chopInput(e,h),w=w+h,B=this.computeNewColumn(B,h),W===!0&&gt.canLineTerminator===!0){var Vc=0,km=void 0,wm=void 0;Y.lastIndex=0;do km=Y.test(u),km===!0&&(wm=Y.lastIndex-1,Vc++);while(km===!0);Vc!==0&&(q=q+Vc,B=h-wm,this.updateTokenEndLineColumnLocation(g,p,wm,Vc,q,B,h))}this.handleModes(gt,Ir,Dr,g)}else{for(var bm=w,MS=q,PS=B,al=ol===!1;al===!1&&w<b;)for(e=this.chopInput(e,1),w++,o=0;o<Te;o++){var Cm=pe[o],fi=Cm.pattern,sl=Cm.short;if(sl!==!1?k.charCodeAt(w)===sl&&(al=!0):Cm.isCustom===!0?al=fi.exec(k,w,A,z)!==null:(this.updateLastIndex(fi,w),al=fi.exec(e)!==null),al===!0)break}if(x=w-bm,v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(k,bm,x,MS,PS),O.push({offset:bm,line:MS,column:PS,length:x,message:v}),ol===!1)break}}return this.hasCustom||(A.length=C),{tokens:A,groups:z,errors:O}},t.prototype.handleModes=function(e,n,r,i){if(e.pop===!0){var o=e.push;n(i),o!==void 0&&r.call(this,o)}else e.push!==void 0&&r.call(this,e.push)},t.prototype.chopInput=function(e,n){return e.substring(n)},t.prototype.updateLastIndex=function(e,n){e.lastIndex=n},t.prototype.updateTokenEndLineColumnLocation=function(e,n,r,i,o,s,a){var l,u;n!==void 0&&(l=r===a-1,u=l?-1:0,i===1&&l===!0||(e.endLine=o+u,e.endColumn=s-1+-u))},t.prototype.computeNewColumn=function(e,n){return e+n},t.prototype.createOffsetOnlyToken=function(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}},t.prototype.createStartOnlyToken=function(e,n,r,i,o,s){return{image:e,startOffset:n,startLine:o,startColumn:s,tokenTypeIdx:r,tokenType:i}},t.prototype.createFullToken=function(e,n,r,i,o,s,a){return{image:e,startOffset:n,endOffset:n+a-1,startLine:o,endLine:o,startColumn:s,endColumn:s+a-1,tokenTypeIdx:r,tokenType:i}},t.prototype.addTokenUsingPush=function(e,n,r){return e.push(r),n},t.prototype.addTokenUsingMemberAccess=function(e,n,r){return e[n]=r,n++,n},t.prototype.handlePayloadNoCustom=function(e,n){},t.prototype.handlePayloadWithCustom=function(e,n){n!==null&&(e.payload=n)},t.prototype.matchWithTest=function(e,n,r){var i=e.test(n);return i===!0?n.substring(r,e.lastIndex):null},t.prototype.matchWithExec=function(e,n){var r=e.exec(n);return r!==null?r[0]:null},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();oi.Lexer=Vre});var Jo=S(Je=>{"use strict";var Nx=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Je,"__esModule",{value:!0});Je.tokenMatcher=Je.createTokenInstance=Je.EOF=Je.createToken=Je.hasTokenLabel=Je.tokenName=Je.tokenLabel=void 0;var Ure=Nx(pc()),si=Nx(pn()),zre=Nx(Yo()),Wre=Sc(),Ix=Qo();function jre(t){return dD(t)?t.LABEL:t.name}Je.tokenLabel=jre;function Hre(t){return t.name}Je.tokenName=Hre;function dD(t){return(0,Ure.default)(t.LABEL)&&t.LABEL!==""}Je.hasTokenLabel=dD;var Gre="parent",oD="categories",sD="label",aD="group",lD="push_mode",uD="pop_mode",cD="longer_alt",fD="line_breaks",hD="start_chars_hint";function pD(t){return Kre(t)}Je.createToken=pD;function Kre(t){var e=t.pattern,n={};if(n.name=t.name,(0,zre.default)(e)||(n.PATTERN=e),(0,si.default)(t,Gre))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return(0,si.default)(t,oD)&&(n.CATEGORIES=t[oD]),(0,Ix.augmentTokenTypes)([n]),(0,si.default)(t,sD)&&(n.LABEL=t[sD]),(0,si.default)(t,aD)&&(n.GROUP=t[aD]),(0,si.default)(t,uD)&&(n.POP_MODE=t[uD]),(0,si.default)(t,lD)&&(n.PUSH_MODE=t[lD]),(0,si.default)(t,cD)&&(n.LONGER_ALT=t[cD]),(0,si.default)(t,fD)&&(n.LINE_BREAKS=t[fD]),(0,si.default)(t,hD)&&(n.START_CHARS_HINT=t[hD]),n}Je.EOF=pD({name:"EOF",pattern:Wre.Lexer.NA});(0,Ix.augmentTokenTypes)([Je.EOF]);function $re(t,e,n,r,i,o,s,a){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}Je.createTokenInstance=$re;function Yre(t,e){return(0,Ix.tokenStructuredMatcher)(t,e)}Je.tokenMatcher=Yre});var Da=S(tr=>{"use strict";var Bx=tr&&tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tr,"__esModule",{value:!0});tr.defaultGrammarValidatorErrorProvider=tr.defaultGrammarResolverErrorProvider=tr.defaultParserErrorProvider=void 0;var Ia=Jo(),Fx=Bx(Ma()),Qi=Bx(Ft()),Xre=Bx(Xi()),Dx=ze(),mD=ze();tr.defaultParserErrorProvider={buildMismatchTokenMessage:function(t){var e=t.expected,n=t.actual,r=t.previous,i=t.ruleName,o=(0,Ia.hasTokenLabel)(e),s=o?"--> ".concat((0,Ia.tokenLabel)(e)," <--"):"token of type --> ".concat(e.name," <--"),a="Expecting ".concat(s," but found --> '").concat(n.image,"' <--");return a},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant,n=t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,n=t.actual,r=t.previous,i=t.customUserDescription,o=t.ruleName,s="Expecting: ",a=(0,Fx.default)(n).image,l=`
but found: '`+a+"'";if(i)return s+i+l;var u=(0,Xre.default)(e,function(p,d){return p.concat(d)},[]),c=(0,Qi.default)(u,function(p){return"[".concat((0,Qi.default)(p,function(d){return(0,Ia.tokenLabel)(d)}).join(", "),"]")}),f=(0,Qi.default)(c,function(p,d){return"  ".concat(d+1,". ").concat(p)}),h=`one of these possible Token sequences:
`.concat(f.join(`
`));return s+h+l},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,n=t.actual,r=t.customUserDescription,i=t.ruleName,o="Expecting: ",s=(0,Fx.default)(n).image,a=`
but found: '`+s+"'";if(r)return o+r+a;var l=(0,Qi.default)(e,function(c){return"[".concat((0,Qi.default)(c,function(f){return(0,Ia.tokenLabel)(f)}).join(","),"]")}),u=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+"<".concat(l.join(" ,"),">");return o+u+a}};Object.freeze(tr.defaultParserErrorProvider);tr.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(t,e){var n="Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-";return n}};tr.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(t,e){function n(c){return c instanceof Dx.Terminal?c.terminalType.name:c instanceof Dx.NonTerminal?c.nonTerminalName:""}var r=t.name,i=(0,Fx.default)(e),o=i.idx,s=(0,mD.getProductionDslName)(i),a=n(i),l=o>0,u="->".concat(s).concat(l?o:"","<- ").concat(a?"with argument: ->".concat(a,"<-"):"",`
                  appears more than once (`).concat(e.length," times) in the top level rule: ->").concat(r,`<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `);return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError:function(t){var e=`Namespace conflict found in grammar.
`+"The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(t.name,`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return e},buildAlternationPrefixAmbiguityError:function(t){var e=(0,Qi.default)(t.prefixPath,function(i){return(0,Ia.tokenLabel)(i)}).join(", "),n=t.alternation.idx===0?"":t.alternation.idx,r="Ambiguous alternatives: <".concat(t.ambiguityIndices.join(" ,"),`> due to common lookahead prefix
`)+"in <OR".concat(n,"> inside <").concat(t.topLevelRule.name,`> Rule,
`)+"<".concat(e,`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return r},buildAlternationAmbiguityError:function(t){var e=(0,Qi.default)(t.prefixPath,function(i){return(0,Ia.tokenLabel)(i)}).join(", "),n=t.alternation.idx===0?"":t.alternation.idx,r="Ambiguous Alternatives Detected: <".concat(t.ambiguityIndices.join(" ,"),"> in <OR").concat(n,">")+" inside <".concat(t.topLevelRule.name,`> Rule,
`)+"<".concat(e,`> may appears as a prefix path in all these alternatives.
`);return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError:function(t){var e=(0,mD.getProductionDslName)(t.repetition);t.repetition.idx!==0&&(e+=t.repetition.idx);var n="The repetition <".concat(e,"> within Rule <").concat(t.topLevelRule.name,`> can never consume any tokens.
`)+"This could lead to an infinite loop.";return n},buildTokenNameError:function(t){return"deprecated"},buildEmptyAlternationError:function(t){var e="Ambiguous empty alternative: <".concat(t.emptyChoiceIdx+1,">")+" in <OR".concat(t.alternation.idx,"> inside <").concat(t.topLevelRule.name,`> Rule.
`)+"Only the last alternative may be an empty alternative.";return e},buildTooManyAlternativesError:function(t){var e=`An Alternation cannot have more than 256 alternatives:
`+"<OR".concat(t.alternation.idx,"> inside <").concat(t.topLevelRule.name,`> Rule.
 has `).concat(t.alternation.definition.length+1," alternatives.");return e},buildLeftRecursionError:function(t){var e=t.topLevelRule.name,n=(0,Qi.default)(t.leftRecursionPath,function(o){return o.name}),r="".concat(e," --> ").concat(n.concat([e]).join(" --> ")),i=`Left Recursion found in grammar.
`+"rule: <".concat(e,`> can be invoked from itself (directly or indirectly)
`)+`without consuming any Tokens. The grammar path that causes this is: 
 `.concat(r,`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;return i},buildInvalidRuleNameError:function(t){return"deprecated"},buildDuplicateRuleNameError:function(t){var e;t.topLevelRule instanceof Dx.Rule?e=t.topLevelRule.name:e=t.topLevelRule;var n="Duplicate definition, rule: ->".concat(e,"<- is already defined in the grammar: ->").concat(t.grammarName,"<-");return n}}});var yD=S(Or=>{"use strict";var Zre=Or&&Or.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gD=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Or,"__esModule",{value:!0});Or.GastRefResolverVisitor=Or.resolveGrammar=void 0;var Qre=Xt(),Jre=gD(pt()),eie=gD(Sr()),tie=ze();function nie(t,e){var n=new vD(t,e);return n.resolveRefs(),n.errors}Or.resolveGrammar=nie;var vD=function(t){Zre(e,t);function e(n,r){var i=t.call(this)||this;return i.nameToTopRule=n,i.errMsgProvider=r,i.errors=[],i}return e.prototype.resolveRefs=function(){var n=this;(0,Jre.default)((0,eie.default)(this.nameToTopRule),function(r){n.currTopLevel=r,r.accept(n)})},e.prototype.visitNonTerminal=function(n){var r=this.nameToTopRule[n.nonTerminalName];if(r)n.referencedRule=r;else{var i=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,n);this.errors.push({message:i,type:Qre.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:n.nonTerminalName})}},e}(tie.GAstVisitor);Or.GastRefResolverVisitor=vD});var SD=S((zme,xD)=>{function rie(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}xD.exports=rie});var wD=S((Wme,kD)=>{var iie=Yi();function oie(t,e,n,r){return iie(t,function(i,o,s){e(r,i,n(i),s)}),r}kD.exports=oie});var CD=S((jme,bD)=>{var sie=SD(),aie=wD(),lie=er(),uie=ce();function cie(t,e){return function(n,r){var i=uie(n)?sie:aie,o=e?e():{};return i(n,t,lie(r,2),o)}}bD.exports=cie});var qx=S((Hme,ED)=>{var fie=lp(),hie=CD(),die=Object.prototype,pie=die.hasOwnProperty,mie=hie(function(t,e,n){pie.call(t,n)?t[n].push(e):fie(t,n,[e])});ED.exports=mie});var Vx=S((Gme,TD)=>{var gie=wp(),vie=Ft();function yie(t,e){return gie(vie(t,e),1)}TD.exports=yie});var Hp=S((Kme,AD)=>{var xie=hp(),Sie=_a();function kie(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:Sie(e),e=r-e,xie(t,0,e<0?0:e)):[]}AD.exports=kie});var Cc=S(Re=>{"use strict";var ts=Re&&Re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ns=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.nextPossibleTokensAfter=Re.possiblePathsFrom=Re.NextTerminalAfterAtLeastOneSepWalker=Re.NextTerminalAfterAtLeastOneWalker=Re.NextTerminalAfterManySepWalker=Re.NextTerminalAfterManyWalker=Re.AbstractNextTerminalAfterProductionWalker=Re.NextAfterTokenWalker=Re.AbstractNextPossibleTokensWalker=void 0;var OD=kp(),Kp=ns(Ma()),Gp=ns(Rn()),_D=ns(Hp()),Bt=ns(dp()),wie=ns(zp()),bie=ns(pt()),es=ns(Qr()),Cie=px(),$=ze(),RD=function(t){ts(e,t);function e(n,r){var i=t.call(this)||this;return i.topProd=n,i.path=r,i.possibleTokTypes=[],i.nextProductionName="",i.nextProductionOccurrence=0,i.found=!1,i.isAtEndOfPath=!1,i}return e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,es.default)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,es.default)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(n,r){r===void 0&&(r=[]),this.found||t.prototype.walk.call(this,n,r)},e.prototype.walkProdRef=function(n,r,i){if(n.referencedRule.name===this.nextProductionName&&n.idx===this.nextProductionOccurrence){var o=r.concat(i);this.updateExpectedNext(),this.walk(n.referencedRule,o)}},e.prototype.updateExpectedNext=function(){(0,Gp.default)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(OD.RestWalker);Re.AbstractNextPossibleTokensWalker=RD;var Eie=function(t){ts(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.path=r,i.nextTerminalName="",i.nextTerminalOccurrence=0,i.nextTerminalName=i.path.lastTok.name,i.nextTerminalOccurrence=i.path.lastTokOccurrence,i}return e.prototype.walkTerminal=function(n,r,i){if(this.isAtEndOfPath&&n.terminalType.name===this.nextTerminalName&&n.idx===this.nextTerminalOccurrence&&!this.found){var o=r.concat(i),s=new $.Alternative({definition:o});this.possibleTokTypes=(0,Cie.first)(s),this.found=!0}},e}(RD);Re.NextAfterTokenWalker=Eie;var bc=function(t){ts(e,t);function e(n,r){var i=t.call(this)||this;return i.topRule=n,i.occurrence=r,i.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},i}return e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(OD.RestWalker);Re.AbstractNextTerminalAfterProductionWalker=bc;var Tie=function(t){ts(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkMany=function(n,r,i){if(n.idx===this.occurrence){var o=(0,Kp.default)(r.concat(i));this.result.isEndOfRule=o===void 0,o instanceof $.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkMany.call(this,n,r,i)},e}(bc);Re.NextTerminalAfterManyWalker=Tie;var Aie=function(t){ts(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkManySep=function(n,r,i){if(n.idx===this.occurrence){var o=(0,Kp.default)(r.concat(i));this.result.isEndOfRule=o===void 0,o instanceof $.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkManySep.call(this,n,r,i)},e}(bc);Re.NextTerminalAfterManySepWalker=Aie;var _ie=function(t){ts(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkAtLeastOne=function(n,r,i){if(n.idx===this.occurrence){var o=(0,Kp.default)(r.concat(i));this.result.isEndOfRule=o===void 0,o instanceof $.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOne.call(this,n,r,i)},e}(bc);Re.NextTerminalAfterAtLeastOneWalker=_ie;var Oie=function(t){ts(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkAtLeastOneSep=function(n,r,i){if(n.idx===this.occurrence){var o=(0,Kp.default)(r.concat(i));this.result.isEndOfRule=o===void 0,o instanceof $.Terminal&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else t.prototype.walkAtLeastOneSep.call(this,n,r,i)},e}(bc);Re.NextTerminalAfterAtLeastOneSepWalker=Oie;function MD(t,e,n){n===void 0&&(n=[]),n=(0,es.default)(n);var r=[],i=0;function o(u){return u.concat((0,Bt.default)(t,i+1))}function s(u){var c=MD(o(u),e,n);return r.concat(c)}for(;n.length<e&&i<t.length;){var a=t[i];if(a instanceof $.Alternative)return s(a.definition);if(a instanceof $.NonTerminal)return s(a.definition);if(a instanceof $.Option)r=s(a.definition);else if(a instanceof $.RepetitionMandatory){var l=a.definition.concat([new $.Repetition({definition:a.definition})]);return s(l)}else if(a instanceof $.RepetitionMandatoryWithSeparator){var l=[new $.Alternative({definition:a.definition}),new $.Repetition({definition:[new $.Terminal({terminalType:a.separator})].concat(a.definition)})];return s(l)}else if(a instanceof $.RepetitionWithSeparator){var l=a.definition.concat([new $.Repetition({definition:[new $.Terminal({terminalType:a.separator})].concat(a.definition)})]);r=s(l)}else if(a instanceof $.Repetition){var l=a.definition.concat([new $.Repetition({definition:a.definition})]);r=s(l)}else{if(a instanceof $.Alternation)return(0,bie.default)(a.definition,function(u){(0,Gp.default)(u.definition)===!1&&(r=s(u.definition))}),r;if(a instanceof $.Terminal)n.push(a.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:(0,Bt.default)(t,i)}),r}Re.possiblePathsFrom=MD;function Rie(t,e,n,r){var i="EXIT_NONE_TERMINAL",o=[i],s="EXIT_ALTERNATIVE",a=!1,l=e.length,u=l-r-1,c=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!(0,Gp.default)(f);){var h=f.pop();if(h===s){a&&(0,wie.default)(f).idx<=u&&f.pop();continue}var p=h.def,d=h.idx,g=h.ruleStack,x=h.occurrenceStack;if(!(0,Gp.default)(p)){var m=p[0];if(m===i){var v={idx:d,def:(0,Bt.default)(p),ruleStack:(0,_D.default)(g),occurrenceStack:(0,_D.default)(x)};f.push(v)}else if(m instanceof $.Terminal)if(d<l-1){var y=d+1,k=e[y];if(n(k,m.terminalType)){var v={idx:y,def:(0,Bt.default)(p),ruleStack:g,occurrenceStack:x};f.push(v)}}else if(d===l-1)c.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:g,occurrenceStack:x}),a=!0;else throw Error("non exhaustive match");else if(m instanceof $.NonTerminal){var b=(0,es.default)(g);b.push(m.nonTerminalName);var w=(0,es.default)(x);w.push(m.idx);var v={idx:d,def:m.definition.concat(o,(0,Bt.default)(p)),ruleStack:b,occurrenceStack:w};f.push(v)}else if(m instanceof $.Option){var C={idx:d,def:(0,Bt.default)(p),ruleStack:g,occurrenceStack:x};f.push(C),f.push(s);var E={idx:d,def:m.definition.concat((0,Bt.default)(p)),ruleStack:g,occurrenceStack:x};f.push(E)}else if(m instanceof $.RepetitionMandatory){var A=new $.Repetition({definition:m.definition,idx:m.idx}),O=m.definition.concat([A],(0,Bt.default)(p)),v={idx:d,def:O,ruleStack:g,occurrenceStack:x};f.push(v)}else if(m instanceof $.RepetitionMandatoryWithSeparator){var q=new $.Terminal({terminalType:m.separator}),A=new $.Repetition({definition:[q].concat(m.definition),idx:m.idx}),O=m.definition.concat([A],(0,Bt.default)(p)),v={idx:d,def:O,ruleStack:g,occurrenceStack:x};f.push(v)}else if(m instanceof $.RepetitionWithSeparator){var C={idx:d,def:(0,Bt.default)(p),ruleStack:g,occurrenceStack:x};f.push(C),f.push(s);var q=new $.Terminal({terminalType:m.separator}),B=new $.Repetition({definition:[q].concat(m.definition),idx:m.idx}),O=m.definition.concat([B],(0,Bt.default)(p)),E={idx:d,def:O,ruleStack:g,occurrenceStack:x};f.push(E)}else if(m instanceof $.Repetition){var C={idx:d,def:(0,Bt.default)(p),ruleStack:g,occurrenceStack:x};f.push(C),f.push(s);var B=new $.Repetition({definition:m.definition,idx:m.idx}),O=m.definition.concat([B],(0,Bt.default)(p)),E={idx:d,def:O,ruleStack:g,occurrenceStack:x};f.push(E)}else if(m instanceof $.Alternation)for(var z=m.definition.length-1;z>=0;z--){var W=m.definition[z],Y={idx:d,def:W.definition.concat((0,Bt.default)(p)),ruleStack:g,occurrenceStack:x};f.push(Y),f.push(s)}else if(m instanceof $.Alternative)f.push({idx:d,def:m.definition.concat((0,Bt.default)(p)),ruleStack:g,occurrenceStack:x});else if(m instanceof $.Rule)f.push(Mie(m,d,g,x));else throw Error("non exhaustive match")}}return c}Re.nextPossibleTokensAfter=Rie;function Mie(t,e,n,r){var i=(0,es.default)(n);i.push(t.name);var o=(0,es.default)(r);return o.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:o}}});var Fa=S(ne=>{"use strict";var ID=ne&&ne.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),os=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ne,"__esModule",{value:!0});ne.areTokenCategoriesNotUsed=ne.isStrictPrefixOfPath=ne.containsPath=ne.getLookaheadPathsForOptionalProd=ne.getLookaheadPathsForOr=ne.lookAheadSequenceFromAlternatives=ne.buildSingleAlternativeLookaheadFunction=ne.buildAlternativesLookAheadFunc=ne.buildLookaheadFuncForOptionalProd=ne.buildLookaheadFuncForOr=ne.getLookaheadPaths=ne.getProdType=ne.PROD_TYPE=void 0;var zx=os(Rn()),DD=os(Tr()),is=os(yc()),$p=os(Ft()),rs=os(pt()),PD=os(pn()),FD=os(Xi()),LD=Cc(),Pie=kp(),Yp=Qo(),Ji=ze(),Lie=ze(),Ke;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(Ke=ne.PROD_TYPE||(ne.PROD_TYPE={}));function BD(t){if(t instanceof Ji.Option||t==="Option")return Ke.OPTION;if(t instanceof Ji.Repetition||t==="Repetition")return Ke.REPETITION;if(t instanceof Ji.RepetitionMandatory||t==="RepetitionMandatory")return Ke.REPETITION_MANDATORY;if(t instanceof Ji.RepetitionMandatoryWithSeparator||t==="RepetitionMandatoryWithSeparator")return Ke.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ji.RepetitionWithSeparator||t==="RepetitionWithSeparator")return Ke.REPETITION_WITH_SEPARATOR;if(t instanceof Ji.Alternation||t==="Alternation")return Ke.ALTERNATION;throw Error("non exhaustive match")}ne.getProdType=BD;function Nie(t){var e=t.occurrence,n=t.rule,r=t.prodType,i=t.maxLookahead,o=BD(r);return o===Ke.ALTERNATION?jx(e,n,i):Hx(e,n,o,i)}ne.getLookaheadPaths=Nie;function Iie(t,e,n,r,i,o){var s=jx(t,e,n),a=Gx(s)?Yp.tokenStructuredMatcherNoCategories:Yp.tokenStructuredMatcher;return o(s,r,a,i)}ne.buildLookaheadFuncForOr=Iie;function Die(t,e,n,r,i,o){var s=Hx(t,e,i,n),a=Gx(s)?Yp.tokenStructuredMatcherNoCategories:Yp.tokenStructuredMatcher;return o(s[0],a,r)}ne.buildLookaheadFuncForOptionalProd=Die;function Fie(t,e,n,r){var i=t.length,o=(0,is.default)(t,function(l){return(0,is.default)(l,function(u){return u.length===1})});if(e)return function(l){for(var u=(0,$p.default)(l,function(y){return y.GATE}),c=0;c<i;c++){var f=t[c],h=f.length,p=u[c];if(!(p!==void 0&&p.call(this)===!1))e:for(var d=0;d<h;d++){for(var g=f[d],x=g.length,m=0;m<x;m++){var v=this.LA(m+1);if(n(v,g[m])===!1)continue e}return c}}};if(o&&!r){var s=(0,$p.default)(t,function(l){return(0,DD.default)(l)}),a=(0,FD.default)(s,function(l,u,c){return(0,rs.default)(u,function(f){(0,PD.default)(l,f.tokenTypeIdx)||(l[f.tokenTypeIdx]=c),(0,rs.default)(f.categoryMatches,function(h){(0,PD.default)(l,h)||(l[h]=c)})}),l},{});return function(){var l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(var l=0;l<i;l++){var u=t[l],c=u.length;e:for(var f=0;f<c;f++){for(var h=u[f],p=h.length,d=0;d<p;d++){var g=this.LA(d+1);if(n(g,h[d])===!1)continue e}return l}}}}ne.buildAlternativesLookAheadFunc=Fie;function Bie(t,e,n){var r=(0,is.default)(t,function(u){return u.length===1}),i=t.length;if(r&&!n){var o=(0,DD.default)(t);if(o.length===1&&(0,zx.default)(o[0].categoryMatches)){var s=o[0],a=s.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{var l=(0,FD.default)(o,function(u,c,f){return u[c.tokenTypeIdx]=!0,(0,rs.default)(c.categoryMatches,function(h){u[h]=!0}),u},[]);return function(){var u=this.LA(1);return l[u.tokenTypeIdx]===!0}}}else return function(){e:for(var u=0;u<i;u++){for(var c=t[u],f=c.length,h=0;h<f;h++){var p=this.LA(h+1);if(e(p,c[h])===!1)continue e}return!0}return!1}}ne.buildSingleAlternativeLookaheadFunction=Bie;var qie=function(t){ID(e,t);function e(n,r,i){var o=t.call(this)||this;return o.topProd=n,o.targetOccurrence=r,o.targetProdType=i,o}return e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(n,r,i,o){return n.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=i.concat(o),!0):!1},e.prototype.walkOption=function(n,r,i){this.checkIsTarget(n,Ke.OPTION,r,i)||t.prototype.walkOption.call(this,n,r,i)},e.prototype.walkAtLeastOne=function(n,r,i){this.checkIsTarget(n,Ke.REPETITION_MANDATORY,r,i)||t.prototype.walkOption.call(this,n,r,i)},e.prototype.walkAtLeastOneSep=function(n,r,i){this.checkIsTarget(n,Ke.REPETITION_MANDATORY_WITH_SEPARATOR,r,i)||t.prototype.walkOption.call(this,n,r,i)},e.prototype.walkMany=function(n,r,i){this.checkIsTarget(n,Ke.REPETITION,r,i)||t.prototype.walkOption.call(this,n,r,i)},e.prototype.walkManySep=function(n,r,i){this.checkIsTarget(n,Ke.REPETITION_WITH_SEPARATOR,r,i)||t.prototype.walkOption.call(this,n,r,i)},e}(Pie.RestWalker),qD=function(t){ID(e,t);function e(n,r,i){var o=t.call(this)||this;return o.targetOccurrence=n,o.targetProdType=r,o.targetRef=i,o.result=[],o}return e.prototype.checkIsTarget=function(n,r){n.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||n===this.targetRef)&&(this.result=n.definition)},e.prototype.visitOption=function(n){this.checkIsTarget(n,Ke.OPTION)},e.prototype.visitRepetition=function(n){this.checkIsTarget(n,Ke.REPETITION)},e.prototype.visitRepetitionMandatory=function(n){this.checkIsTarget(n,Ke.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.checkIsTarget(n,Ke.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(n){this.checkIsTarget(n,Ke.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(n){this.checkIsTarget(n,Ke.ALTERNATION)},e}(Lie.GAstVisitor);function ND(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=[];return e}function Ux(t){for(var e=[""],n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<e.length;o++){var s=e[o];i.push(s+"_"+r.tokenTypeIdx);for(var a=0;a<r.categoryMatches.length;a++){var l="_"+r.categoryMatches[a];i.push(s+l)}}e=i}return e}function Vie(t,e,n){for(var r=0;r<t.length;r++)if(r!==n)for(var i=t[r],o=0;o<e.length;o++){var s=e[o];if(i[s]===!0)return!1}return!0}function Wx(t,e){for(var n=(0,$p.default)(t,function(c){return(0,LD.possiblePathsFrom)([c],1)}),r=ND(n.length),i=(0,$p.default)(n,function(c){var f={};return(0,rs.default)(c,function(h){var p=Ux(h.partialPath);(0,rs.default)(p,function(d){f[d]=!0})}),f}),o=n,s=1;s<=e;s++){var a=o;o=ND(a.length);for(var l=function(c){for(var f=a[c],h=0;h<f.length;h++){var p=f[h].partialPath,d=f[h].suffixDef,g=Ux(p),x=Vie(i,g,c);if(x||(0,zx.default)(d)||p.length===e){var m=r[c];if(VD(m,p)===!1){m.push(p);for(var v=0;v<g.length;v++){var y=g[v];i[c][y]=!0}}}else{var k=(0,LD.possiblePathsFrom)(d,s+1,p);o[c]=o[c].concat(k),(0,rs.default)(k,function(b){var w=Ux(b.partialPath);(0,rs.default)(w,function(C){i[c][C]=!0})})}}},u=0;u<a.length;u++)l(u)}return r}ne.lookAheadSequenceFromAlternatives=Wx;function jx(t,e,n,r){var i=new qD(t,Ke.ALTERNATION,r);return e.accept(i),Wx(i.result,n)}ne.getLookaheadPathsForOr=jx;function Hx(t,e,n,r){var i=new qD(t,n);e.accept(i);var o=i.result,s=new qie(e,t,n),a=s.startWalking(),l=new Ji.Alternative({definition:o}),u=new Ji.Alternative({definition:a});return Wx([l,u],r)}ne.getLookaheadPathsForOptionalProd=Hx;function VD(t,e){e:for(var n=0;n<t.length;n++){var r=t[n];if(r.length===e.length){for(var i=0;i<r.length;i++){var o=e[i],s=r[i],a=o===s||s.categoryMatchesMap[o.tokenTypeIdx]!==void 0;if(a===!1)continue e}return!0}}return!1}ne.containsPath=VD;function Uie(t,e){return t.length<e.length&&(0,is.default)(t,function(n,r){var i=e[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}ne.isStrictPrefixOfPath=Uie;function Gx(t){return(0,is.default)(t,function(e){return(0,is.default)(e,function(n){return(0,is.default)(n,function(r){return(0,zx.default)(r.categoryMatches)})})})}ne.areTokenCategoriesNotUsed=Gx});var Ac=S(J=>{"use strict";var $x=J&&J.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kx=J&&J.__assign||function(){return Kx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kx.apply(this,arguments)},st=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J,"__esModule",{value:!0});J.checkPrefixAlternativesAmbiguities=J.validateSomeNonEmptyLookaheadPath=J.validateTooManyAlts=J.RepetitionCollector=J.validateAmbiguousAlternationAlternatives=J.validateEmptyOrAlternative=J.getFirstNoneTerminal=J.validateNoLeftRecursion=J.validateRuleIsOverridden=J.validateRuleDoesNotAlreadyExist=J.OccurrenceValidationCollector=J.identifyProductionForDuplicates=J.validateGrammar=J.validateLookahead=void 0;var UD=st(Ma()),Xp=st(Rn()),zie=st(dp()),zD=st(Tr()),Wie=st(Pp()),jie=st(Op()),Hie=st(Rp()),eo=st(Ft()),Tc=st(pt()),Gie=st(qx()),Yx=st(Xi()),Kie=st(ix()),$ie=st(Sr()),Xx=st(ei()),ai=st(Vx()),Yie=st(Qr()),rr=Xt(),Zx=ze(),Ba=Fa(),Xie=Cc(),nr=ze(),Qx=ze(),Zie=st(Hp()),Qie=st(xc()),Jie=Qo();function eoe(t){var e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return(0,eo.default)(e,function(n){return Kx({type:rr.ParserDefinitionErrorType.CUSTOM_LOOKAHEAD_VALIDATION},n)})}J.validateLookahead=eoe;function toe(t,e,n,r){var i=(0,ai.default)(t,function(l){return noe(l,n)}),o=loe(t,e,n),s=(0,ai.default)(t,function(l){return YD(l,n)}),a=(0,ai.default)(t,function(l){return GD(l,t,r,n)});return i.concat(o,s,a)}J.validateGrammar=toe;function noe(t,e){var n=new HD;t.accept(n);var r=n.allProductions,i=(0,Gie.default)(r,WD),o=(0,Kie.default)(i,function(a){return a.length>1}),s=(0,eo.default)((0,$ie.default)(o),function(a){var l=(0,UD.default)(a),u=e.buildDuplicateFoundError(t,a),c=(0,Zx.getProductionDslName)(l),f={message:u,type:rr.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:c,occurrence:l.idx},h=jD(l);return h&&(f.parameter=h),f});return s}function WD(t){return"".concat((0,Zx.getProductionDslName)(t),"_#_").concat(t.idx,"_#_").concat(jD(t))}J.identifyProductionForDuplicates=WD;function jD(t){return t instanceof nr.Terminal?t.terminalType.name:t instanceof nr.NonTerminal?t.nonTerminalName:""}var HD=function(t){$x(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.allProductions=[],n}return e.prototype.visitNonTerminal=function(n){this.allProductions.push(n)},e.prototype.visitOption=function(n){this.allProductions.push(n)},e.prototype.visitRepetitionWithSeparator=function(n){this.allProductions.push(n)},e.prototype.visitRepetitionMandatory=function(n){this.allProductions.push(n)},e.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.allProductions.push(n)},e.prototype.visitRepetition=function(n){this.allProductions.push(n)},e.prototype.visitAlternation=function(n){this.allProductions.push(n)},e.prototype.visitTerminal=function(n){this.allProductions.push(n)},e}(Qx.GAstVisitor);J.OccurrenceValidationCollector=HD;function GD(t,e,n,r){var i=[],o=(0,Yx.default)(e,function(a,l){return l.name===t.name?a+1:a},0);if(o>1){var s=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:s,type:rr.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}J.validateRuleDoesNotAlreadyExist=GD;function roe(t,e,n){var r=[],i;return(0,Xx.default)(e,t)||(i="Invalid rule override, rule: ->".concat(t,"<- cannot be overridden in the grammar: ->").concat(n,"<-")+"as it is not defined in any of the super grammars ",r.push({message:i,type:rr.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:t})),r}J.validateRuleIsOverridden=roe;function KD(t,e,n,r){r===void 0&&(r=[]);var i=[],o=Ec(e.definition);if((0,Xp.default)(o))return[];var s=t.name,a=(0,Xx.default)(o,t);a&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:rr.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:s});var l=(0,Hie.default)(o,r.concat([t])),u=(0,ai.default)(l,function(c){var f=(0,Yie.default)(r);return f.push(c),KD(t,c,n,f)});return i.concat(u)}J.validateNoLeftRecursion=KD;function Ec(t){var e=[];if((0,Xp.default)(t))return e;var n=(0,UD.default)(t);if(n instanceof nr.NonTerminal)e.push(n.referencedRule);else if(n instanceof nr.Alternative||n instanceof nr.Option||n instanceof nr.RepetitionMandatory||n instanceof nr.RepetitionMandatoryWithSeparator||n instanceof nr.RepetitionWithSeparator||n instanceof nr.Repetition)e=e.concat(Ec(n.definition));else if(n instanceof nr.Alternation)e=(0,zD.default)((0,eo.default)(n.definition,function(s){return Ec(s.definition)}));else if(!(n instanceof nr.Terminal))throw Error("non exhaustive match");var r=(0,Zx.isOptionalProd)(n),i=t.length>1;if(r&&i){var o=(0,zie.default)(t);return e.concat(Ec(o))}else return e}J.getFirstNoneTerminal=Ec;var Jx=function(t){$x(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.alternations=[],n}return e.prototype.visitAlternation=function(n){this.alternations.push(n)},e}(Qx.GAstVisitor);function ioe(t,e){var n=new Jx;t.accept(n);var r=n.alternations,i=(0,ai.default)(r,function(o){var s=(0,Zie.default)(o.definition);return(0,ai.default)(s,function(a,l){var u=(0,Xie.nextPossibleTokensAfter)([a],[],Jie.tokenStructuredMatcher,1);return(0,Xp.default)(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:o,emptyChoiceIdx:l}),type:rr.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:o.idx,alternative:l+1}]:[]})});return i}J.validateEmptyOrAlternative=ioe;function ooe(t,e,n){var r=new Jx;t.accept(r);var i=r.alternations;i=(0,jie.default)(i,function(s){return s.ignoreAmbiguities===!0});var o=(0,ai.default)(i,function(s){var a=s.idx,l=s.maxLookahead||e,u=(0,Ba.getLookaheadPathsForOr)(a,t,l,s),c=aoe(u,s,t,n),f=XD(u,s,t,n);return c.concat(f)});return o}J.validateAmbiguousAlternationAlternatives=ooe;var $D=function(t){$x(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.allProductions=[],n}return e.prototype.visitRepetitionWithSeparator=function(n){this.allProductions.push(n)},e.prototype.visitRepetitionMandatory=function(n){this.allProductions.push(n)},e.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.allProductions.push(n)},e.prototype.visitRepetition=function(n){this.allProductions.push(n)},e}(Qx.GAstVisitor);J.RepetitionCollector=$D;function YD(t,e){var n=new Jx;t.accept(n);var r=n.alternations,i=(0,ai.default)(r,function(o){return o.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:o}),type:rr.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:t.name,occurrence:o.idx}]:[]});return i}J.validateTooManyAlts=YD;function soe(t,e,n){var r=[];return(0,Tc.default)(t,function(i){var o=new $D;i.accept(o);var s=o.allProductions;(0,Tc.default)(s,function(a){var l=(0,Ba.getProdType)(a),u=a.maxLookahead||e,c=a.idx,f=(0,Ba.getLookaheadPathsForOptionalProd)(c,i,l,u),h=f[0];if((0,Xp.default)((0,zD.default)(h))){var p=n.buildEmptyRepetitionError({topLevelRule:i,repetition:a});r.push({message:p,type:rr.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}J.validateSomeNonEmptyLookaheadPath=soe;function aoe(t,e,n,r){var i=[],o=(0,Yx.default)(t,function(a,l,u){return e.definition[u].ignoreAmbiguities===!0||(0,Tc.default)(l,function(c){var f=[u];(0,Tc.default)(t,function(h,p){u!==p&&(0,Ba.containsPath)(h,c)&&e.definition[p].ignoreAmbiguities!==!0&&f.push(p)}),f.length>1&&!(0,Ba.containsPath)(i,c)&&(i.push(c),a.push({alts:f,path:c}))}),a},[]),s=(0,eo.default)(o,function(a){var l=(0,eo.default)(a.alts,function(c){return c+1}),u=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:a.path});return{message:u,type:rr.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}});return s}function XD(t,e,n,r){var i=(0,Yx.default)(t,function(s,a,l){var u=(0,eo.default)(a,function(c){return{idx:l,path:c}});return s.concat(u)},[]),o=(0,Qie.default)((0,ai.default)(i,function(s){var a=e.definition[s.idx];if(a.ignoreAmbiguities===!0)return[];var l=s.idx,u=s.path,c=(0,Wie.default)(i,function(h){return e.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<l&&(0,Ba.isStrictPrefixOfPath)(h.path,u)}),f=(0,eo.default)(c,function(h){var p=[h.idx+1,l+1],d=e.idx===0?"":e.idx,g=r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:p,prefixPath:h.path});return{message:g,type:rr.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:d,alternatives:p}});return f}));return o}J.checkPrefixAlternativesAmbiguities=XD;function loe(t,e,n){var r=[],i=(0,eo.default)(e,function(o){return o.name});return(0,Tc.default)(t,function(o){var s=o.name;if((0,Xx.default)(i,s)){var a=n.buildNamespaceConflictError(o);r.push({message:a,type:rr.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),r}});var e4=S(to=>{"use strict";var ZD=to&&to.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(to,"__esModule",{value:!0});to.validateGrammar=to.resolveGrammar=void 0;var uoe=ZD(pt()),QD=ZD(vx()),coe=yD(),foe=Ac(),JD=Da();function hoe(t){var e=(0,QD.default)(t,{errMsgProvider:JD.defaultGrammarResolverErrorProvider}),n={};return(0,uoe.default)(t.rules,function(r){n[r.name]=r}),(0,coe.resolveGrammar)(n,e.errMsgProvider)}to.resolveGrammar=hoe;function doe(t){return t=(0,QD.default)(t,{errMsgProvider:JD.defaultGrammarValidatorErrorProvider}),(0,foe.validateGrammar)(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}to.validateGrammar=doe});var qa=S(_t=>{"use strict";var _c=_t&&_t.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),poe=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_t,"__esModule",{value:!0});_t.EarlyExitException=_t.NotAllInputParsedException=_t.NoViableAltException=_t.MismatchedTokenException=_t.isRecognitionException=void 0;var moe=poe(ei()),t4="MismatchedTokenException",n4="NoViableAltException",r4="EarlyExitException",i4="NotAllInputParsedException",o4=[t4,n4,r4,i4];Object.freeze(o4);function goe(t){return(0,moe.default)(o4,t.name)}_t.isRecognitionException=goe;var Zp=function(t){_c(e,t);function e(n,r){var i=this.constructor,o=t.call(this,n)||this;return o.token=r,o.resyncedTokens=[],Object.setPrototypeOf(o,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return e}(Error),voe=function(t){_c(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.previousToken=i,o.name=t4,o}return e}(Zp);_t.MismatchedTokenException=voe;var yoe=function(t){_c(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.previousToken=i,o.name=n4,o}return e}(Zp);_t.NoViableAltException=yoe;var xoe=function(t){_c(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.name=i4,i}return e}(Zp);_t.NotAllInputParsedException=xoe;var Soe=function(t){_c(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.previousToken=i,o.name=r4,o}return e}(Zp);_t.EarlyExitException=Soe});var tS=S($e=>{"use strict";var koe=$e&&$e.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),no=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($e,"__esModule",{value:!0});$e.attemptInRepetitionRecovery=$e.Recoverable=$e.InRuleRecoveryException=$e.IN_RULE_RECOVERY_EXCEPTION=$e.EOF_FOLLOW_KEY=void 0;var Oc=Jo(),woe=no(Rn()),s4=no(Hp()),boe=no(Tr()),eS=no(Ft()),a4=no(Mp()),Coe=no(pn()),Eoe=no(ei()),Toe=no(Qr()),Aoe=qa(),_oe=mx(),Ooe=Xt();$e.EOF_FOLLOW_KEY={};$e.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";var l4=function(t){koe(e,t);function e(n){var r=t.call(this,n)||this;return r.name=$e.IN_RULE_RECOVERY_EXCEPTION,r}return e}(Error);$e.InRuleRecoveryException=l4;var Roe=function(){function t(){}return t.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,Coe.default)(e,"recoveryEnabled")?e.recoveryEnabled:Ooe.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=u4)},t.prototype.getTokenToInsert=function(e){var n=(0,Oc.createTokenInstance)(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n},t.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},t.prototype.canTokenTypeBeDeletedInRecovery=function(e){return!0},t.prototype.tryInRepetitionRecovery=function(e,n,r,i){for(var o=this,s=this.findReSyncTokenType(),a=this.exportLexerState(),l=[],u=!1,c=this.LA(1),f=this.LA(1),h=function(){var p=o.LA(0),d=o.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:p,ruleName:o.getCurrRuleFullName()}),g=new Aoe.MismatchedTokenException(d,c,o.LA(0));g.resyncedTokens=(0,s4.default)(l),o.SAVE_ERROR(g)};!u;)if(this.tokenMatcher(f,i)){h();return}else if(r.call(this)){h(),e.apply(this,n);return}else this.tokenMatcher(f,s)?u=!0:(f=this.SKIP_TOKEN(),this.addToResyncTokens(f,l));this.importLexerState(a)},t.prototype.shouldInRepetitionRecoveryBeTried=function(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))},t.prototype.getFollowsForInRuleRecovery=function(e,n){var r=this.getCurrentGrammarPath(e,n),i=this.getNextPossibleTokenTypes(r);return i},t.prototype.tryInRuleRecovery=function(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n)){var r=this.getTokenToInsert(e);return r}if(this.canRecoverWithSingleTokenDeletion(e)){var i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new l4("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)},t.prototype.canRecoverWithSingleTokenInsertion=function(e,n){var r=this;if(!this.canTokenTypeBeInsertedInRecovery(e)||(0,woe.default)(n))return!1;var i=this.LA(1),o=(0,a4.default)(n,function(s){return r.tokenMatcher(i,s)})!==void 0;return o},t.prototype.canRecoverWithSingleTokenDeletion=function(e){if(!this.canTokenTypeBeDeletedInRecovery(e))return!1;var n=this.tokenMatcher(this.LA(2),e);return n},t.prototype.isInCurrentRuleReSyncSet=function(e){var n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return(0,Eoe.default)(r,e)},t.prototype.findReSyncTokenType=function(){for(var e=this.flattenFollowSet(),n=this.LA(1),r=2;;){var i=(0,a4.default)(e,function(o){var s=(0,Oc.tokenMatcher)(n,o);return s});if(i!==void 0)return i;n=this.LA(r),r++}},t.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return $e.EOF_FOLLOW_KEY;var e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}},t.prototype.buildFullFollowKeyStack=function(){var e=this,n=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return(0,eS.default)(n,function(i,o){return o===0?$e.EOF_FOLLOW_KEY:{ruleName:e.shortRuleNameToFullName(i),idxInCallingRule:r[o],inRule:e.shortRuleNameToFullName(n[o-1])}})},t.prototype.flattenFollowSet=function(){var e=this,n=(0,eS.default)(this.buildFullFollowKeyStack(),function(r){return e.getFollowSetFromFollowKey(r)});return(0,boe.default)(n)},t.prototype.getFollowSetFromFollowKey=function(e){if(e===$e.EOF_FOLLOW_KEY)return[Oc.EOF];var n=e.ruleName+e.idxInCallingRule+_oe.IN+e.inRule;return this.resyncFollows[n]},t.prototype.addToResyncTokens=function(e,n){return this.tokenMatcher(e,Oc.EOF)||n.push(e),n},t.prototype.reSyncTo=function(e){for(var n=[],r=this.LA(1);this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return(0,s4.default)(n)},t.prototype.attemptInRepetitionRecovery=function(e,n,r,i,o,s,a){},t.prototype.getCurrentGrammarPath=function(e,n){var r=this.getHumanReadableRuleStack(),i=(0,Toe.default)(this.RULE_OCCURRENCE_STACK),o={ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:n};return o},t.prototype.getHumanReadableRuleStack=function(){var e=this;return(0,eS.default)(this.RULE_STACK,function(n){return e.shortRuleNameToFullName(n)})},t}();$e.Recoverable=Roe;function u4(t,e,n,r,i,o,s){var a=this.getKeyForAutomaticLookahead(r,i),l=this.firstAfterRepMap[a];if(l===void 0){var u=this.getCurrRuleFullName(),c=this.getGAstProductions()[u],f=new o(c,i);l=f.startWalking(),this.firstAfterRepMap[a]=l}var h=l.token,p=l.occurrence,d=l.isEndOfRule;this.RULE_STACK.length===1&&d&&h===void 0&&(h=Oc.EOF,p=1),!(h===void 0||p===void 0)&&this.shouldInRepetitionRecoveryBeTried(h,p,s)&&this.tryInRepetitionRecovery(t,e,n,h)}$e.attemptInRepetitionRecovery=u4});var Qp=S(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.getKeyForAutomaticLookahead=le.AT_LEAST_ONE_SEP_IDX=le.MANY_SEP_IDX=le.AT_LEAST_ONE_IDX=le.MANY_IDX=le.OPTION_IDX=le.OR_IDX=le.BITS_FOR_ALT_IDX=le.BITS_FOR_RULE_IDX=le.BITS_FOR_OCCURRENCE_IDX=le.BITS_FOR_METHOD_TYPE=void 0;le.BITS_FOR_METHOD_TYPE=4;le.BITS_FOR_OCCURRENCE_IDX=8;le.BITS_FOR_RULE_IDX=12;le.BITS_FOR_ALT_IDX=8;le.OR_IDX=1<<le.BITS_FOR_OCCURRENCE_IDX;le.OPTION_IDX=2<<le.BITS_FOR_OCCURRENCE_IDX;le.MANY_IDX=3<<le.BITS_FOR_OCCURRENCE_IDX;le.AT_LEAST_ONE_IDX=4<<le.BITS_FOR_OCCURRENCE_IDX;le.MANY_SEP_IDX=5<<le.BITS_FOR_OCCURRENCE_IDX;le.AT_LEAST_ONE_SEP_IDX=6<<le.BITS_FOR_OCCURRENCE_IDX;function Moe(t,e,n){return n|e|t}le.getKeyForAutomaticLookahead=Moe;var ege=32-le.BITS_FOR_ALT_IDX});var rS=S(ro=>{"use strict";var Jp=ro&&ro.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},c4=ro&&ro.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ro,"__esModule",{value:!0});ro.LLkLookaheadStrategy=void 0;var nS=c4(Vx()),Poe=c4(Rn()),em=Da(),Loe=Xt(),tm=Ac(),Rc=Fa(),Noe=function(){function t(e){var n;this.maxLookahead=(n=e?.maxLookahead)!==null&&n!==void 0?n:Loe.DEFAULT_PARSER_CONFIG.maxLookahead}return t.prototype.validate=function(e){var n=this.validateNoLeftRecursion(e.rules);if((0,Poe.default)(n)){var r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),o=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead),s=Jp(Jp(Jp(Jp([],n,!0),r,!0),i,!0),o,!0);return s}return n},t.prototype.validateNoLeftRecursion=function(e){return(0,nS.default)(e,function(n){return(0,tm.validateNoLeftRecursion)(n,n,em.defaultGrammarValidatorErrorProvider)})},t.prototype.validateEmptyOrAlternatives=function(e){return(0,nS.default)(e,function(n){return(0,tm.validateEmptyOrAlternative)(n,em.defaultGrammarValidatorErrorProvider)})},t.prototype.validateAmbiguousAlternationAlternatives=function(e,n){return(0,nS.default)(e,function(r){return(0,tm.validateAmbiguousAlternationAlternatives)(r,n,em.defaultGrammarValidatorErrorProvider)})},t.prototype.validateSomeNonEmptyLookaheadPath=function(e,n){return(0,tm.validateSomeNonEmptyLookaheadPath)(e,n,em.defaultGrammarValidatorErrorProvider)},t.prototype.buildLookaheadForAlternation=function(e){return(0,Rc.buildLookaheadFuncForOr)(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Rc.buildAlternativesLookAheadFunc)},t.prototype.buildLookaheadForOptional=function(e){return(0,Rc.buildLookaheadFuncForOptionalProd)(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,(0,Rc.getProdType)(e.prodType),Rc.buildSingleAlternativeLookaheadFunction)},t}();ro.LLkLookaheadStrategy=Noe});var p4=S(Rr=>{"use strict";var Ioe=Rr&&Rr.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),h4=Rr&&Rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.collectMethods=Rr.LooksAhead=void 0;var ss=h4(pt()),iS=h4(pn()),f4=Xt(),li=Qp(),Doe=ze(),Va=ze(),Foe=rS(),Boe=function(){function t(){}return t.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=(0,iS.default)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:f4.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,iS.default)(e,"maxLookahead")?e.maxLookahead:f4.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookaheadStrategy=(0,iS.default)(e,"lookaheadStrategy")?e.lookaheadStrategy:new Foe.LLkLookaheadStrategy({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map},t.prototype.preComputeLookaheadFunctions=function(e){var n=this;(0,ss.default)(e,function(r){n.TRACE_INIT("".concat(r.name," Rule Lookahead"),function(){var i=d4(r),o=i.alternation,s=i.repetition,a=i.option,l=i.repetitionMandatory,u=i.repetitionMandatoryWithSeparator,c=i.repetitionWithSeparator;(0,ss.default)(o,function(f){var h=f.idx===0?"":f.idx;n.TRACE_INIT("".concat((0,Va.getProductionDslName)(f)).concat(h),function(){var p=n.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:f.idx,rule:r,maxLookahead:f.maxLookahead||n.maxLookahead,hasPredicates:f.hasPredicates,dynamicTokensEnabled:n.dynamicTokensEnabled}),d=(0,li.getKeyForAutomaticLookahead)(n.fullRuleNameToShort[r.name],li.OR_IDX,f.idx);n.setLaFuncCache(d,p)})}),(0,ss.default)(s,function(f){n.computeLookaheadFunc(r,f.idx,li.MANY_IDX,"Repetition",f.maxLookahead,(0,Va.getProductionDslName)(f))}),(0,ss.default)(a,function(f){n.computeLookaheadFunc(r,f.idx,li.OPTION_IDX,"Option",f.maxLookahead,(0,Va.getProductionDslName)(f))}),(0,ss.default)(l,function(f){n.computeLookaheadFunc(r,f.idx,li.AT_LEAST_ONE_IDX,"RepetitionMandatory",f.maxLookahead,(0,Va.getProductionDslName)(f))}),(0,ss.default)(u,function(f){n.computeLookaheadFunc(r,f.idx,li.AT_LEAST_ONE_SEP_IDX,"RepetitionMandatoryWithSeparator",f.maxLookahead,(0,Va.getProductionDslName)(f))}),(0,ss.default)(c,function(f){n.computeLookaheadFunc(r,f.idx,li.MANY_SEP_IDX,"RepetitionWithSeparator",f.maxLookahead,(0,Va.getProductionDslName)(f))})})})},t.prototype.computeLookaheadFunc=function(e,n,r,i,o,s){var a=this;this.TRACE_INIT("".concat(s).concat(n===0?"":n),function(){var l=a.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:o||a.maxLookahead,dynamicTokensEnabled:a.dynamicTokensEnabled,prodType:i}),u=(0,li.getKeyForAutomaticLookahead)(a.fullRuleNameToShort[e.name],r,n);a.setLaFuncCache(u,l)})},t.prototype.getKeyForAutomaticLookahead=function(e,n){var r=this.getLastExplicitRuleShortName();return(0,li.getKeyForAutomaticLookahead)(r,e,n)},t.prototype.getLaFuncFromCache=function(e){return this.lookAheadFuncsCache.get(e)},t.prototype.setLaFuncCache=function(e,n){this.lookAheadFuncsCache.set(e,n)},t}();Rr.LooksAhead=Boe;var qoe=function(t){Ioe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},n}return e.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},e.prototype.visitOption=function(n){this.dslMethods.option.push(n)},e.prototype.visitRepetitionWithSeparator=function(n){this.dslMethods.repetitionWithSeparator.push(n)},e.prototype.visitRepetitionMandatory=function(n){this.dslMethods.repetitionMandatory.push(n)},e.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.dslMethods.repetitionMandatoryWithSeparator.push(n)},e.prototype.visitRepetition=function(n){this.dslMethods.repetition.push(n)},e.prototype.visitAlternation=function(n){this.dslMethods.alternation.push(n)},e}(Doe.GAstVisitor),nm=new qoe;function d4(t){nm.reset(),t.accept(nm);var e=nm.dslMethods;return nm.reset(),e}Rr.collectMethods=d4});var m4=S(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.addNoneTerminalToCst=Mr.addTerminalToCst=Mr.setNodeLocationFull=Mr.setNodeLocationOnlyOffset=void 0;function Voe(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}Mr.setNodeLocationOnlyOffset=Voe;function Uoe(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}Mr.setNodeLocationFull=Uoe;function zoe(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}Mr.addTerminalToCst=zoe;function Woe(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}Mr.addNoneTerminalToCst=Woe});var g4=S(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.defineNameProp=void 0;var joe="name";function Hoe(t,e){Object.defineProperty(t,joe,{enumerable:!1,configurable:!0,writable:!1,value:e})}rm.defineNameProp=Hoe});var b4=S(mt=>{"use strict";var ui=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mt,"__esModule",{value:!0});mt.validateMissingCstMethods=mt.validateVisitor=mt.CstVisitorDefinitionError=mt.createBaseVisitorConstructorWithDefaults=mt.createBaseSemanticVisitorConstructor=mt.defaultVisit=void 0;var Goe=ui(Rn()),Koe=ui(xc()),$oe=ui(ce()),v4=ui(Ft()),Yoe=ui(pt()),Xoe=ui(Pp()),Zoe=ui(dn()),Qoe=ui(ca()),Joe=ui(Yo()),y4=g4();function x4(t,e){for(var n=(0,Zoe.default)(t),r=n.length,i=0;i<r;i++)for(var o=n[i],s=t[o],a=s.length,l=0;l<a;l++){var u=s[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}mt.defaultVisit=x4;function ese(t,e){var n=function(){};(0,y4.defineNameProp)(n,t+"BaseSemantics");var r={visit:function(i,o){if((0,$oe.default)(i)&&(i=i[0]),!(0,Joe.default)(i))return this[i.name](i.children,o)},validateVisitor:function(){var i=k4(this,e);if(!(0,Goe.default)(i)){var o=(0,v4.default)(i,function(s){return s.msg});throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,`>:
	`)+"".concat(o.join(`

`).replace(/\n/g,`
	`)))}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}mt.createBaseSemanticVisitorConstructor=ese;function tse(t,e,n){var r=function(){};(0,y4.defineNameProp)(r,t+"BaseSemanticsWithDefaults");var i=Object.create(n.prototype);return(0,Yoe.default)(e,function(o){i[o]=x4}),r.prototype=i,r.prototype.constructor=r,r}mt.createBaseVisitorConstructorWithDefaults=tse;var S4;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(S4=mt.CstVisitorDefinitionError||(mt.CstVisitorDefinitionError={}));function k4(t,e){var n=w4(t,e);return n}mt.validateVisitor=k4;function w4(t,e){var n=(0,Xoe.default)(e,function(i){return(0,Qoe.default)(t[i])===!1}),r=(0,v4.default)(n,function(i){return{msg:"Missing visitor method: <".concat(i,"> on ").concat(t.constructor.name," CST Visitor."),type:S4.MISSING_METHOD,methodName:i}});return(0,Koe.default)(r)}mt.validateMissingCstMethods=w4});var A4=S(za=>{"use strict";var im=za&&za.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(za,"__esModule",{value:!0});za.TreeBuilder=void 0;var Ua=m4(),qt=im(bp()),nse=im(pn()),C4=im(dn()),E4=im(Yo()),T4=b4(),rse=Xt(),ise=function(){function t(){}return t.prototype.initTreeBuilder=function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,nse.default)(e,"nodeLocationTracking")?e.nodeLocationTracking:rse.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=qt.default,this.cstFinallyStateUpdate=qt.default,this.cstPostTerminal=qt.default,this.cstPostNonTerminal=qt.default,this.cstPostRule=qt.default;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ua.setNodeLocationFull,this.setNodeLocationFromNode=Ua.setNodeLocationFull,this.cstPostRule=qt.default,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=qt.default,this.setNodeLocationFromNode=qt.default,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ua.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=Ua.setNodeLocationOnlyOffset,this.cstPostRule=qt.default,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=qt.default,this.setNodeLocationFromNode=qt.default,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=qt.default,this.setNodeLocationFromNode=qt.default,this.cstPostRule=qt.default,this.setInitialNodeLocation=qt.default;else throw Error('Invalid <nodeLocationTracking> config option: "'.concat(e.nodeLocationTracking,'"'))},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(e){var n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstInvocationStateUpdate=function(e){var n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},t.prototype.cstPostRuleFull=function(e){var n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(e){var n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN},t.prototype.cstPostTerminal=function(e,n){var r=this.CST_STACK[this.CST_STACK.length-1];(0,Ua.addTerminalToCst)(r,n,e),this.setNodeLocationFromToken(r.location,n)},t.prototype.cstPostNonTerminal=function(e,n){var r=this.CST_STACK[this.CST_STACK.length-1];(0,Ua.addNoneTerminalToCst)(r,n,e),this.setNodeLocationFromNode(r.location,e.location)},t.prototype.getBaseCstVisitorConstructor=function(){if((0,E4.default)(this.baseCstVisitorConstructor)){var e=(0,T4.createBaseSemanticVisitorConstructor)(this.className,(0,C4.default)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,E4.default)(this.baseCstVisitorWithDefaultsConstructor)){var e=(0,T4.createBaseVisitorConstructorWithDefaults)(this.className,(0,C4.default)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.getLastExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},t}();za.TreeBuilder=ise});var O4=S(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.LexerAdapter=void 0;var _4=Xt(),ose=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!1,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):_4.END_OF_FILE},t.prototype.LA=function(e){var n=this.currIdx+e;return n<0||this.tokVectorLength<=n?_4.END_OF_FILE:this.tokVector[n]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(e){this.currIdx=e},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}();om.LexerAdapter=ose});var M4=S(Wa=>{"use strict";var R4=Wa&&Wa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.RecognizerApi=void 0;var sse=R4(Sr()),ase=R4(ei()),lse=qa(),oS=Xt(),use=Da(),cse=Ac(),fse=ze(),hse=function(){function t(){}return t.prototype.ACTION=function(e){return e.call(this)},t.prototype.consume=function(e,n,r){return this.consumeInternal(n,e,r)},t.prototype.subrule=function(e,n,r){return this.subruleInternal(n,e,r)},t.prototype.option=function(e,n){return this.optionInternal(n,e)},t.prototype.or=function(e,n){return this.orInternal(n,e)},t.prototype.many=function(e,n){return this.manyInternal(e,n)},t.prototype.atLeastOne=function(e,n){return this.atLeastOneInternal(e,n)},t.prototype.CONSUME=function(e,n){return this.consumeInternal(e,0,n)},t.prototype.CONSUME1=function(e,n){return this.consumeInternal(e,1,n)},t.prototype.CONSUME2=function(e,n){return this.consumeInternal(e,2,n)},t.prototype.CONSUME3=function(e,n){return this.consumeInternal(e,3,n)},t.prototype.CONSUME4=function(e,n){return this.consumeInternal(e,4,n)},t.prototype.CONSUME5=function(e,n){return this.consumeInternal(e,5,n)},t.prototype.CONSUME6=function(e,n){return this.consumeInternal(e,6,n)},t.prototype.CONSUME7=function(e,n){return this.consumeInternal(e,7,n)},t.prototype.CONSUME8=function(e,n){return this.consumeInternal(e,8,n)},t.prototype.CONSUME9=function(e,n){return this.consumeInternal(e,9,n)},t.prototype.SUBRULE=function(e,n){return this.subruleInternal(e,0,n)},t.prototype.SUBRULE1=function(e,n){return this.subruleInternal(e,1,n)},t.prototype.SUBRULE2=function(e,n){return this.subruleInternal(e,2,n)},t.prototype.SUBRULE3=function(e,n){return this.subruleInternal(e,3,n)},t.prototype.SUBRULE4=function(e,n){return this.subruleInternal(e,4,n)},t.prototype.SUBRULE5=function(e,n){return this.subruleInternal(e,5,n)},t.prototype.SUBRULE6=function(e,n){return this.subruleInternal(e,6,n)},t.prototype.SUBRULE7=function(e,n){return this.subruleInternal(e,7,n)},t.prototype.SUBRULE8=function(e,n){return this.subruleInternal(e,8,n)},t.prototype.SUBRULE9=function(e,n){return this.subruleInternal(e,9,n)},t.prototype.OPTION=function(e){return this.optionInternal(e,0)},t.prototype.OPTION1=function(e){return this.optionInternal(e,1)},t.prototype.OPTION2=function(e){return this.optionInternal(e,2)},t.prototype.OPTION3=function(e){return this.optionInternal(e,3)},t.prototype.OPTION4=function(e){return this.optionInternal(e,4)},t.prototype.OPTION5=function(e){return this.optionInternal(e,5)},t.prototype.OPTION6=function(e){return this.optionInternal(e,6)},t.prototype.OPTION7=function(e){return this.optionInternal(e,7)},t.prototype.OPTION8=function(e){return this.optionInternal(e,8)},t.prototype.OPTION9=function(e){return this.optionInternal(e,9)},t.prototype.OR=function(e){return this.orInternal(e,0)},t.prototype.OR1=function(e){return this.orInternal(e,1)},t.prototype.OR2=function(e){return this.orInternal(e,2)},t.prototype.OR3=function(e){return this.orInternal(e,3)},t.prototype.OR4=function(e){return this.orInternal(e,4)},t.prototype.OR5=function(e){return this.orInternal(e,5)},t.prototype.OR6=function(e){return this.orInternal(e,6)},t.prototype.OR7=function(e){return this.orInternal(e,7)},t.prototype.OR8=function(e){return this.orInternal(e,8)},t.prototype.OR9=function(e){return this.orInternal(e,9)},t.prototype.MANY=function(e){this.manyInternal(0,e)},t.prototype.MANY1=function(e){this.manyInternal(1,e)},t.prototype.MANY2=function(e){this.manyInternal(2,e)},t.prototype.MANY3=function(e){this.manyInternal(3,e)},t.prototype.MANY4=function(e){this.manyInternal(4,e)},t.prototype.MANY5=function(e){this.manyInternal(5,e)},t.prototype.MANY6=function(e){this.manyInternal(6,e)},t.prototype.MANY7=function(e){this.manyInternal(7,e)},t.prototype.MANY8=function(e){this.manyInternal(8,e)},t.prototype.MANY9=function(e){this.manyInternal(9,e)},t.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},t.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},t.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},t.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},t.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},t.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},t.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},t.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},t.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},t.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},t.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},t.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},t.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},t.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},t.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},t.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},t.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},t.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},t.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},t.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},t.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},t.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},t.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},t.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},t.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},t.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},t.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},t.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},t.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},t.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},t.prototype.RULE=function(e,n,r){if(r===void 0&&(r=oS.DEFAULT_RULE_CONFIG),(0,ase.default)(this.definedRulesNames,e)){var i=use.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),o={message:i,type:oS.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);var s=this.defineRule(e,n,r);return this[e]=s,s},t.prototype.OVERRIDE_RULE=function(e,n,r){r===void 0&&(r=oS.DEFAULT_RULE_CONFIG);var i=(0,cse.validateRuleIsOverridden)(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);var o=this.defineRule(e,n,r);return this[e]=o,o},t.prototype.BACKTRACK=function(e,n){return function(){this.isBackTrackingStack.push(1);var r=this.saveRecogState();try{return e.apply(this,n),!0}catch(i){if((0,lse.isRecognitionException)(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return(0,fse.serializeGrammar)((0,sse.default)(this.gastProductionsCache))},t}();Wa.RecognizerApi=hse});var q4=S(Ha=>{"use strict";var Pr=Ha&&Ha.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.RecognizerEngine=void 0;var P4=Pr(Rn()),sS=Pr(ce()),aS=Pr(Tr()),L4=Pr(yc()),dse=Pr(Cp()),pse=Pr(Zn()),Mc=Pr(pn()),Pc=Pr(Sr()),N4=Pr(Xi()),I4=Pr(Qr()),gn=Qp(),sm=qa(),D4=Fa(),ja=Cc(),F4=Xt(),mse=tS(),B4=Jo(),Lc=Qo(),gse=function(){function t(){}return t.prototype.initRecognizerEngine=function(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Lc.tokenStructuredMatcherNoCategories,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,Mc.default)(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if((0,sS.default)(e)){if((0,P4.default)(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if((0,sS.default)(e))this.tokensMap=(0,N4.default)(e,function(a,l){return a[l.name]=l,a},{});else if((0,Mc.default)(e,"modes")&&(0,L4.default)((0,aS.default)((0,Pc.default)(e.modes)),Lc.isTokenType)){var r=(0,aS.default)((0,Pc.default)(e.modes)),i=(0,dse.default)(r);this.tokensMap=(0,N4.default)(i,function(a,l){return a[l.name]=l,a},{})}else if((0,pse.default)(e))this.tokensMap=(0,I4.default)(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=B4.EOF;var o=(0,Mc.default)(e,"modes")?(0,aS.default)((0,Pc.default)(e.modes)):(0,Pc.default)(e),s=(0,L4.default)(o,function(a){return(0,P4.default)(a.categoryMatches)});this.tokenMatcher=s?Lc.tokenStructuredMatcherNoCategories:Lc.tokenStructuredMatcher,(0,Lc.augmentTokenTypes)((0,Pc.default)(this.tokensMap))},t.prototype.defineRule=function(e,n,r){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(e,`> may not be defined after the 'performSelfAnalysis' method has been called'
`)+"Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var i=(0,Mc.default)(r,"resyncEnabled")?r.resyncEnabled:F4.DEFAULT_RULE_CONFIG.resyncEnabled,o=(0,Mc.default)(r,"recoveryValueFunc")?r.recoveryValueFunc:F4.DEFAULT_RULE_CONFIG.recoveryValueFunc,s=this.ruleShortNameIdx<<gn.BITS_FOR_METHOD_TYPE+gn.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s;var a;this.outputCst===!0?a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),n.apply(this,c);var h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(p){return this.invokeRuleCatch(p,i,o)}finally{this.ruleFinallyStateUpdate()}}:a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),n.apply(this,c)}catch(h){return this.invokeRuleCatch(h,i,o)}finally{this.ruleFinallyStateUpdate()}};var l=Object.assign(a,{ruleName:e,originalGrammarAction:n});return l},t.prototype.invokeRuleCatch=function(e,n,r){var i=this.RULE_STACK.length===1,o=n&&!this.isBackTracking()&&this.recoveryEnabled;if((0,sm.isRecognitionException)(e)){var s=e;if(o){var a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(s.resyncedTokens=this.reSyncTo(a),this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r(e);else{if(this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,s.partialCstResult=l}throw s}}else{if(i)return this.moveToTerminatedState(),r(e);throw s}}else throw e},t.prototype.optionInternal=function(e,n){var r=this.getKeyForAutomaticLookahead(gn.OPTION_IDX,n);return this.optionInternalLogic(e,n,r)},t.prototype.optionInternalLogic=function(e,n,r){var i=this,o=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;var a=e.GATE;if(a!==void 0){var l=o;o=function(){return a.call(i)&&l.call(i)}}}else s=e;if(o.call(this)===!0)return s.call(this)},t.prototype.atLeastOneInternal=function(e,n){var r=this.getKeyForAutomaticLookahead(gn.AT_LEAST_ONE_IDX,e);return this.atLeastOneInternalLogic(e,n,r)},t.prototype.atLeastOneInternalLogic=function(e,n,r){var i=this,o=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;var a=n.GATE;if(a!==void 0){var l=o;o=function(){return a.call(i)&&l.call(i)}}}else s=n;if(o.call(this)===!0)for(var u=this.doSingleRepetition(s);o.call(this)===!0&&u===!0;)u=this.doSingleRepetition(s);else throw this.raiseEarlyExitException(e,D4.PROD_TYPE.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],o,gn.AT_LEAST_ONE_IDX,e,ja.NextTerminalAfterAtLeastOneWalker)},t.prototype.atLeastOneSepFirstInternal=function(e,n){var r=this.getKeyForAutomaticLookahead(gn.AT_LEAST_ONE_SEP_IDX,e);this.atLeastOneSepFirstInternalLogic(e,n,r)},t.prototype.atLeastOneSepFirstInternalLogic=function(e,n,r){var i=this,o=n.DEF,s=n.SEP,a=this.getLaFuncFromCache(r);if(a.call(this)===!0){o.call(this);for(var l=function(){return i.tokenMatcher(i.LA(1),s)};this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,l,o,ja.NextTerminalAfterAtLeastOneSepWalker],l,gn.AT_LEAST_ONE_SEP_IDX,e,ja.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(e,D4.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)},t.prototype.manyInternal=function(e,n){var r=this.getKeyForAutomaticLookahead(gn.MANY_IDX,e);return this.manyInternalLogic(e,n,r)},t.prototype.manyInternalLogic=function(e,n,r){var i=this,o=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;var a=n.GATE;if(a!==void 0){var l=o;o=function(){return a.call(i)&&l.call(i)}}}else s=n;for(var u=!0;o.call(this)===!0&&u===!0;)u=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],o,gn.MANY_IDX,e,ja.NextTerminalAfterManyWalker,u)},t.prototype.manySepFirstInternal=function(e,n){var r=this.getKeyForAutomaticLookahead(gn.MANY_SEP_IDX,e);this.manySepFirstInternalLogic(e,n,r)},t.prototype.manySepFirstInternalLogic=function(e,n,r){var i=this,o=n.DEF,s=n.SEP,a=this.getLaFuncFromCache(r);if(a.call(this)===!0){o.call(this);for(var l=function(){return i.tokenMatcher(i.LA(1),s)};this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,l,o,ja.NextTerminalAfterManySepWalker],l,gn.MANY_SEP_IDX,e,ja.NextTerminalAfterManySepWalker)}},t.prototype.repetitionSepSecondInternal=function(e,n,r,i,o){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,i,o],r,gn.AT_LEAST_ONE_SEP_IDX,e,o)},t.prototype.doSingleRepetition=function(e){var n=this.getLexerPosition();e.call(this);var r=this.getLexerPosition();return r>n},t.prototype.orInternal=function(e,n){var r=this.getKeyForAutomaticLookahead(gn.OR_IDX,n),i=(0,sS.default)(e)?e:e.DEF,o=this.getLaFuncFromCache(r),s=o.call(this,i);if(s!==void 0){var a=i[s];return a.ALT.call(this)}this.raiseNoAltException(n,e.ERR_MSG)},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new sm.NotAllInputParsedException(n,e))}},t.prototype.subruleInternal=function(e,n,r){var i;try{var o=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,i=e.apply(this,o),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}},t.prototype.subruleInternalError=function(e,n,r){throw(0,sm.isRecognitionException)(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e},t.prototype.consumeInternal=function(e,n,r){var i;try{var o=this.LA(1);this.tokenMatcher(o,e)===!0?(this.consumeToken(),i=o):this.consumeInternalError(e,o,r)}catch(s){i=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i},t.prototype.consumeInternalError=function(e,n,r){var i,o=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new sm.MismatchedTokenException(i,n,o))},t.prototype.consumeInternalRecovery=function(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){var i=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,i)}catch(o){throw o.name===mse.IN_RULE_RECOVERY_EXCEPTION?r:o}}else throw r},t.prototype.saveRecogState=function(){var e=this.errors,n=(0,I4.default)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}},t.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)},t.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},t.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},t.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),B4.EOF)},t.prototype.reset=function(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}();Ha.RecognizerEngine=gse});var W4=S(Ga=>{"use strict";var z4=Ga&&Ga.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.ErrorHandler=void 0;var lS=qa(),vse=z4(pn()),V4=z4(Qr()),U4=Fa(),yse=Xt(),xse=function(){function t(){}return t.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=(0,vse.default)(e,"errorMessageProvider")?e.errorMessageProvider:yse.DEFAULT_PARSER_CONFIG.errorMessageProvider},t.prototype.SAVE_ERROR=function(e){if((0,lS.isRecognitionException)(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,V4.default)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return(0,V4.default)(this._errors)},set:function(e){this._errors=e},enumerable:!1,configurable:!0}),t.prototype.raiseEarlyExitException=function(e,n,r){for(var i=this.getCurrRuleFullName(),o=this.getGAstProductions()[i],s=(0,U4.getLookaheadPathsForOptionalProd)(e,o,n,this.maxLookahead),a=s[0],l=[],u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));var c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new lS.EarlyExitException(c,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(e,n){for(var r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],o=(0,U4.getLookaheadPathsForOr)(e,i,this.maxLookahead),s=[],a=1;a<=this.maxLookahead;a++)s.push(this.LA(a));var l=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:o,actual:s,previous:l,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new lS.NoViableAltException(u,this.LA(1),l))},t}();Ga.ErrorHandler=xse});var G4=S(Ka=>{"use strict";var H4=Ka&&Ka.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.ContentAssist=void 0;var j4=Cc(),Sse=H4(Ma()),kse=H4(Yo()),wse=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(e,n){var r=this.gastProductionsCache[e];if((0,kse.default)(r))throw Error("Rule ->".concat(e,"<- does not exist in this grammar."));return(0,j4.nextPossibleTokensAfter)([r],n,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(e){var n=(0,Sse.default)(e.ruleStack),r=this.getGAstProductions(),i=r[n],o=new j4.NextAfterTokenWalker(i,e).startWalking();return o},t}();Ka.ContentAssist=wse});var t6=S($a=>{"use strict";var Ya=$a&&$a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($a,"__esModule",{value:!0});$a.GastRecorder=void 0;var am=Ya(zp()),bse=Ya(ce()),Cse=Ya(yp()),Ese=Ya(pt()),X4=Ya(ca()),Ic=Ya(pn()),Lr=ze(),Tse=Sc(),Z4=Qo(),Q4=Jo(),Ase=Xt(),_se=Qp(),um={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(um);var K4=!0,$4=Math.pow(2,_se.BITS_FOR_OCCURRENCE_IDX)-1,J4=(0,Q4.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:Tse.Lexer.NA});(0,Z4.augmentTokenTypes)([J4]);var e6=(0,Q4.createTokenInstance)(J4,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(e6);var Ose={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},Rse=function(){function t(){}return t.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},t.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var n=function(i){var o=i>0?i:"";e["CONSUME".concat(o)]=function(s,a){return this.consumeInternalRecord(s,i,a)},e["SUBRULE".concat(o)]=function(s,a){return this.subruleInternalRecord(s,i,a)},e["OPTION".concat(o)]=function(s){return this.optionInternalRecord(s,i)},e["OR".concat(o)]=function(s){return this.orInternalRecord(s,i)},e["MANY".concat(o)]=function(s){this.manyInternalRecord(i,s)},e["MANY_SEP".concat(o)]=function(s){this.manySepFirstInternalRecord(i,s)},e["AT_LEAST_ONE".concat(o)]=function(s){this.atLeastOneInternalRecord(i,s)},e["AT_LEAST_ONE_SEP".concat(o)]=function(s){this.atLeastOneSepFirstInternalRecord(i,s)}},r=0;r<10;r++)n(r);e.consume=function(i,o,s){return this.consumeInternalRecord(o,i,s)},e.subrule=function(i,o,s){return this.subruleInternalRecord(o,i,s)},e.option=function(i,o){return this.optionInternalRecord(o,i)},e.or=function(i,o){return this.orInternalRecord(o,i)},e.many=function(i,o){this.manyInternalRecord(i,o)},e.atLeastOne=function(i,o){this.atLeastOneInternalRecord(i,o)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD})},t.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var n=e,r=0;r<10;r++){var i=r>0?r:"";delete n["CONSUME".concat(i)],delete n["SUBRULE".concat(i)],delete n["OPTION".concat(i)],delete n["OR".concat(i)],delete n["MANY".concat(i)],delete n["MANY_SEP".concat(i)],delete n["AT_LEAST_ONE".concat(i)],delete n["AT_LEAST_ONE_SEP".concat(i)]}delete n.consume,delete n.subrule,delete n.option,delete n.or,delete n.many,delete n.atLeastOne,delete n.ACTION,delete n.BACKTRACK,delete n.LA})},t.prototype.ACTION_RECORD=function(e){},t.prototype.BACKTRACK_RECORD=function(e,n){return function(){return!0}},t.prototype.LA_RECORD=function(e){return Ase.END_OF_FILE},t.prototype.topLevelRuleRecord=function(e,n){try{var r=new Lr.Rule({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(i){if(i.KNOWN_RECORDER_ERROR!==!0)try{i.message=i.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw i}throw i}},t.prototype.optionInternalRecord=function(e,n){return Nc.call(this,Lr.Option,e,n)},t.prototype.atLeastOneInternalRecord=function(e,n){Nc.call(this,Lr.RepetitionMandatory,n,e)},t.prototype.atLeastOneSepFirstInternalRecord=function(e,n){Nc.call(this,Lr.RepetitionMandatoryWithSeparator,n,e,K4)},t.prototype.manyInternalRecord=function(e,n){Nc.call(this,Lr.Repetition,n,e)},t.prototype.manySepFirstInternalRecord=function(e,n){Nc.call(this,Lr.RepetitionWithSeparator,n,e,K4)},t.prototype.orInternalRecord=function(e,n){return Mse.call(this,e,n)},t.prototype.subruleInternalRecord=function(e,n,r){if(lm(n),!e||(0,Ic.default)(e,"ruleName")===!1){var i=new Error("<SUBRULE".concat(Y4(n),"> argument is invalid")+" expecting a Parser method reference but got: <".concat(JSON.stringify(e),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw i.KNOWN_RECORDER_ERROR=!0,i}var o=(0,am.default)(this.recordingProdStack),s=e.ruleName,a=new Lr.NonTerminal({idx:n,nonTerminalName:s,label:r?.LABEL,referencedRule:void 0});return o.definition.push(a),this.outputCst?Ose:um},t.prototype.consumeInternalRecord=function(e,n,r){if(lm(n),!(0,Z4.hasShortKeyProperty)(e)){var i=new Error("<CONSUME".concat(Y4(n),"> argument is invalid")+" expecting a TokenType reference but got: <".concat(JSON.stringify(e),">")+`
 inside top level rule: <`.concat(this.recordingProdStack[0].name,">"));throw i.KNOWN_RECORDER_ERROR=!0,i}var o=(0,am.default)(this.recordingProdStack),s=new Lr.Terminal({idx:n,terminalType:e,label:r?.LABEL});return o.definition.push(s),e6},t}();$a.GastRecorder=Rse;function Nc(t,e,n,r){r===void 0&&(r=!1),lm(n);var i=(0,am.default)(this.recordingProdStack),o=(0,X4.default)(e)?e:e.DEF,s=new t({definition:[],idx:n});return r&&(s.separator=e.SEP),(0,Ic.default)(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(s),o.call(this),i.definition.push(s),this.recordingProdStack.pop(),um}function Mse(t,e){var n=this;lm(e);var r=(0,am.default)(this.recordingProdStack),i=(0,bse.default)(t)===!1,o=i===!1?t:t.DEF,s=new Lr.Alternation({definition:[],idx:e,ignoreAmbiguities:i&&t.IGNORE_AMBIGUITIES===!0});(0,Ic.default)(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);var a=(0,Cse.default)(o,function(l){return(0,X4.default)(l.GATE)});return s.hasPredicates=a,r.definition.push(s),(0,Ese.default)(o,function(l){var u=new Lr.Alternative({definition:[]});s.definition.push(u),(0,Ic.default)(l,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=l.IGNORE_AMBIGUITIES:(0,Ic.default)(l,"GATE")&&(u.ignoreAmbiguities=!0),n.recordingProdStack.push(u),l.ALT.call(n),n.recordingProdStack.pop()}),um}function Y4(t){return t===0?"":"".concat(t)}function lm(t){if(t<0||t>$4){var e=new Error("Invalid DSL Method idx value: <".concat(t,`>
	`)+"Idx value must be a none negative value smaller than ".concat($4+1));throw e.KNOWN_RECORDER_ERROR=!0,e}}});var n6=S(Xa=>{"use strict";var Pse=Xa&&Xa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.PerformanceTracer=void 0;var Lse=Pse(pn()),Nse=Aa(),Ise=Xt(),Dse=function(){function t(){}return t.prototype.initPerformanceTracer=function(e){if((0,Lse.default)(e,"traceInitPerf")){var n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=Ise.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},t.prototype.TRACE_INIT=function(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;var r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(r,"--> <").concat(e,">"));var i=(0,Nse.timer)(n),o=i.time,s=i.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a("".concat(r,"<-- <").concat(e,"> time: ").concat(o,"ms")),this.traceInitIndent--,s}else return n()},t}();Xa.PerformanceTracer=Dse});var r6=S(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.applyMixins=void 0;function Fse(t,e){e.forEach(function(n){var r=n.prototype;Object.getOwnPropertyNames(r).forEach(function(i){if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(r,i);o&&(o.get||o.set)?Object.defineProperty(t.prototype,i,o):t.prototype[i]=n.prototype[i]}})})}cm.applyMixins=Fse});var Xt=S(ve=>{"use strict";var a6=ve&&ve.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Za=ve&&ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ve,"__esModule",{value:!0});ve.EmbeddedActionsParser=ve.CstParser=ve.Parser=ve.EMPTY_ALT=ve.ParserDefinitionErrorType=ve.DEFAULT_RULE_CONFIG=ve.DEFAULT_PARSER_CONFIG=ve.END_OF_FILE=void 0;var uS=Za(Rn()),Bse=Za(Ft()),qse=Za(pt()),io=Za(Sr()),i6=Za(pn()),l6=Za(Qr()),Vse=Aa(),Use=VI(),o6=Jo(),u6=Da(),s6=e4(),zse=tS(),Wse=p4(),jse=A4(),Hse=O4(),Gse=M4(),Kse=q4(),$se=W4(),Yse=G4(),Xse=t6(),Zse=n6(),Qse=r6(),Jse=Ac();ve.END_OF_FILE=(0,o6.createTokenInstance)(o6.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(ve.END_OF_FILE);ve.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:u6.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1});ve.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});var eae;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(eae=ve.ParserDefinitionErrorType||(ve.ParserDefinitionErrorType={}));function tae(t){return t===void 0&&(t=void 0),function(){return t}}ve.EMPTY_ALT=tae;var fm=function(){function t(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;var r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),(0,i6.default)(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=(0,i6.default)(n,"skipValidations")?n.skipValidations:ve.DEFAULT_PARSER_CONFIG.skipValidations}return t.performSelfAnalysis=function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},t.prototype.performSelfAnalysis=function(){var e=this;this.TRACE_INIT("performSelfAnalysis",function(){var n;e.selfAnalysisDone=!0;var r=e.className;e.TRACE_INIT("toFastProps",function(){(0,Vse.toFastProperties)(e)}),e.TRACE_INIT("Grammar Recording",function(){try{e.enableRecording(),(0,qse.default)(e.definedRulesNames,function(o){var s=e[o],a=s.originalGrammarAction,l;e.TRACE_INIT("".concat(o," Rule"),function(){l=e.topLevelRuleRecord(o,a)}),e.gastProductionsCache[o]=l})}finally{e.disableRecording()}});var i=[];if(e.TRACE_INIT("Grammar Resolving",function(){i=(0,s6.resolveGrammar)({rules:(0,io.default)(e.gastProductionsCache)}),e.definitionErrors=e.definitionErrors.concat(i)}),e.TRACE_INIT("Grammar Validations",function(){if((0,uS.default)(i)&&e.skipValidations===!1){var o=(0,s6.validateGrammar)({rules:(0,io.default)(e.gastProductionsCache),tokenTypes:(0,io.default)(e.tokensMap),errMsgProvider:u6.defaultGrammarValidatorErrorProvider,grammarName:r}),s=(0,Jse.validateLookahead)({lookaheadStrategy:e.lookaheadStrategy,rules:(0,io.default)(e.gastProductionsCache),tokenTypes:(0,io.default)(e.tokensMap),grammarName:r});e.definitionErrors=e.definitionErrors.concat(o,s)}}),(0,uS.default)(e.definitionErrors)&&(e.recoveryEnabled&&e.TRACE_INIT("computeAllProdsFollows",function(){var o=(0,Use.computeAllProdsFollows)((0,io.default)(e.gastProductionsCache));e.resyncFollows=o}),e.TRACE_INIT("ComputeLookaheadFunctions",function(){var o,s;(s=(o=e.lookaheadStrategy).initialize)===null||s===void 0||s.call(o,{rules:(0,io.default)(e.gastProductionsCache)}),e.preComputeLookaheadFunctions((0,io.default)(e.gastProductionsCache))})),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,uS.default)(e.definitionErrors))throw n=(0,Bse.default)(e.definitionErrors,function(o){return o.message}),new Error(`Parser Definition Errors detected:
 `.concat(n.join(`
-------------------------------
`)))})},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();ve.Parser=fm;(0,Qse.applyMixins)(fm,[zse.Recoverable,Wse.LooksAhead,jse.TreeBuilder,Hse.LexerAdapter,Kse.RecognizerEngine,Gse.RecognizerApi,$se.ErrorHandler,Yse.ContentAssist,Xse.GastRecorder,Zse.PerformanceTracer]);var nae=function(t){a6(e,t);function e(n,r){r===void 0&&(r=ve.DEFAULT_PARSER_CONFIG);var i=(0,l6.default)(r);return i.outputCst=!0,t.call(this,n,i)||this}return e}(fm);ve.CstParser=nae;var rae=function(t){a6(e,t);function e(n,r){r===void 0&&(r=ve.DEFAULT_PARSER_CONFIG);var i=(0,l6.default)(r);return i.outputCst=!1,t.call(this,n,i)||this}return e}(fm);ve.EmbeddedActionsParser=rae});var f6=S(oo=>{"use strict";var iae=oo&&oo.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qa=oo&&oo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});oo.buildModel=void 0;var c6=ze(),Dc=Qa(Ft()),oae=Qa(Tr()),sae=Qa(Sr()),aae=Qa(yp()),lae=Qa(qx()),uae=Qa(gc());function cae(t){var e=new fae,n=(0,sae.default)(t);return(0,Dc.default)(n,function(r){return e.visitRule(r)})}oo.buildModel=cae;var fae=function(t){iae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.visitRule=function(n){var r=this.visitEach(n.definition),i=(0,lae.default)(r,function(s){return s.propertyName}),o=(0,Dc.default)(i,function(s,a){var l=!(0,aae.default)(s,function(c){return!c.canBeNull}),u=s[0].type;return s.length>1&&(u=(0,Dc.default)(s,function(c){return c.type})),{name:a,type:u,optional:l}});return{name:n.name,properties:o}},e.prototype.visitAlternative=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0})},e.prototype.visitOption=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0})},e.prototype.visitRepetition=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0})},e.prototype.visitRepetitionMandatory=function(n){return this.visitEach(n.definition)},e.prototype.visitRepetitionMandatoryWithSeparator=function(n){return this.visitEach(n.definition).concat({propertyName:n.separator.name,canBeNull:!0,type:hm(n.separator)})},e.prototype.visitRepetitionWithSeparator=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0}).concat({propertyName:n.separator.name,canBeNull:!0,type:hm(n.separator)})},e.prototype.visitAlternation=function(n){return this.visitEachAndOverrideWith(n.definition,{canBeNull:!0})},e.prototype.visitTerminal=function(n){return[{propertyName:n.label||n.terminalType.name,canBeNull:!1,type:hm(n)}]},e.prototype.visitNonTerminal=function(n){return[{propertyName:n.label||n.nonTerminalName,canBeNull:!1,type:hm(n)}]},e.prototype.visitEachAndOverrideWith=function(n,r){return(0,Dc.default)(this.visitEach(n),function(i){return(0,uae.default)({},i,r)})},e.prototype.visitEach=function(n){var r=this;return(0,oae.default)((0,Dc.default)(n,function(i){return r.visit(i)}))},e}(c6.GAstVisitor);function hm(t){return t instanceof c6.NonTerminal?{kind:"rule",name:t.referencedRule.name}:{kind:"token"}}});var d6=S((yge,h6)=>{var hae=hp();function dae(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hae(t,e,n)}h6.exports=dae});var cS=S((xge,p6)=>{var pae="\\ud800-\\udfff",mae="\\u0300-\\u036f",gae="\\ufe20-\\ufe2f",vae="\\u20d0-\\u20ff",yae=mae+gae+vae,xae="\\ufe0e\\ufe0f",Sae="\\u200d",kae=RegExp("["+Sae+pae+yae+xae+"]");function wae(t){return kae.test(t)}p6.exports=wae});var g6=S((Sge,m6)=>{function bae(t){return t.split("")}m6.exports=bae});var C6=S((kge,b6)=>{var v6="\\ud800-\\udfff",Cae="\\u0300-\\u036f",Eae="\\ufe20-\\ufe2f",Tae="\\u20d0-\\u20ff",Aae=Cae+Eae+Tae,_ae="\\ufe0e\\ufe0f",Oae="["+v6+"]",fS="["+Aae+"]",hS="\\ud83c[\\udffb-\\udfff]",Rae="(?:"+fS+"|"+hS+")",y6="[^"+v6+"]",x6="(?:\\ud83c[\\udde6-\\uddff]){2}",S6="[\\ud800-\\udbff][\\udc00-\\udfff]",Mae="\\u200d",k6=Rae+"?",w6="["+_ae+"]?",Pae="(?:"+Mae+"(?:"+[y6,x6,S6].join("|")+")"+w6+k6+")*",Lae=w6+k6+Pae,Nae="(?:"+[y6+fS+"?",fS,x6,S6,Oae].join("|")+")",Iae=RegExp(hS+"(?="+hS+")|"+Nae+Lae,"g");function Dae(t){return t.match(Iae)||[]}b6.exports=Dae});var T6=S((wge,E6)=>{var Fae=g6(),Bae=cS(),qae=C6();function Vae(t){return Bae(t)?qae(t):Fae(t)}E6.exports=Vae});var _6=S((bge,A6)=>{var Uae=d6(),zae=cS(),Wae=T6(),jae=X1();function Hae(t){return function(e){e=jae(e);var n=zae(e)?Wae(e):void 0,r=n?n[0]:e.charAt(0),i=n?Uae(n,1).join(""):e.slice(1);return r[t]()+i}}A6.exports=Hae});var R6=S((Cge,O6)=>{var Gae=_6(),Kae=Gae("toUpperCase");O6.exports=Kae});var N6=S(Ja=>{"use strict";var el=Ja&&Ja.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.genDts=void 0;var $ae=el(Tr()),Yae=el(ce()),dm=el(Ft()),Xae=el(Xi()),Zae=el(Cp()),P6=el(R6());function Qae(t,e){var n=[];return n=n.concat('import type { CstNode, ICstVisitor, IToken } from "chevrotain";'),n=n.concat((0,$ae.default)((0,dm.default)(t,function(r){return Jae(r)}))),e.includeVisitorInterface&&(n=n.concat(rle(e.visitorInterfaceName,t))),n.join(`

`)+`
`}Ja.genDts=Qae;function Jae(t){var e=ele(t),n=tle(t);return[e,n]}function ele(t){var e=L6(t.name),n=dS(t.name);return"export interface ".concat(e,` extends CstNode {
  name: "`).concat(t.name,`";
  children: `).concat(n,`;
}`)}function tle(t){var e=dS(t.name);return"export type ".concat(e,` = {
  `).concat((0,dm.default)(t.properties,function(n){return nle(n)}).join(`
  `),`
};`)}function nle(t){var e=ole(t.type);return"".concat(t.name).concat(t.optional?"?":"",": ").concat(e,"[];")}function rle(t,e){return"export interface ".concat(t,`<IN, OUT> extends ICstVisitor<IN, OUT> {
  `).concat((0,dm.default)(e,function(n){return ile(n)}).join(`
  `),`
}`)}function ile(t){var e=dS(t.name);return"".concat(t.name,"(children: ").concat(e,", param?: IN): OUT;")}function ole(t){if((0,Yae.default)(t)){var e=(0,Zae.default)((0,dm.default)(t,function(r){return M6(r)})),n=(0,Xae.default)(e,function(r,i){return r+" | "+i});return"("+n+")"}else return M6(t)}function M6(t){return t.kind==="token"?"IToken":L6(t.name)}function L6(t){return(0,P6.default)(t)+"CstNode"}function dS(t){return(0,P6.default)(t)+"CstChildren"}});var I6=S(tl=>{"use strict";var pm=tl&&tl.__assign||function(){return pm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pm.apply(this,arguments)};Object.defineProperty(tl,"__esModule",{value:!0});tl.generateCstDts=void 0;var sle=f6(),ale=N6(),lle={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};function ule(t,e){var n=pm(pm({},lle),e),r=(0,sle.buildModel)(t);return(0,ale.genDts)(r,n)}tl.generateCstDts=ule});var F6=S(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.createSyntaxDiagramsCode=void 0;var D6=C1();function cle(t,e){var n=e===void 0?{}:e,r=n.resourceBase,i=r===void 0?"https://unpkg.com/chevrotain@".concat(D6.VERSION,"/diagrams/"):r,o=n.css,s=o===void 0?"https://unpkg.com/chevrotain@".concat(D6.VERSION,"/diagrams/diagrams.css"):o,a=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,l=`
<link rel='stylesheet' href='`.concat(s,`'>
`),u=`
<script src='`.concat(i,`vendor/railroad-diagrams.js'><\/script>
<script src='`).concat(i,`src/diagrams_builder.js'><\/script>
<script src='`).concat(i,`src/diagrams_behavior.js'><\/script>
<script src='`).concat(i,`src/main.js'><\/script>
`),c=`
<div id="diagrams" align="center"></div>    
`,f=`
<script>
    window.serializedGrammar = `.concat(JSON.stringify(t,null,"  "),`;
<\/script>
`),h=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return a+l+u+c+f+h}mm.createSyntaxDiagramsCode=cle});var q6=S(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.Parser=L.createSyntaxDiagramsCode=L.clearCache=L.generateCstDts=L.GAstVisitor=L.serializeProduction=L.serializeGrammar=L.Terminal=L.Rule=L.RepetitionWithSeparator=L.RepetitionMandatoryWithSeparator=L.RepetitionMandatory=L.Repetition=L.Option=L.NonTerminal=L.Alternative=L.Alternation=L.defaultLexerErrorProvider=L.NoViableAltException=L.NotAllInputParsedException=L.MismatchedTokenException=L.isRecognitionException=L.EarlyExitException=L.defaultParserErrorProvider=L.LLkLookaheadStrategy=L.getLookaheadPaths=L.tokenName=L.tokenMatcher=L.tokenLabel=L.EOF=L.createTokenInstance=L.createToken=L.LexerDefinitionErrorType=L.Lexer=L.EMPTY_ALT=L.ParserDefinitionErrorType=L.EmbeddedActionsParser=L.CstParser=L.VERSION=void 0;var fle=C1();Object.defineProperty(L,"VERSION",{enumerable:!0,get:function(){return fle.VERSION}});var gm=Xt();Object.defineProperty(L,"CstParser",{enumerable:!0,get:function(){return gm.CstParser}});Object.defineProperty(L,"EmbeddedActionsParser",{enumerable:!0,get:function(){return gm.EmbeddedActionsParser}});Object.defineProperty(L,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return gm.ParserDefinitionErrorType}});Object.defineProperty(L,"EMPTY_ALT",{enumerable:!0,get:function(){return gm.EMPTY_ALT}});var B6=Sc();Object.defineProperty(L,"Lexer",{enumerable:!0,get:function(){return B6.Lexer}});Object.defineProperty(L,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return B6.LexerDefinitionErrorType}});var nl=Jo();Object.defineProperty(L,"createToken",{enumerable:!0,get:function(){return nl.createToken}});Object.defineProperty(L,"createTokenInstance",{enumerable:!0,get:function(){return nl.createTokenInstance}});Object.defineProperty(L,"EOF",{enumerable:!0,get:function(){return nl.EOF}});Object.defineProperty(L,"tokenLabel",{enumerable:!0,get:function(){return nl.tokenLabel}});Object.defineProperty(L,"tokenMatcher",{enumerable:!0,get:function(){return nl.tokenMatcher}});Object.defineProperty(L,"tokenName",{enumerable:!0,get:function(){return nl.tokenName}});var hle=Fa();Object.defineProperty(L,"getLookaheadPaths",{enumerable:!0,get:function(){return hle.getLookaheadPaths}});var dle=rS();Object.defineProperty(L,"LLkLookaheadStrategy",{enumerable:!0,get:function(){return dle.LLkLookaheadStrategy}});var ple=Da();Object.defineProperty(L,"defaultParserErrorProvider",{enumerable:!0,get:function(){return ple.defaultParserErrorProvider}});var Fc=qa();Object.defineProperty(L,"EarlyExitException",{enumerable:!0,get:function(){return Fc.EarlyExitException}});Object.defineProperty(L,"isRecognitionException",{enumerable:!0,get:function(){return Fc.isRecognitionException}});Object.defineProperty(L,"MismatchedTokenException",{enumerable:!0,get:function(){return Fc.MismatchedTokenException}});Object.defineProperty(L,"NotAllInputParsedException",{enumerable:!0,get:function(){return Fc.NotAllInputParsedException}});Object.defineProperty(L,"NoViableAltException",{enumerable:!0,get:function(){return Fc.NoViableAltException}});var mle=Rx();Object.defineProperty(L,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return mle.defaultLexerErrorProvider}});var Nr=ze();Object.defineProperty(L,"Alternation",{enumerable:!0,get:function(){return Nr.Alternation}});Object.defineProperty(L,"Alternative",{enumerable:!0,get:function(){return Nr.Alternative}});Object.defineProperty(L,"NonTerminal",{enumerable:!0,get:function(){return Nr.NonTerminal}});Object.defineProperty(L,"Option",{enumerable:!0,get:function(){return Nr.Option}});Object.defineProperty(L,"Repetition",{enumerable:!0,get:function(){return Nr.Repetition}});Object.defineProperty(L,"RepetitionMandatory",{enumerable:!0,get:function(){return Nr.RepetitionMandatory}});Object.defineProperty(L,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return Nr.RepetitionMandatoryWithSeparator}});Object.defineProperty(L,"RepetitionWithSeparator",{enumerable:!0,get:function(){return Nr.RepetitionWithSeparator}});Object.defineProperty(L,"Rule",{enumerable:!0,get:function(){return Nr.Rule}});Object.defineProperty(L,"Terminal",{enumerable:!0,get:function(){return Nr.Terminal}});var pS=ze();Object.defineProperty(L,"serializeGrammar",{enumerable:!0,get:function(){return pS.serializeGrammar}});Object.defineProperty(L,"serializeProduction",{enumerable:!0,get:function(){return pS.serializeProduction}});Object.defineProperty(L,"GAstVisitor",{enumerable:!0,get:function(){return pS.GAstVisitor}});var gle=I6();Object.defineProperty(L,"generateCstDts",{enumerable:!0,get:function(){return gle.generateCstDts}});function vle(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}L.clearCache=vle;var yle=F6();Object.defineProperty(L,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return yle.createSyntaxDiagramsCode}});var xle=function(){function t(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return t}();L.Parser=xle});var uF=Nn(ao()),cF=Nn(dC());var Ee=Nn(ao());function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(null,arguments)}function pC(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gi=Nn(ao(),1);var Kt=Nn(ao(),1);var H0=[],yC=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?yC:H0).push(n=n+t[e])})();function F8(t){if(t<768)return!1;for(let e=0,n=H0.length;;){let r=e+n>>1;if(t<H0[r])n=r;else if(t>=yC[r])e=r+1;else return!0;if(e==n)return!1}}function mC(t){return t>=127462&&t<=127487}var gC=8205;function xC(t,e,n=!0,r=!0){return(n?SC:B8)(t,e,r)}function SC(t,e,n){if(e==t.length)return e;e&&kC(t.charCodeAt(e))&&wC(t.charCodeAt(e-1))&&e--;let r=j0(t,e);for(e+=vC(r);e<t.length;){let i=j0(t,e);if(r==gC||i==gC||n&&F8(i))e+=vC(i),r=i;else if(mC(i)){let o=0,s=e-2;for(;s>=0&&mC(j0(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function B8(t,e,n){for(;e>0;){let r=SC(t,e-2,n);if(r<e)return r;e--}return 0}function j0(t,e){let n=t.charCodeAt(e);if(!wC(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return kC(r)?(n-55296<<10)+(r-56320)+65536:n}function kC(t){return t>=56320&&t<57344}function wC(t){return t>=55296&&t<56320}function vC(t){return t<65536?1:2}var X=class t{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Ws(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Vs.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Ws(this,e,n);let r=[];return this.decompose(e,n,r,0),Vs.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new To(this),o=new To(e);for(let s=n,a=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new To(this,e)}iterRange(e,n=this.length){return new mh(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new gh(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?t.empty:e.length<=32?new sn(e):Vs.from(sn.split(e,[]))}},sn=class t extends X{constructor(e,n=q8(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((n?r:a)>=e)return new K0(i,a,r,s);i=a+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new t(bC(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=ph(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new t(a,s.length+o.length));else{let l=a.length>>1;r.push(new t(a.slice(0,l)),new t(a.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof t))return super.replace(e,n,r);[e,n]=Ws(this,e,n);let i=ph(this.text,ph(r.text,bC(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new t(i,o):Vs.from(t.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=Ws(this,e,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new t(r,i)),r=[],i=-1);return i>-1&&n.push(new t(r,i)),n}},Vs=class t extends X{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=r+s.lines-1;if((n?l:a)>=e)return s.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&n>=s){let u=i&((s<=e?1:0)|(l>=n?2:0));s>=e&&l<=n&&!u?r.push(a):a.decompose(e-s,n-s,r,u)}s=l+1}}replace(e,n,r){if([e,n]=Ws(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&n<=a){let l=s.replace(e-o,n-o,r),u=this.lines-s.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new t(c,this.length-(n-e)+r.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Ws(this,e,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.sliceString(e-s,n-s,r)),s=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof t))return 0;let r=0,[i,o,s,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==a)return r;let l=this.children[i],u=e.children[o];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of e)r+=p.lines;if(r<32){let p=[];for(let d of e)d.flatten(p);return new sn(p,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],l=0,u=-1,c=[];function f(p){let d;if(p.lines>o&&p instanceof t)for(let g of p.children)f(g);else p.lines>s&&(l>s||!l)?(h(),a.push(p)):p instanceof sn&&l&&(d=c[c.length-1])instanceof sn&&p.lines+d.lines<=32?(l+=p.lines,u+=p.length+1,c[c.length-1]=new sn(d.text.concat(p.text),d.length+1+p.length)):(l+p.lines>i&&h(),l+=p.lines,u+=p.length+1,c.push(p))}function h(){l!=0&&(a.push(c.length==1?c[0]:t.from(c,u)),u=-1,l=c.length=0)}for(let p of e)f(p);return h(),a.length==1?a[0]:new t(a,n)}};X.empty=new sn([""],0);function q8(t){let e=-1;for(let n of t)e+=n.length+1;return e}function ph(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function bC(t,e,n){return ph(t,[""],e,n)}var To=class{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof sn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof sn?i.text.length:i.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof sn){let l=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[s+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof sn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},mh=class{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new To(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},gh=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(X.prototype[Symbol.iterator]=function(){return this.iter()},To.prototype[Symbol.iterator]=mh.prototype[Symbol.iterator]=gh.prototype[Symbol.iterator]=function(){return this});var K0=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function Ws(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function je(t,e,n=!0,r=!0){return xC(t,e,n,r)}function V8(t){return t>=56320&&t<57344}function U8(t){return t>=55296&&t<56320}function ft(t,e){let n=t.charCodeAt(e);if(!U8(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return V8(r)?(n-55296<<10)+(r-56320)+65536:n}function su(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function an(t){return t<65536?1:2}var $0=/\r\n?|\n/,ct=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(ct||(ct={})),Kr=class t{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){Y0(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new t(e)}composeDesc(e){return this.empty?e:e.empty?this:_C(this,e)}mapDesc(e,n=!1){return e.empty?this:X0(this,e,n)}mapPos(e,n=-1,r=ct.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],u=i+a;if(l<0){if(u>e)return o+(e-i);o+=a}else{if(r!=ct.Simple&&u>=e&&(r==ct.TrackDel&&i<e&&u>e||r==ct.TrackBefore&&i<e||r==ct.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?o:o+l;o+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new t(e)}static create(e){return new t(e)}},Lt=class t extends Kr{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Y0(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return X0(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(X.empty);r.push(s?e.slice(o,o+s):X.empty)}o+=s}return new t(n,r)}compose(e){return this.empty?e:e.empty?this:_C(this,e,!0)}map(e,n=!1){return e.empty?this:X0(this,e,n,!0)}iterChanges(e,n=!1){Y0(this,e,n)}get desc(){return Kr.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new Ao(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let c=Math.min(o.len,l-a);wt(i,c,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;wt(n,c,f),f>0&&Li(r,n,o.text),o.forward(c),a+=c}let u=e[s++];for(;a<u;){if(o.done)break e;let c=Math.min(o.len,u-a);wt(n,c,-1),wt(i,c,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(c),a+=c}}return{changes:new t(n,r),filtered:Kr.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,a=null;function l(c=!1){if(!c&&!i.length)return;s<n&&wt(i,n-s,-1);let f=new t(i,o);a=a?a.compose(f.map(a)):f,i=[],o=[],s=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof t){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:f,to:h=f,insert:p}=c;if(f>h||f<0||h>n)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${n})`);let d=p?typeof p=="string"?X.of(p.split(r||$0)):p:X.empty,g=d.length;if(f==h&&g==0)return;f<s&&l(),f>s&&wt(i,f-s,-1),wt(i,h-f,g),Li(o,i,d),s=h}}return u(e),l(!a),a}static empty(e){return new t(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(X.empty);r[i]=X.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new t(n,r)}static createSet(e,n){return new t(e,n)}};function wt(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Li(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(X.empty);t.push(n)}}function Y0(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)i+=a,o+=a;else{let u=i,c=o,f=X.empty;for(;u+=a,c+=l,l&&r&&(f=f.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(i,u,o,c,f),i=u,o=c}}}function X0(t,e,n,r=!1){let i=[],o=r?[]:null,s=new Ao(t),a=new Ao(e);for(let l=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&a.ins==-1){let u=Math.min(s.len,a.len);wt(i,u,-1),s.forward(u),a.forward(u)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let u=a.len;for(wt(i,a.ins,-1);u;){let c=Math.min(s.len,u);s.ins>=0&&l<s.i&&s.len<=c&&(wt(i,0,s.ins),o&&Li(o,i,s.text),l=s.i),s.forward(c),u-=c}a.next()}else if(s.ins>=0){let u=0,c=s.len;for(;c;)if(a.ins==-1){let f=Math.min(c,a.len);u+=f,c-=f,a.forward(f)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;wt(i,u,l<s.i?s.ins:0),o&&l<s.i&&Li(o,i,s.text),l=s.i,s.forward(s.len-c)}else{if(s.done&&a.done)return o?Lt.createSet(i,o):Kr.create(i);throw new Error("Mismatched change set lengths")}}}function _C(t,e,n=!1){let r=[],i=n?[]:null,o=new Ao(t),s=new Ao(e);for(let a=!1;;){if(o.done&&s.done)return i?Lt.createSet(r,i):Kr.create(r);if(o.ins==0)wt(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)wt(r,0,s.ins,a),i&&Li(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),u=r.length;if(o.ins==-1){let c=s.ins==-1?-1:s.off?0:s.ins;wt(r,l,c,a),i&&c&&Li(i,r,s.text)}else s.ins==-1?(wt(r,o.off?0:o.len,l,a),i&&Li(i,r,o.textBit(l))):(wt(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&Li(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>u),o.forward2(l),s.forward(l)}}}}var Ao=class{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?X.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?X.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}},qs=class t{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new t(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return _.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return _.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return _.range(e.anchor,e.head)}static create(e,n,r){return new t(e,n,r)}},_=class t{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:t.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new t([this.main],0)}addRange(e,n=!0){return t.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,t.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map(n=>qs.fromJSON(n)),e.main)}static single(e,n=e){return new t([t.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return t.normalized(e.slice(),n);r=o.to}return new t(e,n)}static cursor(e,n=0,r,i){return qs.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?qs.create(n,e,48|o):qs.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?t.range(l,a):t.range(a,l))}}return new t(e,n)}};function OC(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}var sv=0,I=class t{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=sv++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new t(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:av),!!e.static,e.enables)}of(e){return new Us([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Us(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Us(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}};function av(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}var Us=class{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=sv++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||c.push(e[f.id]);return{create(f){return f.values[s]=r(f),1},update(f,h){if(l&&h.docChanged||u&&(h.docChanged||h.selection)||Z0(f,c)){let p=r(f);if(a?!CC(p,f.values[s],i):!i(p,f.values[s]))return f.values[s]=p,1}return 0},reconfigure:(f,h)=>{let p,d=h.config.address[o];if(d!=null){let g=Sh(h,d);if(this.dependencies.every(x=>x instanceof I?h.facet(x)===f.facet(x):x instanceof re?h.field(x,!1)==f.field(x,!1):!0)||(a?CC(p=r(f),g,i):i(p=r(f),g)))return f.values[s]=g,0}else p=r(f);return f.values[s]=p,1}}}};function CC(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Z0(t,e){let n=!1;for(let r of e)nu(t,r)&1&&(n=!0);return n}function z8(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),s=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<r.length;c++){let f=Sh(l,r[c]);if(i[c]==2)for(let h of f)u.push(h);else u.push(f)}return e.combine(u)}return{create(l){for(let u of r)nu(l,u);return l.values[s]=a(l),1},update(l,u){if(!Z0(l,o))return 0;let c=a(l);return e.compare(c,l.values[s])?0:(l.values[s]=c,1)},reconfigure(l,u){let c=Z0(l,r),f=u.config.facets[e.id],h=u.facet(e);if(f&&!c&&av(n,f))return l.values[s]=h,0;let p=a(l);return e.compare(p,h)?(l.values[s]=h,0):(l.values[s]=p,1)}}}var fh=I.define({static:!0}),re=class t{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new t(sv++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(fh).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>{let o=r.facet(fh),s=i.facet(fh),a;return(a=o.find(l=>l.field==this))&&a!=s.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,fh.of({field:this,create:e})]}get extension(){return this}},Co={lowest:4,low:3,default:2,high:1,highest:0};function tu(t){return e=>new vh(e,t)}var ln={highest:tu(Co.highest),high:tu(Co.high),default:tu(Co.default),low:tu(Co.low),lowest:tu(Co.lowest)},vh=class{constructor(e,n){this.inner=e,this.prec=n}},yh=class t{of(e){return new ru(this,e)}reconfigure(e){return t.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}},ru=class{constructor(e,n){this.compartment=e,this.inner=n}},xh=class t{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let h of W8(e,n,s))h instanceof re?i.push(h):(o[h.facet.id]||(o[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],u=[];for(let h of i)a[h.id]=u.length<<1,u.push(p=>h.slot(p));let c=r?.config.facets;for(let h in o){let p=o[h],d=p[0].facet,g=c&&c[h]||[];if(p.every(x=>x.type==0))if(a[d.id]=l.length<<1|1,av(g,p))l.push(r.facet(d));else{let x=d.combine(p.map(m=>m.value));l.push(r&&d.compare(x,r.facet(d))?r.facet(d):x)}else{for(let x of p)x.type==0?(a[x.id]=l.length<<1|1,l.push(x.value)):(a[x.id]=u.length<<1,u.push(m=>x.dynamicSlot(m)));a[d.id]=u.length<<1,u.push(x=>z8(x,d,p))}}let f=u.map(h=>h(a));return new t(e,s,f,a,l,o)}};function W8(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let u=r[l].indexOf(s);u>-1&&r[l].splice(u,1),s instanceof ru&&n.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let u of s)o(u,a);else if(s instanceof ru){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(s.compartment)||s.inner;n.set(s.compartment,u),o(u,a)}else if(s instanceof vh)o(s.inner,s.prec);else if(s instanceof re)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof Us)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,Co.default);else{let u=s.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,a)}}return o(t,Co.default),r.reduce((s,a)=>s.concat(a))}function nu(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Sh(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}var RC=I.define(),Q0=I.define({combine:t=>t.some(e=>e),static:!0}),MC=I.define({combine:t=>t.length?t[0]:void 0,static:!0}),PC=I.define(),LC=I.define(),NC=I.define(),IC=I.define({combine:t=>t.length?t[0]:!1}),nt=class{constructor(e,n){this.type=e,this.value=n}static define(){return new J0}},J0=class{of(e){return new nt(this,e)}},ev=class{constructor(e){this.map=e}of(e){return new U(this,e)}},U=class t{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new t(this.type,n)}is(e){return this.type==e}static define(e={}){return new ev(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}};U.reconfigure=U.define();U.appendConfig=U.define();var Qe=class t{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&OC(r,n.newLength),o.some(a=>a.type==t.time)||(this.annotations=o.concat(t.time.of(Date.now())))}static create(e,n,r,i,o,s){return new t(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(t.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}};Qe.time=nt.define();Qe.userEvent=nt.define();Qe.addToHistory=nt.define();Qe.remote=nt.define();function j8(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function DC(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=Lt.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:U.mapEffects(t.effects,i).concat(U.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function tv(t,e,n){let r=e.selection,i=zs(e.annotations);return e.userEvent&&(i=i.concat(Qe.userEvent.of(e.userEvent))),{changes:e.changes instanceof Lt?e.changes:Lt.of(e.changes||[],n,t.facet(MC)),selection:r&&(r instanceof _?r:_.single(r.anchor,r.head)),effects:zs(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function FC(t,e,n){let r=tv(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=DC(r,tv(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=Qe.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return G8(n?H8(i):i)}function H8(t){let e=t.startState,n=!0;for(let i of e.facet(PC)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:j8(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Lt.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=Qe.create(e,i,t.selection&&t.selection.map(o),U.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(LC);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Qe?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Qe?t=o[0]:t=FC(e,zs(o),!1)}return t}function G8(t){let e=t.startState,n=e.facet(NC),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=DC(r,tv(e,o,t.changes.newLength),!0))}return r==t?t:Qe.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}var K8=[];function zs(t){return t==null?K8:Array.isArray(t)?t:[t]}var fe=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(fe||(fe={})),$8=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,nv;try{nv=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Y8(t){if(nv)return nv.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||$8.test(n)))return!0}return!1}function X8(t){return e=>{if(!/\S/.test(e))return fe.Space;if(Y8(e))return fe.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return fe.Word;return fe.Other}}var ie=class t{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)nu(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return nu(this,r),Sh(this,r)}update(...e){return FC(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(yh.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(U.reconfigure)?(n=null,r=a.value):a.is(U.appendConfig)&&(n=null,r=zs(r).concat(a.value));let o;n?o=e.startState.values.slice():(n=xh.resolve(r,i,this),o=new t(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let s=e.startState.facet(Q0)?e.newSelection:e.newSelection.asSingle();new t(n,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:_.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=zs(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),c=u.map(i);for(let h=0;h<a;h++)o[h]=o[h].map(c);let f=i.mapDesc(u,!0);o.push(l.range.map(f)),i=i.compose(c),s=U.mapEffects(s,c).concat(U.mapEffects(zs(l.effects),f))}return{changes:i,selection:_.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof Lt?e:Lt.of(e,this.doc.length,this.facet(t.lineSeparator))}toText(e){return X.of(e.split(this.facet(t.lineSeparator)||$0))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(nu(this,n),Sh(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof re&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return t.create({doc:e.doc,selection:_.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=xh.resolve(e.extensions||[],new Map),r=e.doc instanceof X?e.doc:X.of((e.doc||"").split(n.staticFacet(t.lineSeparator)||$0)),i=e.selection?e.selection instanceof _?e.selection:_.single(e.selection.anchor,e.selection.head):_.single(0);return OC(i,r.length),n.staticFacet(Q0)||(i=i.asSingle()),new t(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(t.tabSize)}get lineBreak(){return this.facet(t.lineSeparator)||`
`}get readOnly(){return this.facet(IC)}phrase(e,...n){for(let r of this.facet(t.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(RC))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return X8(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let l=je(n,s,!1);if(o(n.slice(l,s))!=fe.Word)break;s=l}for(;a<i;){let l=je(n,a);if(o(n.slice(a,l))!=fe.Word)break;a=l}return s==a?null:_.range(s+r,a+r)}};ie.allowMultipleSelections=Q0;ie.tabSize=I.define({combine:t=>t.length?t[0]:4});ie.lineSeparator=MC;ie.readOnly=IC;ie.phrases=I.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});ie.languageData=RC;ie.changeFilter=PC;ie.transactionFilter=LC;ie.transactionExtender=NC;yh.reconfigure=U.define();function bt(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}var Wn=class{eq(e){return this==e}range(e,n=e){return iu.create(e,n,this)}};Wn.prototype.startSide=Wn.prototype.endSide=0;Wn.prototype.point=!1;Wn.prototype.mapMode=ct.TrackDel;var iu=class t{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new t(e,n,r)}};function rv(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var iv=class t{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,u=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==s)return u>=0?s:a;u>=0?a=l:s=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,h,p;if(c==f){let d=n.mapPos(c,u.startSide,u.mapMode);if(d==null||(h=p=d,u.startSide!=u.endSide&&(p=n.mapPos(c,u.endSide),p<h)))continue}else if(h=n.mapPos(c,u.startSide),p=n.mapPos(f,u.endSide),h>p||h==p&&u.startSide>0&&u.endSide<=0)continue;(p-h||u.endSide-u.startSide)<0||(s<0&&(s=h),u.point&&(a=Math.max(a,p-h)),r.push(u),i.push(h-s),o.push(p-s))}return{mapped:r.length?new t(i,o,r,a):null,pos:s}}},oe=class t{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new t(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(rv)),this.isEmpty)return n.length?t.of(n):this;let a=new kh(this,null,-1).goto(0),l=0,u=[],c=new Be;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(iu.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?t.empty:this.nextLayer.update({add:u,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:f}=l.map(a,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new t(r,n,o||t.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return ou.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return ou.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=EC(s,a,r),u=new Eo(s,l,o),c=new Eo(a,l,o);r.iterGaps((f,h,p)=>TC(u,f,c,h,p,i)),r.empty&&r.length==0&&TC(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),s=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=EC(o,s),l=new Eo(o,a,0).goto(r),u=new Eo(s,a,0).goto(r);for(;;){if(l.to!=u.to||!ov(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,o=-1){let s=new Eo(e,null,o).goto(n),a=n,l=s.openStart;for(;;){let u=Math.min(s.to,r);if(s.point){let c=s.activeForPoint(s.to),f=s.pointFrom<n?c.length+1:s.point.startSide<0?c.length:Math.min(c.length,l);i.point(a,u,s.point,c,f,s.pointRank),l=Math.min(s.openEnd(u),c.length)}else u>a&&(i.span(a,u,s.active,l),l=s.openEnd(u));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,n=!1){let r=new Be;for(let i of e instanceof iu?[e]:n?Z8(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return t.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=t.empty;i=i.nextLayer)n=new t(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}};oe.empty=new oe([],[],null,-1);function Z8(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(rv(e,r)>0)return t.slice().sort(rv);e=r}return t}oe.empty.nextLayer=oe.empty;var Be=class t{finishChunk(e){this.chunks.push(new iv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new t)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(oe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=oe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}};function EC(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(n?n.mapPos(a):a)==o.chunkPos[s]&&!n?.touchesRange(a,a+o.chunk[s].length)&&i.add(o.chunk[s])}return i}var kh=class{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},ou=class t{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new kh(s,n,r,o));return i.length==1?i[0]:new t(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)G0(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)G0(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),G0(this.heap,0)}}};function G0(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}var Eo=class{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ou.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){hh(this.active,e),hh(this.activeTo,e),hh(this.activeRank,e),this.minActive=AC(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;dh(this.active,n,r),dh(this.activeTo,n,i),dh(this.activeRank,n,o),e&&dh(e,n,this.cursor.from),this.minActive=AC(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&hh(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}};function TC(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,l=r-e;for(;;){let u=t.to+l-n.to,c=u||t.endSide-n.endSide,f=c<0?t.to+l:n.to,h=Math.min(f,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&ov(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(a,h,t.point,n.point):h>a&&!ov(t.active,n.active)&&o.compareRange(a,h,t.active,n.active),f>s)break;(u||t.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(f),a=f,c<=0&&t.next(),c>=0&&n.next()}}function ov(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function hh(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function dh(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function AC(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function $r(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=je(t,i));return r}function wh(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=je(t,i)}return r===!0?-1:t.length}var lv="\u037C",BC=typeof Symbol>"u"?"__"+lv:Symbol.for(lv),uv=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),qC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},Cn=class{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,u){let c=[],f=/^@(\w+)\b/.exec(s[0]),h=f&&f[1]=="keyframes";if(f&&a==null)return l.push(s[0]+";");for(let p in a){let d=a[p];if(/&/.test(p))o(p.split(/,\s*/).map(g=>s.map(x=>g.replace(/&/,x))).reduce((g,x)=>g.concat(x)),d,l);else if(d&&typeof d=="object"){if(!f)throw new RangeError("The value of a property ("+p+") should be a primitive value.");o(i(p),d,c,h)}else d!=null&&c.push(p.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+d+";")}(c.length||h)&&l.push((r&&!f&&!u?s.map(r):s).join(", ")+" {"+c.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=qC[BC]||1;return qC[BC]=e+1,lv+e.toString(36)}static mount(e,n,r){let i=e[uv],o=r&&r.nonce;i?o&&i.setNonce(o):i=new cv(e,o),i.mount(Array.isArray(n)?n:[n],e)}},VC=new Map,cv=class{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=VC.get(r);if(o)return e[uv]=o;this.sheet=new i.CSSStyleSheet,VC.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[uv]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}};var Yr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},js={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Q8=typeof navigator<"u"&&/Mac/.test(navigator.platform),J8=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(He=0;He<10;He++)Yr[48+He]=Yr[96+He]=String(He);var He;for(He=1;He<=24;He++)Yr[He+111]="F"+He;var He;for(He=65;He<=90;He++)Yr[He]=String.fromCharCode(He+32),js[He]=String.fromCharCode(He);var He;for(bh in Yr)js.hasOwnProperty(bh)||(js[bh]=Yr[bh]);var bh;function UC(t){var e=Q8&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||J8&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?js:Yr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function ae(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)zC(t,arguments[e]);return t}function zC(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)zC(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}var Nt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},yv=typeof document<"u"?document:{documentElement:{style:{}}},xv=/Edge\/(\d+)/.exec(Nt.userAgent),ME=/MSIE \d/.test(Nt.userAgent),Sv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nt.userAgent),td=!!(ME||Sv||xv),WC=!td&&/gecko\/(\d+)/i.test(Nt.userAgent),fv=!td&&/Chrome\/(\d+)/.exec(Nt.userAgent),jC="webkitFontSmoothing"in yv.documentElement.style,kv=!td&&/Apple Computer/.test(Nt.vendor),HC=kv&&(/Mobile\/\w+/.test(Nt.userAgent)||Nt.maxTouchPoints>2),D={mac:HC||/Mac/.test(Nt.platform),windows:/Win/.test(Nt.platform),linux:/Linux|X11/.test(Nt.platform),ie:td,ie_version:ME?yv.documentMode||6:Sv?+Sv[1]:xv?+xv[1]:0,gecko:WC,gecko_version:WC?+(/Firefox\/(\d+)/.exec(Nt.userAgent)||[0,0])[1]:0,chrome:!!fv,chrome_version:fv?+fv[1]:0,ios:HC,android:/Android\b/.test(Nt.userAgent),webkit:jC,webkit_version:jC?+(/\bAppleWebKit\/(\d+)/.exec(Nt.userAgent)||[0,0])[1]:0,safari:kv,safari_version:kv?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Nt.userAgent)||[0,0])[1]:0,tabSize:yv.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function xu(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function wv(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Nh(t,e){if(!e.anchorNode)return!1;try{return wv(t,e.anchorNode)}catch{return!1}}function Xs(t){return t.nodeType==3?Mo(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function fu(t,e,n,r){return n?GC(t,e,n,r,-1)||GC(t,e,n,r,1):!1}function Ro(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Vh(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function GC(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:pr(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=Ro(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?pr(t):0}else return!1}}function pr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Au(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function eB(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function PE(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function tB(t,e,n,r,i,o,s,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,f=!1;c&&!f;)if(c.nodeType==1){let h,p=c==l.body,d=1,g=1;if(p)h=eB(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(f=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let v=c.getBoundingClientRect();({scaleX:d,scaleY:g}=PE(c,v)),h={left:v.left,right:v.left+c.clientWidth*d,top:v.top,bottom:v.top+c.clientHeight*g}}let x=0,m=0;if(i=="nearest")e.top<h.top?(m=e.top-(h.top+s),n>0&&e.bottom>h.bottom+m&&(m=e.bottom-h.bottom+s)):e.bottom>h.bottom&&(m=e.bottom-h.bottom+s,n<0&&e.top-m<h.top&&(m=e.top-(h.top+s)));else{let v=e.bottom-e.top,y=h.bottom-h.top;m=(i=="center"&&v<=y?e.top+v/2-y/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-y+s)-h.top}if(r=="nearest"?e.left<h.left?(x=e.left-(h.left+o),n>0&&e.right>h.right+x&&(x=e.right-h.right+o)):e.right>h.right&&(x=e.right-h.right+o,n<0&&e.left<h.left+x&&(x=e.left-(h.left+o))):x=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==a?e.left-o:e.right-(h.right-h.left)+o)-h.left,x||m)if(p)u.scrollBy(x,m);else{let v=0,y=0;if(m){let k=c.scrollTop;c.scrollTop+=m/g,y=(c.scrollTop-k)*g}if(x){let k=c.scrollLeft;c.scrollLeft+=x/d,v=(c.scrollLeft-k)*d}e={left:e.left-v,top:e.top-y,right:e.right-v,bottom:e.bottom-y},v&&Math.abs(v-x)<1&&(r="nearest"),y&&Math.abs(y-m)<1&&(i="nearest")}if(p)break;(e.top<h.top||e.bottom>h.bottom||e.left<h.left||e.right>h.right)&&(e={left:Math.max(e.left,h.left),right:Math.min(e.right,h.right),top:Math.max(e.top,h.top),bottom:Math.min(e.bottom,h.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function nB(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}var bv=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?pr(n):0),r,Math.min(e.focusOffset,r?pr(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}},_o=null;D.safari&&D.safari_version>=26&&(_o=!1);function LE(t){if(t.setActive)return t.setActive();if(_o)return t.focus(_o);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(_o==null?{get preventScroll(){return _o={preventScroll:!0},!0}}:void 0),!_o){_o=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}var KC;function Mo(t,e,n=e){let r=KC||(KC=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Ys(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function rB(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function NE(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function iB(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,pr(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=pr(n))}else{if(n==t)return!0;r=Ro(n),n=n.parentNode}}function IE(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function DE(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=pr(n)}else if(n.parentNode&&!Vh(n))r=Ro(n),n=n.parentNode;else return null}}function FE(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Vh(n))r=Ro(n)+1,n=n.parentNode;else return null}}var It=class t{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new t(e.parentNode,Ro(e),n)}static after(e,n){return new t(e.parentNode,Ro(e)+1,n)}},ay=[],ge=class t{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=t.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=$C(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=$C(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=pr(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!t.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let f=this.children[l],h=u+f.length;if(u<e&&h>n)return f.domBoundsAround(e,n,u);if(h>=e&&i==-1&&(i=l,o=u),u>n&&f.dom.parentNode==this.dom){s=l,a=c;break}c=h,u=h+f.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=ay){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Uh(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}};ge.prototype.breakAfter=0;function $C(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}var Uh=class{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}};function BE(t,e,n,r,i,o,s,a,l){let{children:u}=t,c=u.length?u[e]:null,f=o.length?o[o.length-1]:null,h=f?f.breakAfter:s;if(!(e==r&&c&&!s&&!h&&o.length<2&&c.merge(n,i,o.length?f:null,n==0,a,l))){if(r<u.length){let p=u[r];p&&(i<p.length||p.breakAfter&&f?.breakAfter)?(e==r&&(p=p.split(i),i=0),!h&&f&&p.merge(0,i,f,!0,0,l)?o[o.length-1]=p:((i||p.children.length&&!p.children[0].length)&&p.merge(0,i,null,!1,0,l),o.push(p))):p?.breakAfter&&(f?f.breakAfter=1:s=1),r++}for(c&&(c.breakAfter=s,n>0&&(!s&&o.length&&c.merge(n,c.length,o[0],!1,a,0)?c.breakAfter=o.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else if(u[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function qE(t,e,n,r,i,o){let s=t.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:u,off:c}=s.findPos(e,-1),f=e-n;for(let h of r)f+=h.length;t.length+=f,BE(t,u,c,a,l,r,0,i,o)}var oB=256,mr=class t extends ge{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof t)||this.length-(n-e)+r.length>oB||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new t(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new It(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return sB(this.dom,e,n)}},Di=class t extends ge{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(NE(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof t&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(qE(this,e,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=l,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new t(this.mark,n,s)}domAtPos(e){return VE(this,e)}coordsAt(e,n){return zE(this,e,n)}};function sB(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?D.chrome||D.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=Mo(t,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];return D.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),s?Au(l,s<0):l||null}var Zs=class t extends ge{static create(e,n,r){return new t(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=t.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof t)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof t&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return X.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):X.empty}domAtPos(e){return(this.length?e==0:this.side>0)?It.before(this.dom):It.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return Au(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},Su=class t extends ge{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof t&&e.side==this.side}split(){return new t(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?It.before(this.dom):It.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return X.empty}get isHidden(){return!0}};mr.prototype.children=Zs.prototype.children=Su.prototype.children=ay;function VE(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new It(n,0)}function UE(t,e,n){let r,{children:i}=t;n>0&&e instanceof Di&&i.length&&(r=i[i.length-1])instanceof Di&&r.mark.eq(e.mark)?UE(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function zE(t,e,n){let r=null,i=-1,o=null,s=-1;function a(u,c){for(let f=0,h=0;f<u.children.length&&h<=c;f++){let p=u.children[f],d=h+p.length;d>=c&&(p.children.length?a(p,c-h):(!o||o.isHidden&&(n>0||lB(o,p)))&&(d>c||h==d&&p.getSide()>0)?(o=p,s=c-h):(h<c||h==d&&p.getSide()<0&&!p.isHidden)&&(r=p,i=c-h)),h=d}}a(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),n):aB(t)}function aB(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Xs(e);return n[n.length-1]||null}function lB(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function Cv(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}var YC=Object.create(null);function zh(t,e,n){if(t==e)return!0;t||(t=YC),e||(e=YC);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function Ev(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function uB(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}var Ue=class{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}},Dt=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Dt||(Dt={})),P=class extends Wn{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new ku(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Fi(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=WE(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Fi(e,r,i,n,e.widget||null,!0)}static line(e){return new wu(e)}static set(e,n=!1){return oe.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};P.none=oe.empty;var ku=class t extends P{constructor(e){let{start:n,end:r}=WE(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof t&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&zh(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}};ku.prototype.point=!1;var wu=class t extends P{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof t&&this.spec.class==e.spec.class&&zh(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}};wu.prototype.mapMode=ct.TrackBefore;wu.prototype.point=!0;var Fi=class t extends P{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?ct.TrackBefore:ct.TrackAfter:ct.TrackDel}get type(){return this.startSide!=this.endSide?Dt.WidgetRange:this.startSide<=0?Dt.WidgetBefore:Dt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof t&&cB(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}};Fi.prototype.point=!0;function WE(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function cB(t,e){return t==e||!!(t&&e&&t.compare(e))}function Ih(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}var ht=class t extends ge{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof t))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),qE(this,e,n,r?r.children.slice():[],o,s),!0}split(e){let n=new t;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){zh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){UE(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=Cv(n,this.attrs||{})),r&&(this.attrs=Cv({class:r},this.attrs||{}))}domAtPos(e){return VE(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(NE(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Ev(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&ge.get(i)instanceof Di;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=ge.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!D.ios||!this.children.some(o=>o instanceof mr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof mr)||/[^ -~]/.test(r.text))return null;let i=Xs(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=zE(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof t&&this.children.length==0&&e.children.length==0&&zh(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof t)return o;if(s>n)break}i=s+o.breakAfter}return null}},Oo=class t extends ge{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof t)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?It.before(this.dom):It.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new t(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return ay}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):X.empty}domBoundsAround(){return null}become(e){return e instanceof t&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof bu?null:Au(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}},bu=class extends Ue{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}},hu=class t{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Oo&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ht),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ch(new Su(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Oo)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),o=Math.min(i,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Ch(new mr(this.text.slice(this.textOff,this.textOff+o)),n),r),this.atCursorPos=!0,this.textOff+=o,e-=o,r=i<=o?0:n.length}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Fi){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Fi)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Oo(r.widget||Bi.block,a,r));else{let l=Zs.create(r.widget||Bi.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(f.append(Ch(new Su(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(Ch(l,i),o),this.atCursorPos=c,this.pendingBuffer=c?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new t(e,n,r,o);return s.openEnd=oe.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function Ch(t,e){for(let n of e)t=new Di(n,[t],t.length);return t}var Bi=class extends Ue{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};Bi.inline=new Bi("span");Bi.block=new Bi("div");var he=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(he||(he={})),Po=he.LTR,ly=he.RTL;function jE(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}var fB=jE("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),hB=jE("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Tv=Object.create(null),cr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Tv[e]=n,Tv[n]=-e}function HE(t){return t<=247?fB[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?hB[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}var dB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,hr=class{get dir(){return this.level%2?ly:Po}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<n:a.to>n:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};function GE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!GE(r.inner,i.inner))return!1}return!0}var me=[];function pB(t,e,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:n,l=o?256:i;for(let u=s,c=l,f=l;u<a;u++){let h=HE(t.charCodeAt(u));h==512?h=c:h==8&&f==4&&(h=16),me[u]=h==4?2:h,h&7&&(f=h),c=h}for(let u=s,c=l,f=l;u<a;u++){let h=me[u];if(h==128)u<a-1&&c==me[u+1]&&c&24?h=me[u]=c:me[u]=256;else if(h==64){let p=u+1;for(;p<a&&me[p]==64;)p++;let d=u&&c==8||p<n&&me[p]==8?f==1?1:8:256;for(let g=u;g<p;g++)me[g]=d;u=p-1}else h==8&&f==1&&(me[u]=1);c=h,h&7&&(f=h)}}}function mB(t,e,n,r,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let u=s?r[s-1].to:e,c=s<r.length?r[s].from:n;for(let f=u,h,p,d;f<c;f++)if(p=Tv[h=t.charCodeAt(f)])if(p<0){for(let g=a-3;g>=0;g-=3)if(cr[g+1]==-p){let x=cr[g+2],m=x&2?i:x&4?x&1?o:i:0;m&&(me[f]=me[cr[g]]=m),a=g;break}}else{if(cr.length==189)break;cr[a++]=f,cr[a++]=h,cr[a++]=l}else if((d=me[f])==2||d==1){let g=d==i;l=g?0:1;for(let x=a-3;x>=0;x-=3){let m=cr[x+2];if(m&2)break;if(g)cr[x+2]|=2;else{if(m&4)break;cr[x+2]|=4}}}}}function gB(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=s;l<a;){let u=me[l];if(u==256){let c=l+1;for(;;)if(c==a){if(i==n.length)break;c=n[i++].to,a=i<n.length?n[i].from:e}else if(me[c]==256)c++;else break;let f=o==1,h=(c<e?me[c]:r)==1,p=f==h?f?1:2:r;for(let d=c,g=i,x=g?n[g-1].to:t;d>l;)d==x&&(d=n[--g].from,x=g?n[g-1].to:t),me[--d]=p;l=c}else o=u,l++}}}function Av(t,e,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let c=!0,f=!1;if(u==o.length||l<o[u].from){let g=me[l];g!=a&&(c=!1,f=g==16)}let h=!c&&a==1?[]:null,p=c?r:r+1,d=l;e:for(;;)if(u<o.length&&d==o[u].from){if(f)break e;let g=o[u];if(!c)for(let x=g.to,m=u+1;;){if(x==n)break e;if(m<o.length&&o[m].from==x)x=o[m++].to;else{if(me[x]==a)break e;break}}if(u++,h)h.push(g);else{g.from>l&&s.push(new hr(l,g.from,p));let x=g.direction==Po!=!(p%2);_v(t,x?r+1:r,i,g.inner,g.from,g.to,s),l=g.to}d=g.to}else{if(d==n||(c?me[d]!=a:me[d]==a))break;d++}h?Av(t,l,d,r+1,i,h,s):l<d&&s.push(new hr(l,d,p)),l=d}else for(let l=n,u=o.length;l>e;){let c=!0,f=!1;if(!u||l>o[u-1].to){let g=me[l-1];g!=a&&(c=!1,f=g==16)}let h=!c&&a==1?[]:null,p=c?r:r+1,d=l;e:for(;;)if(u&&d==o[u-1].to){if(f)break e;let g=o[--u];if(!c)for(let x=g.from,m=u;;){if(x==e)break e;if(m&&o[m-1].to==x)x=o[--m].from;else{if(me[x-1]==a)break e;break}}if(h)h.push(g);else{g.to<l&&s.push(new hr(g.to,l,p));let x=g.direction==Po!=!(p%2);_v(t,x?r+1:r,i,g.inner,g.from,g.to,s),l=g.from}d=g.from}else{if(d==e||(c?me[d-1]!=a:me[d-1]==a))break;d--}h?Av(t,d,l,r+1,i,h,s):d<l&&s.push(new hr(d,l,p)),l=d}}function _v(t,e,n,r,i,o,s){let a=e%2?2:1;pB(t,i,o,r,a),mB(t,i,o,r,a),gB(i,o,r,a),Av(t,i,o,e,n,r,s)}function vB(t,e,n){if(!t)return[new hr(0,0,e==ly?1:0)];if(e==Po&&!n.length&&!dB.test(t))return KE(t.length);if(n.length)for(;t.length>me.length;)me[me.length]=256;let r=[],i=e==Po?0:1;return _v(t,i,i,n,0,t.length,r),r}function KE(t){return[new hr(0,t,0)]}var $E="";function yB(t,e,n,r,i){var o;let s=r.head-t.from,a=hr.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[a],u=l.side(i,n);if(s==u){let h=a+=i?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],s=l.side(!i,n),u=l.side(i,n)}let c=je(t.text,s,l.forward(i,n));(c<l.from||c>l.to)&&(c=u),$E=t.text.slice(Math.min(s,c),Math.max(s,c));let f=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return f&&c==u&&f.level+(i?0:1)<l.level?_.cursor(f.side(!i,n)+t.from,f.forward(i,n)?1:-1,f.level):_.cursor(c+t.from,l.forward(i,n)?-1:1,l.level)}function xB(t,e,n){for(let r=e;r<n;r++){let i=HE(t.charCodeAt(r));if(i==1)return Po;if(i==2||i==4)return ly}return Po}var YE=I.define(),XE=I.define(),ZE=I.define(),QE=I.define(),Ov=I.define(),JE=I.define(),eT=I.define(),uy=I.define(),cy=I.define(),tT=I.define({combine:t=>t.some(e=>e)}),nT=I.define({combine:t=>t.some(e=>e)}),rT=I.define(),du=class t{constructor(e,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new t(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new t(_.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},Eh=U.define({map:(t,e)=>t.map(e)}),iT=U.define();function dt(t,e,n){let r=t.facet(QE);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}var Xr=I.define({combine:t=>t.length?t[0]:!0}),SB=0,Hs=I.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}}),Z=class t{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(Hs.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Hs.of({plugin:this,arg:e}))}static define(e,n){let{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new t(SB++,e,r,i,a=>{let l=[];return s&&l.push(Cu.of(u=>{let c=u.plugin(a);return c?s(c):P.none})),o&&l.push(o(a)),l})}static fromClass(e,n){return t.define((r,i)=>new e(r,i),n)}},pu=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(dt(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){dt(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){dt(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}},oT=I.define(),fy=I.define(),Cu=I.define(),sT=I.define(),_u=I.define(),aT=I.define();function XC(t,e){let n=t.state.facet(aT);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return oe.spans(r,e.from,e.to,{point(){},span(o,s,a,l){let u=o-e.from,c=s-e.from,f=i;for(let h=a.length-1;h>=0;h--,l--){let p=a[h].spec.bidiIsolate,d;if(p==null&&(p=xB(e.text,u,c)),l>0&&f.length&&(d=f[f.length-1]).to==u&&d.direction==p)d.to=c,f=d.inner;else{let g={from:u,to:c,direction:p,inner:[]};f.push(g),f=g.inner}}}}),i}var lT=I.define();function hy(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(lT)){let s=o(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}var au=I.define(),dr=class t{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new t(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==e.length?null:e[i],u=s-a,c=l?l.fromB:1e9;for(;o<n.length&&n[o]<c;){let f=n[o],h=n[o+1],p=Math.max(a,f),d=Math.min(c,h);if(p<=d&&new t(p+u,d+u,p,d).addToSet(r),h>c)break;o+=2}if(!l)return r;new t(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}},Wh=class t{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Lt.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new dr(o,s,a,l))),this.changedRanges=i}static create(e,n,r){return new t(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},jh=class extends ge{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=P.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ht],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new dr(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!AB(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?wB(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new dr(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(D.ie||D.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=EB(s,a,e.changes);return r=dr.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=D.chrome||D.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Oo&&s.widget instanceof bu&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:f}=a,h,p,d,g;if(r&&r.range.fromB<f&&r.range.toB>c){let k=hu.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),b=hu.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);p=k.breakAtStart,d=k.openStart,g=b.openEnd;let w=this.compositionView(r);b.breakAtStart?w.breakAfter=1:b.content.length&&w.merge(w.length,w.length,b.content[0],!1,b.openStart,0)&&(w.breakAfter=b.content[0].breakAfter,b.content.shift()),k.content.length&&w.merge(0,0,k.content[k.content.length-1],!0,0,k.openEnd)&&k.content.pop(),h=k.content.concat(w).concat(b.content)}else({content:h,breakAtStart:p,openStart:d,openEnd:g}=hu.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap));let{i:x,off:m}=o.findPos(u,1),{i:v,off:y}=o.findPos(l,-1);BE(this,v,y,x,m,h,p,d,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(iT)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new mr(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Di(i,[n],n.length);let r=new ht;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=ge.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(Xr)||this.dom.tabIndex>-1)&&Nh(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(D.gecko&&a.empty&&!this.hasComposition&&kB(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new It(f,0),s=!0}let c=this.view.observer.selectionRange;(s||!c.focusNode||(!fu(l.node,l.offset,c.anchorNode,c.anchorOffset)||!fu(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{D.android&&D.chrome&&this.dom.contains(c.focusNode)&&TB(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=xu(this.view.root);if(f)if(a.empty){if(D.gecko){let h=bB(l.node,l.offset);if(h&&h!=3){let p=(h==1?DE:FE)(l.node,l.offset);p&&(l=new It(p.node,p.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let h=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),h.setEnd(u.node,u.offset),h.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(h)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new It(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new It(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&fu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=xu(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=ht.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=ge.get(n.childNodes[i]);o instanceof ht&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=ge.get(n.childNodes[i]);o instanceof ht&&(r=o.domAtPos(o.length))}return r?new It(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=ge.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof ht)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof ht&&!(r instanceof ht&&n>=0)))r=a,i=u;else if(r&&u==e&&l==e&&a instanceof Oo&&Math.abs(n)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof ht))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof mr))return null;let o=je(i.text,r);if(o==r)return null;let s=Mo(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==he.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],h=u+f.length;if(h>i)break;if(u>=r){let p=f.dom.getBoundingClientRect();if(n.push(p.height),s){let d=f.dom.lastChild,g=d?Xs(d):[];if(g.length){let x=g[g.length-1],m=l?x.right-p.left:p.right-x.left;m>a&&(a=m,this.minWidth=o,this.minWidthFrom=u,this.minWidthTo=h)}}}u=h+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?he.RTL:he.LTR}measureTextSize(){for(let o of this.children)if(o instanceof ht){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Xs(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new Uh(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(P.replace({widget:new bu(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return P.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Cu).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(sT).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(oe.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(rT))try{if(u(this.view,e.range,e))return!0}catch(c){dt(this.view.state,c,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=hy(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;tB(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==he.LTR)}lineHasWidget(e){let{i:n}=this.childCursor().findPos(e);if(n==this.children.length)return!1;let r=i=>i instanceof Zs||i.children.some(r);return r(this.children[n])}};function kB(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function uT(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=DE(n.focusNode,n.focusOffset),i=FE(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=ge.get(i.node);if(!a||a instanceof mr&&a.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let l=ge.get(r.node);!l||l instanceof mr&&l.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function wB(t,e,n){let r=uT(t,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new dr(l.mapPos(o),l.mapPos(s),o,s),c=[];for(let f=i.parentNode;;f=f.parentNode){let h=ge.get(f);if(h instanceof Di)c.push({node:f,deco:h.mark});else{if(h instanceof ht||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:f};if(f!=t.contentDOM)c.push({node:f,deco:new ku({inclusive:!0,attributes:uB(f),tagName:f.tagName.toLowerCase()})});else return null}}}function bB(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}var CB=class{constructor(){this.changes=[]}compareRange(e,n){Ih(e,n,this.changes)}comparePoint(e,n){Ih(e,n,this.changes)}boundChange(e){Ih(e,e,this.changes)}};function EB(t,e,n){let r=new CB;return oe.compare(t,e,n,r),r.changes}function TB(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function AB(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function _B(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return _.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=je(i.text,o,!1):a=je(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let u=je(i.text,s,!1);if(r(i.text.slice(u,s))!=l)break;s=u}for(;a<i.length;){let u=je(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return _.range(s+i.from,a+i.from)}function OB(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function RB(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function hv(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function ZC(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function QC(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Rv(t,e,n){let r,i,o,s,a=!1,l,u,c,f;for(let d=t.firstChild;d;d=d.nextSibling){let g=Xs(d);for(let x=0;x<g.length;x++){let m=g[x];i&&hv(i,m)&&(m=ZC(QC(m,i.bottom),i.top));let v=OB(e,m),y=RB(n,m);if(v==0&&y==0)return d.nodeType==3?JC(d,e,n):Rv(d,e,n);(!r||s>y||s==y&&o>v)&&(r=d,i=m,o=v,s=y,a=v?e<m.left?x>0:x<g.length-1:!0),v==0?n>m.bottom&&(!c||c.bottom<m.bottom)?(l=d,c=m):n<m.top&&(!f||f.top>m.top)&&(u=d,f=m):c&&hv(c,m)?c=QC(c,m.bottom):f&&hv(f,m)&&(f=ZC(f,m.top))}}if(c&&c.bottom>=n?(r=l,i=c):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return JC(r,h,n);if(a&&r.contentEditable!="false")return Rv(r,h,n);let p=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:p}}function JC(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let l=Mo(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;s||(s=e-c.left);let f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<o){let h=e>=(c.left+c.right)/2,p=h;if(D.chrome||D.gecko){let d=Mo(t,a).getBoundingClientRect();Math.abs(d.left-c.right)<.1&&(p=!h)}if(f<=0)return{node:t,offset:a+(p?1:0)};i=a+(p?1:0),o=f}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function cT(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,h=f-a;if(h<0)return 0;if(h>u)return t.state.doc.length;for(let k=t.viewState.heightOracle.textHeight/2,b=!1;l=t.elementAtHeight(h),l.type!=Dt.Text;)for(;h=r>0?l.bottom+k:l.top-k,!(h>=0&&h<=u);){if(b)return n?null:0;b=!0,r=-r}f=a+h;let p=l.from;if(p<t.viewport.from)return t.viewport.from==0?0:n?null:eE(t,s,l,c,f);if(p>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:eE(t,s,l,c,f);let d=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:d,x=g.elementFromPoint(c,f);x&&!t.contentDOM.contains(x)&&(x=null),x||(c=Math.max(s.left+1,Math.min(s.right-1,c)),x=g.elementFromPoint(c,f),x&&!t.contentDOM.contains(x)&&(x=null));let m,v=-1;if(x&&((i=t.docView.nearest(x))===null||i===void 0?void 0:i.isEditable)!=!1){if(d.caretPositionFromPoint){let k=d.caretPositionFromPoint(c,f);k&&({offsetNode:m,offset:v}=k)}else if(d.caretRangeFromPoint){let k=d.caretRangeFromPoint(c,f);k&&({startContainer:m,startOffset:v}=k)}m&&(!t.contentDOM.contains(m)||D.safari&&MB(m,v,c)||D.chrome&&PB(m,v,c))&&(m=void 0),m&&(v=Math.min(pr(m),v))}if(!m||!t.docView.dom.contains(m)){let k=ht.find(t.docView,p);if(!k)return h>l.top+l.height/2?l.to:l.from;({node:m,offset:v}=Rv(k.dom,c,f))}let y=t.docView.nearest(m);if(!y)return null;if(y.isWidget&&((o=y.dom)===null||o===void 0?void 0:o.nodeType)==1){let k=y.dom.getBoundingClientRect();return e.y<k.top||e.y<=k.bottom&&e.x<=(k.left+k.right)/2?y.posAtStart:y.posAtEnd}else return y.localPosFromDOM(m,v)+y.posAtStart}function eE(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);o+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+wh(s,o,t.state.tabSize)}function fT(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let o=i.nextSibling;if(o){if(o.nodeName=="BR")break;return!1}else{let s=i.parentNode;if(!s||s.nodeName=="DIV")break;i=s}}return Mo(t,r-1,r).getBoundingClientRect().right>n}function MB(t,e,n){return fT(t,e,n)}function PB(t,e,n){if(e!=0)return fT(t,e,n);for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():Mo(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function Mv(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==Dt.Text&&(i.type!=o.type||(n<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function LB(t,e,n,r){let i=Mv(t,e.head,e.assoc||-1),o=!r||i.type!=Dt.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==he.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return _.cursor(l,n?-1:1)}return _.cursor(n?i.to:i.from,n?-1:1)}function tE(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=yB(i,o,s,a,n),c=$E;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(c))return a}else{if(!r)return u;l=r(c)}a=u}}function NB(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==fe.Space&&(i=s),i==s}}function IB(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return _.cursor(i,e.assoc);let s=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)s==null&&(s=u.left-l.left),a=o<0?u.top:u.bottom;else{let p=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-p.from))),a=(o<0?p.top:p.bottom)+c}let f=l.left+s,h=r??t.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let d=a+(h+p)*o,g=cT(t,{x:f,y:d},!1,o);if(d<l.top||d>l.bottom||(o<0?g<i:g>i)){let x=t.docView.coordsForChar(g),m=!x||d<x.top?-1:1;return _.cursor(g,m,void 0,s)}}}function mu(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=r||n||(e-o<s-e?-1:1);e=l<0?o:s,r=l}});if(!r)return e}}function hT(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=mu(t,i.from,0);s!=i.from&&(o=_.cursor(s,-1))}else{let s=mu(t,i.from,-1),a=mu(t,i.to,1);(s!=i.from||a!=i.to)&&(o=_.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?_.create(n,e.mainIndex):e}function dv(t,e,n){let r=mu(t.state.facet(_u).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:_.cursor(r,r<n.from?1:-1)}var lu="\uFFFF",Pv=class{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(ie.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=lu}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let a=ge.get(i),l=ge.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:Vh(i))||Vh(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&!FB(s,n)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(n))&&(o=a.index,s=a[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=ge.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(DB(e,r.node,r.offset)?n:0))}};function DB(t,e,n){for(;;){if(!e||n<pr(e))return!1;if(e==t)return!0;n=Ro(e)+1,e=e.parentNode}}function FB(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=ge.get(t);if(!(r?.isWidget||t.cmIgnore))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}var Hh=class{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}},Lv=class{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=o||s?[]:qB(e),l=new Pv(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=VB(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!wv(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!wv(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((D.ios||D.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let f=Math.min(l,u),h=Math.max(l,u),p=c.from-f,d=c.to-h;(p==0||p==1||f==0)&&(d==0||d==-1||h==e.state.doc.length)&&(l=0,u=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(_.range(u,l)):this.newSel=_.single(u,l)}}};function dT(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=i.from,u=null;(o===8||D.android&&e.text.length<a-s)&&(l=i.to,u="end");let c=pT(t.state.doc.sliceString(s,a,lu),e.text,l-s,u);c&&(D.chrome&&o==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==lu+lu&&c.toB--,n={from:s+c.from,to:s+c.toA,insert:X.of(e.text.slice(c.from,c.toB).split(lu))})}else r&&(!t.hasFocus&&t.state.facet(Xr)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(D.mac||D.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=_.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:X.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:D.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=_.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:X.of([" "])}),n)return dy(t,n,r,o);if(r&&!r.main.eq(i)){let s=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),a=t.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=hT(t.state.facet(_u).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function dy(t,e,n,r=-1){if(D.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(D.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ys(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Ys(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Ys(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,a=()=>s||(s=BB(t,e,n));return t.state.facet(JE).some(l=>l(t,e.from,e.to,o,a))||t.dispatch(a()),!0}function BB(t,e,n){let r,i=t.state,o=i.selection.main,s=-1;if(e.from==e.to&&e.from<o.from||e.from>o.to){let l=e.from<o.from?-1:1,u=l<0?o.from:o.to,c=mu(i.facet(_u).map(f=>f(t)),u,l);e.from==c&&(s=c)}if(s>-1)r={changes:e,selection:_.cursor(e.from+e.insert.length,-1)};else if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=o.from<e.from?i.sliceDoc(o.from,e.from):"",u=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let l=i.changes(e),u=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=o.to+10&&e.to>=o.to-10){let c=t.state.sliceDoc(e.from,e.to),f,h=n&&uT(t,n.main.head);if(h){let d=e.insert.length-(e.to-e.from);f={from:h.from,to:h.to-d}}else f=t.state.doc.lineAt(o.head);let p=o.to-e.to;r=i.changeByRange(d=>{if(d.from==o.from&&d.to==o.to)return{changes:l,range:u||d.map(l)};let g=d.to-p,x=g-c.length;if(t.state.sliceDoc(x,g)!=c||g>=f.from&&x<=f.to)return{range:d};let m=i.changes({from:x,to:g,insert:e.insert}),v=d.to-o.to;return{changes:m,range:u?_.range(Math.max(0,u.anchor+v),Math.max(0,u.head+v)):d.map(m)}})}else r={changes:l,selection:u&&i.selection.replaceRange(u)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function pT(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&t.length<e.length){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function qB(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new Hh(n,r)),(i!=n||o!=r)&&e.push(new Hh(i,o))),e}function VB(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?_.single(n+e,r+e):null}var Nv=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,D.safari&&e.contentDOM.addEventListener("input",()=>null),D.gecko&&tq(e.contentDOM.ownerDocument)}handleEvent(e){!KB(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=UB(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&gT.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),D.android&&D.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return D.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=mT.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||zB.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ys(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:D.safari&&!D.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function nE(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){dt(n.state,i)}}}function UB(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,o=i&&i.plugin.domEventHandlers,s=i&&i.plugin.domEventObservers;if(o)for(let a in o){let l=o[a];l&&n(a).handlers.push(nE(r.value,l))}if(s)for(let a in s){let l=s[a];l&&n(a).observers.push(nE(r.value,l))}}for(let r in jn)n(r).handlers.push(jn[r]);for(let r in Tn)n(r).observers.push(Tn[r]);return e}var mT=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],zB="dthko",gT=[16,17,18,20,91,92,224,225],Th=6;function Ah(t){return Math.max(0,t)*.7+8}function WB(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}var Iv=class{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=nB(e.contentDOM),this.atoms=e.state.facet(_u).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(ie.allowMultipleSelections)&&jB(e,n),this.dragging=GB(e,n)&&xT(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&WB(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=hy(this.view);e.clientX-l.left<=i+Th?n=-Ah(i-e.clientX):e.clientX+l.right>=s-Th&&(n=Ah(e.clientX-s)),e.clientY-l.top<=o+Th?r=-Ah(o-e.clientY):e.clientY+l.bottom>=a-Th&&(r=Ah(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=hT(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};function jB(t,e){let n=t.state.facet(YE);return n.length?n[0](e):D.mac?e.metaKey:e.ctrlKey}function HB(t,e){let n=t.state.facet(XE);return n.length?n[0](e):D.mac?!e.altKey:!e.ctrlKey}function GB(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=xu(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function KB(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=ge.get(n))&&r.ignoreEvent(e))return!1;return!0}var jn=Object.create(null),Tn=Object.create(null),vT=D.ie&&D.ie_version<15||D.ios&&D.webkit_version<604;function $B(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),yT(t,n.value)},50)}function nd(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function yT(t,e){e=nd(t.state,uy,e);let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(Dv!=null&&n.selection.ranges.every(l=>l.empty)&&Dv==o.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:f},range:_.cursor(u.from+f.length)}})}else s?r=n.changeByRange(l=>{let u=o.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:_.cursor(l.from+u.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Tn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};jn.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Tn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Tn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};jn.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(ZE))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=ZB(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Iv(t,e,n,r)),r&&t.observer.ignore(()=>{LE(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function rE(t,e,n,r){if(r==1)return _.cursor(e,n);if(r==2)return _B(t.state,e,n);{let i=ht.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,_.range(s,a)}}var iE=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function YB(t,e,n,r){let i=ht.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&iE(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&iE(n,r,a)?1:s&&s.bottom>=r?-1:1}function oE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:YB(t,n,e.clientX,e.clientY)}}var XB=D.ie&&D.ie_version<=11,sE=null,aE=0,lE=0;function xT(t){if(!XB)return t.detail;let e=sE,n=lE;return sE=t,lE=Date.now(),aE=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(aE+1)%3:1}function ZB(t,e){let n=oE(t,e),r=xT(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,a){let l=oE(t,o),u,c=rE(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!s){let f=rE(t,n.pos,n.bias,r),h=Math.min(f.from,c.from),p=Math.max(f.to,c.to);c=h<c.from?_.range(h,p):_.range(p,h)}return s?i.replaceRange(i.main.extend(c.from,c.to)):a&&r==1&&i.ranges.length>1&&(u=QB(i,l.pos))?u:a?i.addRange(c):_.create([c])}}}function QB(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return _.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}jn.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=_.range(o,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",nd(t.state,cy,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};jn.dragend=t=>(t.inputState.draggedContent=null,!1);function uE(t,e,n,r){if(n=nd(t.state,uy,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=r&&o&&HB(t,e)?{from:o.from,to:o.to}:null,a={from:i,insert:n},l=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}jn.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&uE(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return uE(t,e,r,!0),!0}return!1};jn.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=vT?null:e.clipboardData;return n?(yT(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):($B(t),!1)};function JB(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function eq(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:nd(t,cy,e.join(t.lineBreak)),ranges:n,linewise:r}}var Dv=null;jn.copy=jn.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=eq(t.state);if(!n&&!i)return!1;Dv=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=vT?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(JB(t,n),!1)};var ST=nt.define();function kT(t,e){let n=[];for(let r of t.facet(eT)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:ST.of(!0)}):null}function wT(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=kT(t.state,e);n?t.dispatch(n):t.update([])}},10)}Tn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),wT(t)};Tn.blur=t=>{t.observer.clearSelectionRange(),wT(t)};Tn.compositionstart=Tn.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Tn.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,D.chrome&&D.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Tn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};jn.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],l=t.posAtDOM(a.startContainer,a.startOffset),u=t.posAtDOM(a.endContainer,a.endOffset);return dy(t,{from:l,to:u,insert:t.state.toText(o)},null),!0}}let i;if(D.chrome&&D.android&&(i=mT.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return D.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),D.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Tn.compositionend(t,e),20),!1};var cE=new Set;function tq(t){cE.has(t)||(cE.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}var fE=["pre-wrap","normal","pre-line","break-spaces"],Qs=!1;function hE(){Qs=!1}var Fv=class{constructor(e){this.lineWrapping=e,this.doc=X.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return fE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let a=fE.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let u=0;u<s.length;u++){let c=s[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}},Bv=class{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}},fr=class t{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Dt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Fi?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new t(this.from,this.length+e.length,this.top,this.height+e.height,n)}},be=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(be||(be={})),Dh=.001,un=class t{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Dh&&(Qs=!0),this.height=e)}replace(e,n,r){return t.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:f}=i[a],h=o.lineAt(l,be.ByPosNoHeight,r.setDoc(n),0,0),p=h.to>=u?h:o.lineAt(u,be.ByPosNoHeight,r,0,0);for(f+=p.to-u,u=p.to;a>0&&h.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<h.from&&(h=o.lineAt(l,be.ByPosNoHeight,r,0,0));c+=h.from-l,l=h.from;let d=Vv.build(r.setDoc(s),e,c,f);o=Gh(o,o.replace(l,u,d))}return o.updateHeight(r,0)}static empty(){return new En(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new qv(t.of(e.slice(0,n)),s,t.of(e.slice(r)))}};function Gh(t,e){return t==e?t:(t.constructor!=e.constructor&&(Qs=!0),e)}un.prototype.size=1;var Kh=class extends un{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new fr(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},En=class t extends Kh{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new fr(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof t||i instanceof Ii&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Ii?i=new t(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):un.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Ii=class t extends un{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=n.doc.lineAt(u),f=a+c.length*l,h=Math.max(r,e-f/2);return new fr(c.from,c.length,h,f,0)}else{let u=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:c,length:f}=n.doc.line(o+u);return new fr(c,f,r+a*u,a,0)}}lineAt(e,n,r,i,o){if(n==be.ByHeight)return this.blockAt(e,r,i,o);if(n==be.ByPosNoHeight){let{from:p,to:d}=r.doc.lineAt(e);return new fr(p,d-p,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,o),u=r.doc.lineAt(e),c=a+u.length*l,f=u.number-s,h=i+a*f+l*(u.from-o-f);return new fr(u.from,u.length,Math.max(i,Math.min(h,i+this.height-c)),c,0)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,o);for(let c=e,f=i;c<=n;){let h=r.doc.lineAt(c);if(c==e){let d=h.number-a;f+=l*d+u*(e-o-d)}let p=l+u*h.length;s(new fr(h.from,h.length,f,p,0)),f+=p,c=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof t?r[r.length-1]=new t(o.length+i):r.push(null,new t(i-1))}if(e>0){let o=r[0];o instanceof t?r[0]=new t(e+o.length):r.unshift(new t(e-1),null)}return un.of(r)}decomposeLeft(e,n){n.push(new t(e-1),null)}decomposeRight(e,n){n.push(null,new t(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&s.push(new t(i.from-n-1).updateHeight(e,n));a<=o&&i.more;){let c=e.doc.lineAt(a).length;s.length&&s.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=Dh&&(l=-2);let h=new En(c,f);h.outdated=!1,s.push(h),a+=c+1}a<=o&&s.push(null,new t(o-a).updateHeight(e,a));let u=un.of(s);return(l<0||Math.abs(u.height-this.height)>=Dh||Math.abs(l-this.heightMetrics(e,n).perLine)>=Dh)&&(Qs=!0),Gh(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},qv=class extends un{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=n==be.ByHeight?e<s:e<a,u=l?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=n==be.ByPosNoHeight?be.ByPosNoHeight:be.ByPos;return l?u.join(this.right.lineAt(a,c,r,s,a)):this.left.lineAt(a,c,r,i,o).join(u)}forEachLine(e,n,r,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,o,s),n>=l&&this.right.forEachLine(e,n,r,a,l,s);else{let u=this.lineAt(l,be.ByPos,r,i,o);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,o,s),u.to>=e&&u.from<=n&&s(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&dE(o,s-1),n<this.length){let a=o.length;this.decomposeRight(n,o),dE(o,a)}return un.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?un.of(this.break?[e,null,n]:[e,n]):(this.left=Gh(this.left,e),this.right=Gh(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,a=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function dE(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Ii&&(r=t[e+1])instanceof Ii&&t.splice(e-1,3,new Ii(n.length+1+r.length))}var nq=5,Vv=class t{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof En?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new En(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new Kh(s,i,r)):(s||o||i>=nq)&&this.addLineDeco(i,o,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new En(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Ii(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof En)return e;let n=new En(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof En)&&!this.isCovered?this.nodes.push(new En(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof En&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new t(r,e);return oe.spans(n,r,i,o,0),o.finish(r)}};function rq(t,e,n){let r=new Uv;return oe.compare(t,e,n,r,0),r.changes}var Uv=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Ih(e,n,this.changes,5)}};function iq(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let h=c.getBoundingClientRect();o=Math.max(o,h.left),s=Math.min(s,h.right),a=Math.max(a,h.top),l=Math.min(u==t.parentNode?i.innerHeight:l,h.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function oq(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function sq(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}var gu=class{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return P.replace({widget:new zv(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}},zv=class extends Ue{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},$h=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=pE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=he.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(fy).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Fv(n),this.stateDeco=e.facet(Cu).filter(r=>typeof r!="function"),this.heightMap=un.empty().applyChanges(this.stateDeco,X.empty,this.heightOracle.setDoc(e.doc),[new dr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=P.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new Gs(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?pE:new Wv(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(uu(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Cu).filter(c=>typeof c!="function");let i=e.changedRanges,o=dr.extendWithRanges(i,rq(r,this.stateDeco,e?e.changes:Lt.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);hE(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||Qs)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=s);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nT)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?he.RTL:he.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=n.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:k,scaleY:b}=PE(n,a);(k>.005&&Math.abs(this.scaleX-k)>.005||b>.005&&Math.abs(this.scaleY-b)>.005)&&(this.scaleX=k,this.scaleY=b,u|=16,s=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=IE(e.scrollDOM);let d=(this.printing?sq:iq)(n,this.paddingTop),g=d.top-this.pixelViewport.top,x=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(l=!0)),!this.inView&&!this.scrollTarget&&!oq(e.dom))return 0;let v=a.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let k=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(k)&&(s=!0),s||i.lineWrapping&&Math.abs(v-this.contentDOMWidth)>i.charWidth){let{lineHeight:b,charWidth:w,textHeight:C}=e.docView.measureTextSize();s=b>0&&i.refresh(o,b,w,C,Math.max(5,v/w),k),s&&(e.docView.minWidth=0,u|=16)}g>0&&x>0?c=Math.max(g,x):g<0&&x<0&&(c=Math.min(g,x)),hE();for(let b of this.viewports){let w=b.from==this.viewport.from?k:e.docView.measureVisibleLineHeights(b);this.heightMap=(s?un.empty().applyChanges(this.stateDeco,X.empty,this.heightOracle,[new dr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new Bv(b.from,w))}Qs&&(u|=2)}let y=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new Gs(i.lineAt(s-r*1e3,be.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,be.ByHeight,o,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(u,be.ByPos,o,0,0),h;n.y=="center"?h=(f.top+f.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?h=f.top:h=f.bottom-c,l=new Gs(i.lineAt(h-1e3/2,be.ByHeight,o,0,0).from,i.lineAt(h+c+1e3/2,be.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Gs(this.heightMap.lineAt(r,be.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,be.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,be.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,be.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new gu(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=he.LTR&&!r)return[];let a=[],l=(c,f,h,p)=>{if(f-c<o)return;let d=this.state.selection.main,g=[d.from];d.empty||g.push(d.to);for(let m of g)if(m>c&&m<f){l(c,m-10,h,p),l(m+10,f,h,p);return}let x=lq(e,m=>m.from>=h.from&&m.to<=h.to&&Math.abs(m.from-c)<o&&Math.abs(m.to-f)<o&&!g.some(v=>m.from<v&&m.to>v));if(!x){if(f<h.to&&n&&r&&n.visibleRanges.some(y=>y.from<=f&&y.to>=f)){let y=n.moveToLineBoundary(_.cursor(f),!1,!0).head;y>c&&(f=y)}let m=this.gapSize(h,c,f,p),v=r||m<2e6?m:2e6;x=new gu(c,f,m,v)}a.push(x)},u=c=>{if(c.length<s||c.type!=Dt.Text)return;let f=aq(c.from,c.to,this.stateDeco);if(f.total<s)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,p,d;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,m;if(h!=null){let v=Oh(f,h),y=((this.visibleBottom-this.visibleTop)/2+g)/c.height;x=v-y,m=v+y}else x=(this.visibleTop-c.top-g)/c.height,m=(this.visibleBottom-c.top+g)/c.height;p=_h(f,x),d=_h(f,m)}else{let g=f.total*this.heightOracle.charWidth,x=i*this.heightOracle.charWidth,m=0;if(g>2e6)for(let w of e)w.from>=c.from&&w.from<c.to&&w.size!=w.displaySize&&w.from*this.heightOracle.charWidth+m<this.pixelViewport.left&&(m=w.size-w.displaySize);let v=this.pixelViewport.left+m,y=this.pixelViewport.right+m,k,b;if(h!=null){let w=Oh(f,h),C=((y-v)/2+x)/g;k=w-C,b=w+C}else k=(v-x)/g,b=(y+x)/g;p=_h(f,k),d=_h(f,b)}p>c.from&&l(c.from,p,c,f),d<c.to&&l(d,c.to,c,f)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return a}gapSize(e,n,r,i){let o=Oh(i,r)-Oh(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){gu.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=P.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];oe.spans(n,this.viewport.from,this.viewport.to,{span(o,s){r.push({from:o,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let s=this.visibleRanges[o],a=r[o];(s.from!=a.from||s.to!=a.to)&&(i|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||uu(this.heightMap.lineAt(e,be.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||uu(this.heightMap.lineAt(this.scaler.fromDOM(e),be.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return uu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},Gs=class{constructor(e,n){this.from=e,this.to=n}};function aq(t,e,n){let r=[],i=t,o=0;return oe.spans(n,t,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function _h({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function Oh(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function lq(t,e){for(let n of t)if(e(n))return n}var pE={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}},Wv=class t{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,be.ByPos,e,0,0).top,c=n.lineAt(l,be.ByPos,e,0,0).bottom;return i+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof t?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}};function uu(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new fr(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>uu(i,e)):t._content)}var Rh=I.define({combine:t=>t.join(" ")}),jv=I.define({combine:t=>t.indexOf(!0)>-1}),Hv=Cn.newName(),bT=Cn.newName(),CT=Cn.newName(),ET={"&light":"."+bT,"&dark":"."+CT};function Gv(t,e,n){return new Cn(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}var uq=Gv("."+Hv,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ET),cq={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},pv=D.ie&&D.ie_version<=11,Kv=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new bv,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(D.ie&&D.ie_version<=11||D.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&D.android&&e.constructor.EDIT_CONTEXT!==!1&&!(D.chrome&&D.chrome_version<126)&&(this.editContext=new $v(e),e.state.facet(Xr)&&(e.contentDOM.editContext=this.editContext.editContext)),pv&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Xr)?r.root.activeElement!=this.dom:!Nh(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(D.ie&&D.ie_version<=11||D.android&&D.chrome)&&!r.state.selection.main.empty&&i.focusNode&&fu(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=xu(e.root);if(!n)return!1;let r=D.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&fq(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Nh(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&iB(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,cq),pv&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),pv&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Ys(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Nh(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new Lv(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=dT(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=mE(n,e.previousSibling||e.target.previousSibling,-1),i=mE(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Xr)!=e.state.facet(Xr)&&(e.view.contentDOM.editContext=e.state.facet(Xr)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function mE(t,e,n){for(;e;){let r=ge.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function gE(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return fu(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function fq(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return gE(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?gE(t,n):null}var $v=class{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:s}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let u=l-a>r.text.length;a==this.from&&o<this.from?a=o:l==this.to&&o>this.to&&(l=o);let c=pT(e.state.sliceDoc(a,l),r.text,(u?i.from:i.to)-a,u?"end":null);if(!c){let h=_.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));h.main.eq(i)||e.dispatch({selection:h,userEvent:"select"});return}let f={from:c.from+a,to:c.toA+a,insert:X.of(r.text.slice(c.from,c.toB).split(`
`))};if((D.mac||D.android)&&f.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:a,to:l,insert:X.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let h=this.to-this.from+(f.to-f.from+f.insert.length);dy(e,f,_.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),f.from<f.to&&!f.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let l=e.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(!/none/i.test(s)&&!/none/i.test(a)){let l=this.toEditorPos(o.rangeStart),u=this.toEditorPos(o.rangeEnd);if(l<u){let c=`text-decoration: underline ${/^[a-z]/.test(s)?s+" ":s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;i.push(P.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:iT.of(P.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=xu(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,l,u)=>{if(r)return;let c=u.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(o+=n,s+=n,s<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),u.toString()),this.to+=c}n+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}},M=class t{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||rB(e.parent)||document,this.viewState=new $h(e.state||ie.create(e)),e.scrollTo&&e.scrollTo.is(Eh)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Hs).map(i=>new pu(i));for(let i of this.plugins)i.update(this);this.observer=new Kv(this),this.inputState=new Nv(this),this.inputState.ensureHandlers(this.plugins),this.docView=new jh(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Qe?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let h of e){if(h.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=h.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(ST))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=kT(o,s),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(ie.phrases)!=this.state.facet(ie.phrases))return this.setState(o);i=Wh.create(this,o,e),i.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:p}=h.state.selection;f=new du(p.empty?p:_.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of h.effects)p.is(Eh)&&(f=p.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=Yh.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(au)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Rh)!=i.state.facet(Rh)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet(Ov))try{h(i)}catch(p){dt(this.state,p,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!dT(this,c)&&u.force&&Ys(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new $h(e),this.plugins=e.facet(Hs).map(r=>new pu(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new jh(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Hs),r=e.state.facet(Hs);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new pu(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){dt(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(IE(r))o=-1,s=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(i);o=p.from,s=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(p=>{try{return p.read(this)}catch(d){return dt(this.state,d),vE}}),f=Wh.create(this,this.state,[]),h=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),h=this.docView.update(f),h&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(c[p]!=vE)try{let d=u[p];d.write&&d.write(c[p],this)}catch(d){dt(this.state,d)}if(h&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let d=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(d>1||d<-1){i=i+d,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(Ov))a(n)}get themeClasses(){return Hv+" "+(this.state.facet(jv)?CT:bT)+" "+this.state.facet(Rh)}updateAttrs(){let e=yE(this,oT,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Xr)?"true":"false",class:"cm-content",style:`${D.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),yE(this,fy,n);let r=this.observer.ignore(()=>{let i=Ev(this.contentDOM,this.contentAttrs,n),o=Ev(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(t.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(au);let e=this.state.facet(t.cspNonce);Cn.mount(this.root,this.styleModules.concat(uq).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return dv(this,e,tE(this,e,n,r))}moveByGroup(e,n){return dv(this,e,tE(this,e,n,r=>NB(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return _.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return LB(this,e,n,r)}moveVertically(e,n,r){return dv(this,e,IB(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),cT(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[hr.find(o,e-i.from,-1,n)];return Au(r,s.dir==he.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(tT)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>hq)return KE(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||GE(o.isolates,r=XC(this,e))))return o.order;r||(r=XC(this,e));let i=vB(e.text,n,r);return this.bidiCache.push(new Yh(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||D.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{LE(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Eh.of(new du(typeof e=="number"?_.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Eh.of(new du(_.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Z.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Z.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Cn.newName(),i=[Rh.of(r),au.of(Gv(`.${r}`,e))];return n&&n.dark&&i.push(jv.of(!0)),i}static baseTheme(e){return ln.lowest(au.of(Gv("."+Hv,e,ET)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&ge.get(r)||ge.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}};M.styleModule=au;M.inputHandler=JE;M.clipboardInputFilter=uy;M.clipboardOutputFilter=cy;M.scrollHandler=rT;M.focusChangeEffect=eT;M.perLineTextDirection=tT;M.exceptionSink=QE;M.updateListener=Ov;M.editable=Xr;M.mouseSelectionStyle=ZE;M.dragMovesSelection=XE;M.clickAddsSelectionRange=YE;M.decorations=Cu;M.outerDecorations=sT;M.atomicRanges=_u;M.bidiIsolatedRanges=aT;M.scrollMargins=lT;M.darkTheme=jv;M.cspNonce=I.define({combine:t=>t.length?t[0]:""});M.contentAttributes=fy;M.editorAttributes=oT;M.lineWrapping=M.contentAttributes.of({class:"cm-lineWrapping"});M.announce=U.define();var hq=4096,vE={},Yh=class t{constructor(e,n,r,i,o,s){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:he.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new t(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}};function yE(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&Cv(s,n)}return n}var dq=D.mac?"mac":D.windows?"win":D.linux?"linux":"key";function pq(t,e){let n=t.split(/-(?!$)/),r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let l=0;l<n.length-1;++l){let u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Mh(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}var mq=ln.default(M.domEventHandlers({keydown(t,e){return _T(TT(e.state),t,e,"editor")}})),No=I.define({enables:mq}),xE=new WeakMap;function TT(t){let e=t.facet(No),n=xE.get(e);return n||xE.set(e,n=vq(e.reduce((r,i)=>r.concat(i),[]))),n}function AT(t,e,n){return _T(TT(t.state),e,t,n)}var Ni=null,gq=4e3;function vq(t,e=dq){let n=Object.create(null),r=Object.create(null),i=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,u,c)=>{var f,h;let p=n[s]||(n[s]=Object.create(null)),d=a.split(/ (?!$)/).map(m=>pq(m,e));for(let m=1;m<d.length;m++){let v=d.slice(0,m).join(" ");i(v,!0),p[v]||(p[v]={preventDefault:!0,stopPropagation:!1,run:[y=>{let k=Ni={view:y,prefix:v,scope:s};return setTimeout(()=>{Ni==k&&(Ni=null)},gq),!0}]})}let g=d.join(" ");i(g,!1);let x=p[g]||(p[g]={preventDefault:!1,stopPropagation:!1,run:((h=(f=p._any)===null||f===void 0?void 0:f.run)===null||h===void 0?void 0:h.slice())||[]});l&&x.run.push(l),u&&(x.preventDefault=!0),c&&(x.stopPropagation=!0)};for(let s of t){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let u of a){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=s;for(let h in c)c[h].run.push(p=>f(p,Yv))}let l=s[e]||s.key;if(l)for(let u of a)o(u,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(u,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return n}var Yv=null;function _T(t,e,n,r){Yv=e;let i=UC(e),o=ft(i,0),s=an(o)==i.length&&i!=" ",a="",l=!1,u=!1,c=!1;Ni&&Ni.view==n&&Ni.scope==r&&(a=Ni.prefix+" ",gT.indexOf(e.keyCode)<0&&(u=!0,Ni=null));let f=new Set,h=x=>{if(x){for(let m of x.run)if(!f.has(m)&&(f.add(m),m(n)))return x.stopPropagation&&(c=!0),!0;x.preventDefault&&(x.stopPropagation&&(c=!0),u=!0)}return!1},p=t[r],d,g;return p&&(h(p[a+Mh(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(D.windows&&e.ctrlKey&&e.altKey)&&!(D.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(d=Yr[e.keyCode])&&d!=i?(h(p[a+Mh(d,e,!0)])||e.shiftKey&&(g=js[e.keyCode])!=i&&g!=d&&h(p[a+Mh(g,e,!1)]))&&(l=!0):s&&e.shiftKey&&h(p[a+Mh(i,e,!0)])&&(l=!0),!l&&h(p._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),Yv=null,l}var Eu=class t{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=OT(e);return[new t(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return yq(e,n,r)}};function OT(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==he.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function SE(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=t.posAtCoords({x:o.left+1,y:s}),l=t.posAtCoords({x:o.right-1,y:s});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function yq(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==he.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),l=OT(t),u=s.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),f=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),h=a.right-(c?parseInt(c.paddingRight):0),p=Mv(t,r,1),d=Mv(t,i,-1),g=p.type==Dt.Text?p:null,x=d.type==Dt.Text?d:null;if(g&&(t.lineWrapping||p.widgetLineBreaks)&&(g=SE(t,r,1,g)),x&&(t.lineWrapping||d.widgetLineBreaks)&&(x=SE(t,i,-1,x)),g&&x&&g.from==x.from&&g.to==x.to)return v(y(n.from,n.to,g));{let b=g?y(n.from,null,g):k(p,!1),w=x?y(null,n.to,x):k(d,!0),C=[];return(g||p).to<(x||d).from-(g&&x?1:0)||p.widgetLineBreaks>1&&b.bottom+t.defaultLineHeight/2<w.top?C.push(m(f,b.bottom,h,w.top)):b.bottom<w.top&&t.elementAtHeight((b.bottom+w.top)/2).type==Dt.Text&&(b.bottom=w.top=(b.bottom+w.top)/2),v(b).concat(C).concat(v(w))}function m(b,w,C,E){return new Eu(e,b-l.left,w-l.top,C-b,E-w)}function v({top:b,bottom:w,horizontal:C}){let E=[];for(let A=0;A<C.length;A+=2)E.push(m(C[A],b,C[A+1],w));return E}function y(b,w,C){let E=1e9,A=-1e9,O=[];function q(W,Y,Te,pe,De){let ee=t.coordsAtPos(W,W==C.to?-2:2),Me=t.coordsAtPos(Te,Te==C.from?2:-2);!ee||!Me||(E=Math.min(ee.top,Me.top,E),A=Math.max(ee.bottom,Me.bottom,A),De==he.LTR?O.push(o&&Y?f:ee.left,o&&pe?h:Me.right):O.push(!o&&pe?f:Me.left,!o&&Y?h:ee.right))}let B=b??C.from,z=w??C.to;for(let W of t.visibleRanges)if(W.to>B&&W.from<z)for(let Y=Math.max(W.from,B),Te=Math.min(W.to,z);;){let pe=t.state.doc.lineAt(Y);for(let De of t.bidiSpans(pe)){let ee=De.from+pe.from,Me=De.to+pe.from;if(ee>=Te)break;Me>Y&&q(Math.max(ee,Y),b==null&&ee<=B,Math.min(Me,Te),w==null&&Me>=z,De.dir)}if(Y=pe.to+1,Y>=Te)break}return O.length==0&&q(B,b==null,z,w==null,t.textDirection),{top:E,bottom:A,horizontal:O}}function k(b,w){let C=a.top+(w?b.top:b.bottom);return{top:C,bottom:C,horizontal:[]}}}function xq(t,e){return t.constructor==e.constructor&&t.eq(e)}var Xv=class{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Fh)!=e.state.facet(Fh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Fh);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!xq(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,D.safari&&D.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}},Fh=I.define();function RT(t){return[Z.define(e=>new Xv(e,t)),Fh.of(t)]}var Tu=I.define({combine(t){return bt(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function MT(t={}){return[Tu.of(t),Sq,kq,wq,nT.of(!0)]}function PT(t){return t.startState.facet(Tu)!=t.state.facet(Tu)}var Sq=RT({above:!0,markers(t){let{state:e}=t,n=e.facet(Tu),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty||n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:_.cursor(i.head,i.head>i.anchor?-1:1);for(let l of Eu.forRange(t,s,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=PT(t);return n&&kE(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){kE(e.state,t)},class:"cm-cursorLayer"});function kE(t,e){e.style.animationDuration=t.facet(Tu).cursorBlinkRate+"ms"}var kq=RT({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Eu.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||PT(t)},class:"cm-selectionLayer"}),wq=ln.highest(M.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),LT=U.define({map(t,e){return t==null?null:e.mapPos(t)}}),cu=re.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(LT)?r.value:n,t)}}),bq=Z.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(cu);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(cu)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(cu),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(cu)!=t&&this.view.dispatch({effects:LT.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function NT(){return[cu,bq]}function wE(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),s=n,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function Cq(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}var Zv=class{constructor(e){let{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,c)=>i(c,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,c)=>{let f=r(a,l,u);f&&c(u,u+a[0].length,f)};else if(r)this.addMatch=(a,l,u,c)=>c(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let n=new Be,r=n.add.bind(n);for(let{from:i,to:o}of Cq(e,this.maxLength))wE(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>=s){let l=e.state.doc.lineAt(s),u=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(o.from,l.from),f=Math.min(o.to,u.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){c=s;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){f=a;break}}let h=[],p,d=(g,x,m)=>h.push(m.range(g,x));if(l==u)for(this.regexp.lastIndex=c-l.from;(p=this.regexp.exec(l.text))&&p.index<f-l.from;)this.addMatch(p,e,p.index+l.from,d);else wE(e.state.doc,this.regexp,c,f,(g,x)=>this.addMatch(x,e,g,d));n=n.update({filterFrom:c,filterTo:f,filter:(g,x)=>g<c||x>f,add:h})}}return n}},Qv=/x/.unicode!=null?"gu":"g",Eq=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,Qv),Tq={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},mv=null;function Aq(){var t;if(mv==null&&typeof document<"u"&&document.body){let e=document.body.style;mv=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return mv||!1}var Bh=I.define({combine(t){let e=bt(t,{render:null,specialChars:Eq,addSpecialChars:null});return(e.replaceTabs=!Aq())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Qv)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Qv)),e}});function IT(t={}){return[Bh.of(t),_q()]}var bE=null;function _q(){return bE||(bE=Z.fromClass(class{constructor(t){this.view=t,this.decorations=P.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Bh)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Zv({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=ft(e[0],0);if(o==9){let s=i.lineAt(r),a=n.state.tabSize,l=$r(s.text,a,r-s.from);return P.replace({widget:new ey((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=P.replace({widget:new Jv(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Bh);t.startState.facet(Bh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}var Oq="\u2022";function Rq(t){return t>=32?Oq:t==10?"\u2424":String.fromCharCode(9216+t)}var Jv=class extends Ue{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=Rq(this.code),r=e.state.phrase("Control character")+" "+(Tq[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}},ey=class extends Ue{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}};function DT(){return Pq}var Mq=P.line({class:"cm-activeLine"}),Pq=Z.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(Mq.range(i.from)),e=i.from)}return P.set(n)}},{decorations:t=>t.decorations}),ty=class extends Ue{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Xs(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=Au(n[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}};function FT(t){let e=Z.fromClass(class{constructor(n){this.view=n,this.placeholder=t?P.set([P.widget({widget:new ty(t),side:1}).range(0)]):P.none}get decorations(){return this.view.state.doc.length?P.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,M.contentAttributes.of({"aria-placeholder":t})]:e}var ny=2e3;function Lq(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>ny||n.off>ny||e.col<0||n.col<0){let s=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&o.push(_.range(u.from+s,u.to+a))}}else{let s=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=wh(u.text,s,t.tabSize,!0);if(c<0)o.push(_.cursor(u.to));else{let f=wh(u.text,a,t.tabSize);o.push(_.range(u.from+c,u.from+f))}}}return o}function Nq(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function CE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>ny?-1:i==r.length?Nq(t,e.clientX):$r(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function Iq(t,e){let n=CE(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=CE(t,i);if(!a)return r;let l=Lq(t.state,n,a);return l.length?s?_.create(l.concat(r.ranges)):_.create(l):r}}:null}function BT(t){let e=t?.eventFilter||(n=>n.altKey&&n.button==0);return M.mouseSelectionStyle.of((n,r)=>e(r)?Iq(n,r):null)}var Dq={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Fq={style:"cursor: crosshair"};function qT(t={}){let[e,n]=Dq[t.key||"Alt"],r=Z.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,M.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?Fq:null})]}var Ph="-10000px",Xh=class{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=n?[]:null;for(let l=0;l<o.length;l++){let u=o[l],c=-1;if(u){for(let f=0;f<this.tooltips.length;f++){let h=this.tooltips[f];h&&h.create==u.create&&(c=f)}if(c<0)s[l]=this.createTooltipView(u,l?s[l-1]:null),a&&(a[l]=!!u.above);else{let f=s[l]=this.tooltipViews[c];a&&(a[l]=n[c]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,u)=>n[u]=l),n.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}};function Bq(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}var gv=I.define({combine:t=>{var e,n,r;return{position:D.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Bq}}}),EE=new WeakMap,py=Z.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(gv);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Xh(t,Ou,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(gv);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Ph,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(D.safari){let s=o.getBoundingClientRect();n=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}else n=!!o.offsetParent&&o.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=hy(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,s)=>{let a=this.manager.tooltipViews[s];return a.getCoords?a.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(gv).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:o}=t,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:c}=u,f=t.pos[a],h=t.size[a];if(!f||l.clip!==!1&&(f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1)){c.style.top=Ph;continue}let p=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,d=p?7:0,g=h.right-h.left,x=(e=EE.get(u))!==null&&e!==void 0?e:h.bottom-h.top,m=u.offset||Vq,v=this.view.textDirection==he.LTR,y=h.width>r.right-r.left?v?r.left:r.right-h.width:v?Math.max(r.left,Math.min(f.left-(p?14:0)+m.x,r.right-g)):Math.min(Math.max(r.left,f.left-g+(p?14:0)-m.x),r.right-g),k=this.above[a];!l.strictSide&&(k?f.top-x-d-m.y<r.top:f.bottom+x+d+m.y>r.bottom)&&k==r.bottom-f.bottom>f.top-r.top&&(k=this.above[a]=!k);let b=(k?f.top-r.top:r.bottom-f.bottom)-d;if(b<x&&u.resize!==!1){if(b<this.view.defaultLineHeight){c.style.top=Ph;continue}EE.set(u,x),c.style.height=(x=b)/o+"px"}else c.style.height&&(c.style.height="");let w=k?f.top-x-d-m.y:f.bottom+d+m.y,C=y+g;if(u.overlap!==!0)for(let E of s)E.left<C&&E.right>y&&E.top<w+x&&E.bottom>w&&(w=k?E.top-x-2-d:E.bottom+d+2);if(this.position=="absolute"?(c.style.top=(w-t.parent.top)/o+"px",TE(c,(y-t.parent.left)/i)):(c.style.top=w/o+"px",TE(c,y/i)),p){let E=f.left+(v?m.x:-m.x)-(y+14-7);p.style.left=E/i+"px"}u.overlap!==!0&&s.push({left:y,top:w,right:C,bottom:w+x}),c.classList.toggle("cm-tooltip-above",k),c.classList.toggle("cm-tooltip-below",!k),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Ph}},{eventObservers:{scroll(){this.maybeMeasure()}}});function TE(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}var qq=M.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Vq={x:0,y:0},Ou=I.define({enables:[py,qq]}),Zh=I.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])}),Qh=class t{static create(e){return new t(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Xh(e,Zh,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}},Uq=Ou.compute([Zh],t=>{let e=t.facet(Zh);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Qh.create,above:e[0].above,arrow:e.some(n=>n.arrow)}}),ry=class{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof Zs)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=l&&l.dir==he.RTL?-1:1;o=n.x<a.left?-u:u}let s=this.source(e,i,o);if(s?.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>dt(e.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(py),n=e?e.manager.tooltips.findIndex(r=>r.create==Qh.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!zq(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!Wq(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}},Lh=4;function zq(t,e){let{left:n,right:r,top:i,bottom:o}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=n-Lh&&e.clientX<=r+Lh&&e.clientY>=i-Lh&&e.clientY<=o+Lh}function Wq(t,e,n,r,i,o){let s=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function VT(t,e={}){let n=U.define(),r=re.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let l=o.changes.mapPos(a.pos,-1,ct.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=o.changes.mapPos(u.end)),s.push(u)}}i=s}for(let s of o.effects)s.is(n)&&(i=s.value),s.is(jq)&&(i=[]);return i},provide:i=>Zh.from(i)});return{active:r,extension:[r,Z.define(i=>new ry(i,t,r,n,e.hoverTime||300)),Uq]}}function my(t,e){let n=t.plugin(py);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}var jq=U.define();var AE=I.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Io(t,e){let n=t.plugin(UT),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}var UT=Z.fromClass(class{constructor(t){this.input=t.state.facet(Lo),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(AE);this.top=new Ks(t,!0,e.topContainer),this.bottom=new Ks(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(AE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Ks(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ks(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Lo);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),a.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?o:s).push(c)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>M.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})}),Ks=class{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=_E(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=_E(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}};function _E(t){let e=t.nextSibling;return t.remove(),e}var Lo=I.define({enables:UT});var Ge=class extends Wn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};Ge.prototype.elementClass="";Ge.prototype.toDOM=void 0;Ge.prototype.mapMode=ct.TrackBefore;Ge.prototype.startSide=Ge.prototype.endSide=-1;Ge.prototype.point=!0;var qh=I.define(),Hq=I.define(),Gq={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>oe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},vu=I.define();function Ru(t){return[zT(),vu.of({...Gq,...t})]}var iy=I.define({combine:t=>t.some(e=>e)});function zT(t){let e=[Kq];return t&&t.fixed===!1&&e.push(iy.of(!0)),e}var Kq=Z.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(vu).map(e=>new Jh(t,e)),this.fixed=!t.state.facet(iy);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(iy)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=oe.iter(this.view.state.facet(qh),this.view.viewport.from),r=[],i=this.gutters.map(o=>new sy(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==Dt.Text&&s){oy(n,r,a.from);for(let l of i)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==Dt.Text){oy(n,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(vu),n=t.state.facet(vu),r=t.docChanged||t.heightChanged||t.viewportChanged||!oe.eq(t.startState.facet(qh),t.state.facet(qh),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new Jh(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>M.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==he.LTR?{left:r,right:i}:{right:r,left:i}})});function OE(t){return Array.isArray(t)?t:[t]}function oy(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}var sy=class{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=oe.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==i.elements.length){let a=new ed(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];oy(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(Hq)){let s=o(e,n.widget,n);s&&(i||(i=[])).push(s)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}},Jh=class{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=OE(n.markers(e)),n.initialSpacer&&(this.spacer=new ed(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=OE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!oe.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}},ed=class{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),$q(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<n.length?n[o++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,u=!0;break}}else a=this.markers.length;for(;s<a;){let c=this.markers[s++];if(c.toDOM){c.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}};function $q(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}var Yq=I.define(),Xq=I.define(),$s=I.define({combine(t){return bt(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(a,l,u)=>o(a,l,u)||s(a,l,u):s}return r}})}}),yu=class extends Ge{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}};function vv(t,e){return t.state.facet($s).formatNumber(e,t.state)}var Zq=vu.compute([$s],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Yq)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new yu(vv(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(Xq)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet($s)!=e.state.facet($s),initialSpacer(e){return new yu(vv(e,RE(e.state.doc.lines)))},updateSpacer(e,n){let r=vv(n.view,RE(n.view.state.doc.lines));return r==e.number?e:new yu(r)},domEventHandlers:t.facet($s).domEventHandlers,side:"before"}));function WT(t={}){return[$s.of(t),zT(),Zq]}function RE(t){let e=9;for(;e<t;)e=e*10+9;return e}var Qq=new class extends Ge{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Jq=qh.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Qq.range(i)))}return oe.of(e)});function jT(){return Jq}var e9=0,Mu=class{constructor(e,n){this.from=e,this.to=n}},j=class{constructor(e={}){this.id=e9++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=cn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}};j.closedBy=new j({deserialize:t=>t.split(" ")});j.openedBy=new j({deserialize:t=>t.split(" ")});j.group=new j({deserialize:t=>t.split(" ")});j.isolate=new j({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});j.contextHash=new j({perNode:!0});j.lookAhead=new j({perNode:!0});j.mounted=new j({perNode:!0});var Js=class{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[j.mounted.id]}},t9=Object.create(null),cn=class t{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):t9,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new t(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(j.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(j.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}};cn.none=new cn("",Object.create(null),0,8);var rd=new WeakMap,HT=new WeakMap,rt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(rt||(rt={}));var Ct=class t{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=Js.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Nu(this.topNode,e)}cursorAt(e,n=0,r=0){let i=rd.get(this)||this.topNode,o=new Nu(i);return o.moveTo(e,n),rd.set(this,o._tree),o}get topNode(){return new gr(this,0,0,null)}resolve(e,n=0){let r=Pu(rd.get(this)||this.topNode,e,n,!1);return rd.set(this,r),r}resolveInner(e,n=0){let r=Pu(HT.get(this)||this.topNode,e,n,!0);return HT.set(this,r),r}resolveStack(e,n=0){return n9(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&rt.IncludeAnonymous)>0;for(let l=this.cursor(s|rt.IncludeAnonymous);;){let u=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:wy(cn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new t(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new t(cn.none,n,r,i)))}static build(e){return r9(e)}};Ct.empty=new Ct(cn.none,[],[],0);var gy=class t{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new t(this.buffer,this.index)}},qi=class t{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return cn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,a=-1;for(let l=e;l!=n&&!($T(o,i,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let a=e,l=0;a<n;){o[l++]=i[a++],o[l++]=i[a++]-r;let u=o[l++]=i[a++]-r;o[l++]=i[a++]-e,s=Math.max(s,u)}return new t(o,s,this.set)}};function $T(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Pu(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof gr&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:rt.IgnoreOverlays;if(r)for(let s=t,a=s.parent;a;s=a,a=s.parent)s instanceof gr&&s.index<0&&((i=a.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=a);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}var od=class{cursor(e=0){return new Nu(this,e)}getChild(e,n=null,r=null){let i=GT(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return GT(this,e,n,r)}resolve(e,n=0){return Pu(this,e,n,!1)}resolveInner(e,n=0){return Pu(this,e,n,!0)}matchContext(e){return vy(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}},gr=class t extends od{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,u=n>0?a.length:-1;e!=u;e+=n){let c=a[e],f=l[e]+s.from;if($T(i,r,f,f+c.length)){if(c instanceof qi){if(o&rt.ExcludeBuffers)continue;let h=c.findChild(0,c.buffer.length,n,r-f,i);if(h>-1)return new Lu(new yy(s,c,e,f),null,h)}else if(o&rt.IncludeAnonymous||!c.type.isAnonymous||ky(c)){let h;if(!(o&rt.IgnoreMounts)&&(h=Js.get(c))&&!h.overlay)return new t(h.tree,f,e,s);let p=new t(c,f,e,s);return o&rt.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&rt.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&rt.IgnoreOverlays)&&(i=Js.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?a>=o:a>o))return new t(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function GT(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function vy(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}var yy=class{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}},Lu=class t extends od{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new t(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&rt.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new t(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new t(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new t(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new Ct(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function YT(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let s=t[o];(s.from>n.from||s.to<n.to)&&(n=s,e=o)}let r=n instanceof gr&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new xy(i,n)}var xy=class{constructor(e,n){this.heads=e,this.node=n}get next(){return YT(this.heads)}};function n9(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof gr?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,n)),o=s}else{let s=Js.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new gr(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(Pu(a,e,n,!1))}}return i?YT(i):r}var Nu=class{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof gr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof gr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&rt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&rt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&rt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&rt.IncludeAnonymous||a instanceof qi||!a.type.isAnonymous||ky(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new Lu(this.buffer,n,this.stack[i]);return this.bufferNode=new Lu(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return vy(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return vy(this._tree,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}};function ky(t){return t.children.some(e=>e instanceof qi||!e.type.isAnonymous||ky(e))}function r9(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=r.types.length}=t,a=Array.isArray(n)?new gy(n,n.length):n,l=r.types,u=0,c=0;function f(b,w,C,E,A,O){let{id:q,start:B,end:z,size:W}=a,Y=c,Te=u;if(W<0)if(a.next(),W==-1){let Pe=o[q];C.push(Pe),E.push(B-b);return}else if(W==-3){u=q;return}else if(W==-4){c=q;return}else throw new RangeError(`Unrecognized record size: ${W}`);let pe=l[q],De,ee,Me=B-b;if(z-B<=i&&(ee=x(a.pos-w,A))){let Pe=new Uint16Array(ee.size-ee.skip),Ye=a.pos-ee.size,Zt=Pe.length;for(;a.pos>Ye;)Zt=m(ee.start,Pe,Zt);De=new qi(Pe,z-ee.start,r),Me=ee.start-b}else{let Pe=a.pos-W;a.next();let Ye=[],Zt=[],Ir=q>=s?q:-1,Dr=0,gt=z;for(;a.pos>Pe;)Ir>=0&&a.id==Ir&&a.size>=0?(a.end<=gt-i&&(d(Ye,Zt,B,Dr,a.end,gt,Ir,Y,Te),Dr=Ye.length,gt=a.end),a.next()):O>2500?h(B,Pe,Ye,Zt):f(B,Pe,Ye,Zt,Ir,O+1);if(Ir>=0&&Dr>0&&Dr<Ye.length&&d(Ye,Zt,B,Dr,B,gt,Ir,Y,Te),Ye.reverse(),Zt.reverse(),Ir>-1&&Dr>0){let ol=p(pe,Te);De=wy(pe,Ye,Zt,0,Ye.length,0,z-B,ol,ol)}else De=g(pe,Ye,Zt,z-B,Y-z,Te)}C.push(De),E.push(Me)}function h(b,w,C,E){let A=[],O=0,q=-1;for(;a.pos>w;){let{id:B,start:z,end:W,size:Y}=a;if(Y>4)a.next();else{if(q>-1&&z<q)break;q<0&&(q=W-i),A.push(B,z,W),O++,a.next()}}if(O){let B=new Uint16Array(O*4),z=A[A.length-2];for(let W=A.length-3,Y=0;W>=0;W-=3)B[Y++]=A[W],B[Y++]=A[W+1]-z,B[Y++]=A[W+2]-z,B[Y++]=Y;C.push(new qi(B,A[2]-z,r)),E.push(z-b)}}function p(b,w){return(C,E,A)=>{let O=0,q=C.length-1,B,z;if(q>=0&&(B=C[q])instanceof Ct){if(!q&&B.type==b&&B.length==A)return B;(z=B.prop(j.lookAhead))&&(O=E[q]+B.length+z)}return g(b,C,E,A,O,w)}}function d(b,w,C,E,A,O,q,B,z){let W=[],Y=[];for(;b.length>E;)W.push(b.pop()),Y.push(w.pop()+C-A);b.push(g(r.types[q],W,Y,O-A,B-O,z)),w.push(A-C)}function g(b,w,C,E,A,O,q){if(O){let B=[j.contextHash,O];q=q?[B].concat(q):[B]}if(A>25){let B=[j.lookAhead,A];q=q?[B].concat(q):[B]}return new Ct(b,w,C,E,q)}function x(b,w){let C=a.fork(),E=0,A=0,O=0,q=C.end-i,B={size:0,start:0,skip:0};e:for(let z=C.pos-b;C.pos>z;){let W=C.size;if(C.id==w&&W>=0){B.size=E,B.start=A,B.skip=O,O+=4,E+=4,C.next();continue}let Y=C.pos-W;if(W<0||Y<z||C.start<q)break;let Te=C.id>=s?4:0,pe=C.start;for(C.next();C.pos>Y;){if(C.size<0)if(C.size==-3)Te+=4;else break e;else C.id>=s&&(Te+=4);C.next()}A=pe,E+=W,O+=Te}return(w<0||E==b)&&(B.size=E,B.start=A,B.skip=O),B.size>4?B:void 0}function m(b,w,C){let{id:E,start:A,end:O,size:q}=a;if(a.next(),q>=0&&E<s){let B=C;if(q>4){let z=a.pos-(q-4);for(;a.pos>z;)C=m(b,w,C)}w[--C]=B,w[--C]=O-b,w[--C]=A-b,w[--C]=E}else q==-3?u=E:q==-4&&(c=E);return C}let v=[],y=[];for(;a.pos>0;)f(t.start||0,t.bufferStart||0,v,y,-1,0);let k=(e=t.length)!==null&&e!==void 0?e:v.length?y[0]+v[0].length:0;return new Ct(l[t.topID],v.reverse(),y.reverse(),k)}var KT=new WeakMap;function id(t,e){if(!t.isAnonymous||e instanceof qi||e.type!=t)return 1;let n=KT.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Ct)){n=1;break}n+=id(t,r)}KT.set(e,n)}return n}function wy(t,e,n,r,i,o,s,a,l){let u=0;for(let d=r;d<i;d++)u+=id(t,e[d]);let c=Math.ceil(u*1.5/8),f=[],h=[];function p(d,g,x,m,v){for(let y=x;y<m;){let k=y,b=g[y],w=id(t,d[y]);for(y++;y<m;y++){let C=id(t,d[y]);if(w+C>=c)break;w+=C}if(y==k+1){if(w>c){let C=d[k];p(C.children,C.positions,0,C.children.length,g[k]+v);continue}f.push(d[k])}else{let C=g[y-1]+d[y-1].length-b;f.push(wy(t,d,g,k,y,b,C,null,l))}h.push(b+v-o)}}return p(e,n,r,i,0),(a||l)(f,h,s)}var Do=class t{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new t(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<n.length?n[a]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;s&&s.from<f;){let h=s;if(l>=h.from||f<=h.to||u){let p=Math.max(h.from,l)-u,d=Math.min(h.to,f)-u;h=p>=d?null:new t(p,d,h.tree,h.offset+u,a>0,!!c)}if(h&&i.push(h),s.to>f)break;s=o<e.length?e[o++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}},sd=class{startParse(e,n,r){return typeof e=="string"&&(e=new Sy(e)),r=r?r.length?r.map(i=>new Mu(i.from,i.to)):[new Mu(0,0)]:[new Mu(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}},Sy=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}};var Wue=new j({perNode:!0});var i9=0,Hn=class t{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=i9++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof t&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new t(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new cd(e);return r=>r.modified.indexOf(n)>-1?r:cd.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}},o9=0,cd=class t{constructor(e){this.name=e,this.instances=[],this.id=o9++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&s9(n,a.modified));if(r)return r;let i=[],o=new Hn(e.name,i,e,n);for(let a of n)a.instances.push(o);let s=a9(n);for(let a of e.set)if(!a.modified.length)for(let l of s)i.push(t.get(a,l));return o}};function s9(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function a9(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function QT(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,a=i;for(let f=0;;){if(a=="..."&&f>0&&f+3==i.length){s=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+i);if(o.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let p=i[f++];if(f==i.length&&p=="!"){s=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);a=i.slice(f)}let l=o.length-1,u=o[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new Bo(r,s,l>0?o.slice(0,l):null);e[u]=c.sort(e[u])}}return JT.add(e)}var JT=new j({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let o=new Bo(i.tags,i.mode,i.context);n?n.next=o:r=o,n=o}return r}}),Bo=class{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};Bo.empty=new Bo([],2,null);function Ty(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let u=n[l.id];if(u){s=s?s+" "+u:u;break}}return s},scope:r}}function l9(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function eA(t,e,n,r=0,i=t.length){let o=new Cy(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}var Cy=class{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:a,to:l}=e;if(a>=r||l<=n)return;s.isTop&&(o=this.highlighters.filter(p=>!p.scope||p.scope(s)));let u=i,c=u9(e)||Bo.empty,f=l9(o,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,a),u),c.opaque)return;let h=e.tree&&e.tree.prop(j.mounted);if(h&&h.overlay){let p=e.node.enter(h.overlay[0].from+a,1),d=this.highlighters.filter(x=>!x.scope||x.scope(h.tree.type)),g=e.firstChild();for(let x=0,m=a;;x++){let v=x<h.overlay.length?h.overlay[x]:null,y=v?v.from+a:l,k=Math.max(n,m),b=Math.min(r,y);if(k<b&&g)for(;e.from<b&&(this.highlightRange(e,k,b,i,o),this.startSpan(Math.min(b,e.to),u),!(e.to>=y||!e.nextSibling())););if(!v||y>r)break;m=v.to+a,m>n&&(this.highlightRange(p.cursor(),Math.max(n,v.from+a),Math.min(r,m),"",d),this.startSpan(Math.min(r,m),u))}g&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}};function u9(t){let e=t.type.prop(JT);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}var N=Hn.define,ad=N(),Vi=N(),XT=N(Vi),ZT=N(Vi),Ui=N(),ld=N(Ui),by=N(Ui),xr=N(),Fo=N(xr),vr=N(),yr=N(),Ey=N(),Iu=N(Ey),ud=N(),T={comment:ad,lineComment:N(ad),blockComment:N(ad),docComment:N(ad),name:Vi,variableName:N(Vi),typeName:XT,tagName:N(XT),propertyName:ZT,attributeName:N(ZT),className:N(Vi),labelName:N(Vi),namespace:N(Vi),macroName:N(Vi),literal:Ui,string:ld,docString:N(ld),character:N(ld),attributeValue:N(ld),number:by,integer:N(by),float:N(by),bool:N(Ui),regexp:N(Ui),escape:N(Ui),color:N(Ui),url:N(Ui),keyword:vr,self:N(vr),null:N(vr),atom:N(vr),unit:N(vr),modifier:N(vr),operatorKeyword:N(vr),controlKeyword:N(vr),definitionKeyword:N(vr),moduleKeyword:N(vr),operator:yr,derefOperator:N(yr),arithmeticOperator:N(yr),logicOperator:N(yr),bitwiseOperator:N(yr),compareOperator:N(yr),updateOperator:N(yr),definitionOperator:N(yr),typeOperator:N(yr),controlOperator:N(yr),punctuation:Ey,separator:N(Ey),bracket:Iu,angleBracket:N(Iu),squareBracket:N(Iu),paren:N(Iu),brace:N(Iu),content:xr,heading:Fo,heading1:N(Fo),heading2:N(Fo),heading3:N(Fo),heading4:N(Fo),heading5:N(Fo),heading6:N(Fo),contentSeparator:N(xr),list:N(xr),quote:N(xr),emphasis:N(xr),strong:N(xr),link:N(xr),monospace:N(xr),strikethrough:N(xr),inserted:N(),deleted:N(),changed:N(),invalid:N(),meta:ud,documentMeta:N(ud),annotation:N(ud),processingInstruction:N(ud),definition:Hn.defineModifier("definition"),constant:Hn.defineModifier("constant"),function:Hn.defineModifier("function"),standard:Hn.defineModifier("standard"),local:Hn.defineModifier("local"),special:Hn.defineModifier("special")};for(let t in T){let e=T[t];e instanceof Hn&&(e.name=t)}var Gue=Ty([{tag:T.link,class:"tok-link"},{tag:T.heading,class:"tok-heading"},{tag:T.emphasis,class:"tok-emphasis"},{tag:T.strong,class:"tok-strong"},{tag:T.keyword,class:"tok-keyword"},{tag:T.atom,class:"tok-atom"},{tag:T.bool,class:"tok-bool"},{tag:T.url,class:"tok-url"},{tag:T.labelName,class:"tok-labelName"},{tag:T.inserted,class:"tok-inserted"},{tag:T.deleted,class:"tok-deleted"},{tag:T.literal,class:"tok-literal"},{tag:T.string,class:"tok-string"},{tag:T.number,class:"tok-number"},{tag:[T.regexp,T.escape,T.special(T.string)],class:"tok-string2"},{tag:T.variableName,class:"tok-variableName"},{tag:T.local(T.variableName),class:"tok-variableName tok-local"},{tag:T.definition(T.variableName),class:"tok-variableName tok-definition"},{tag:T.special(T.variableName),class:"tok-variableName2"},{tag:T.definition(T.propertyName),class:"tok-propertyName tok-definition"},{tag:T.typeName,class:"tok-typeName"},{tag:T.namespace,class:"tok-namespace"},{tag:T.className,class:"tok-className"},{tag:T.macroName,class:"tok-macroName"},{tag:T.propertyName,class:"tok-propertyName"},{tag:T.operator,class:"tok-operator"},{tag:T.comment,class:"tok-comment"},{tag:T.meta,class:"tok-meta"},{tag:T.invalid,class:"tok-invalid"},{tag:T.punctuation,class:"tok-punctuation"}]);var Ay,Fu=new j;var c9=new j,An=class{constructor(e,n,r=[],i=""){this.data=e,this.name=i,ie.prototype.hasOwnProperty("tree")||Object.defineProperty(ie.prototype,"tree",{get(){return it(this)}}),this.parser=n,this.extension=[zi.of(this),ie.languageData.of((o,s,a)=>{let l=tA(o,s,a),u=l.type.prop(Fu);if(!u)return[];let c=o.facet(u),f=l.type.prop(c9);if(f){let h=l.resolve(s-l.from,a);for(let p of f)if(p.test(h,o)){let d=o.facet(p.facet);return p.type=="replace"?d:d.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return tA(e,n,r).type.prop(Fu)==this.data}findRegions(e){let n=e.facet(zi);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Fu)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(j.mounted);if(a){if(a.tree.prop(Fu)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<o.children.length;l++){let u=o.children[l];u instanceof Ct&&i(u,o.positions[l]+s)}};return i(it(e),0),r}get allowsNesting(){return!0}};An.setState=U.define();function tA(t,e,n){let r=t.facet(zi),i=it(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,rt.ExcludeBuffers))o.type.isTop&&(i=o);return i}function it(t){let e=t.field(An.state,!1);return e?e.tree:Ct.empty}var My=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}},Du=null,Py=class t{constructor(e,n,r=[],i,o,s,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new t(e,n,[],Ct.empty,0,r,[],null)}startParse(){return this.parser.startParse(new My(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Ct.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Do.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Do.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Du;Du=this;try{return e()}finally{Du=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=nA(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,h)=>l.push({fromA:u,toA:c,fromB:f,toB:h})),r=Do.applyChanges(r,l),i=Ct.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&a.push({from:c,to:f})}}}return new t(this.parser,n,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=nA(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends sd{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=Du;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new Ct(cn.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Du}};function nA(t,e,n){return Do.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}var qu=class t{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new t(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Py.create(e.facet(zi).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new t(r)}};An.state=re.define({create:qu.init,update(t,e){for(let n of e.effects)if(n.is(An.setState))return n.value;return e.startState.facet(zi)!=e.state.facet(zi)?qu.init(e.state):t.apply(e)}});var lA=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(lA=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});var _y=typeof navigator<"u"&&(!((Ay=navigator.scheduling)===null||Ay===void 0)&&Ay.isInputPending)?()=>navigator.scheduling.isInputPending():null,f9=Z.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(An.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(An.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=lA(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(An.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!_y?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>_y&&_y()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:An.setState.of(new qu(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>dt(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),zi=I.define({combine(t){return t.length?t[0]:null},enables:t=>[An.state,f9,M.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});var h9=I.define(),Uo=I.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Vu(t){let e=t.facet(Uo);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function ta(t,e){let n="",r=t.tabSize,i=t.facet(Uo)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function dd(t,e){t instanceof ie&&(t=new qo(t));for(let r of t.state.facet(h9)){let i=r(t,e);if(i!==void 0)return i}let n=it(t.state);return n.length>=e?p9(t,n,e):null}var qo=class{constructor(e,n={}){this.state=e,this.options=n,this.unit=Vu(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return $r(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}},d9=new j;function p9(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s&&!(s.from<r.node.from||s.to>r.node.to||s.from==r.node.from&&s.type==r.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return uA(r,t,n)}function uA(t,e,n){for(let r=t;r;r=r.next){let i=g9(r.node);if(i)return i(Ly.create(e,n,r))}return 0}function m9(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function g9(t){let e=t.type.prop(d9);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(j.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>S9(s,!0,1,void 0,o&&!m9(s)?i.from:void 0)}return t.parent==null?v9:null}function v9(){return 0}var Ly=class t extends qo{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new t(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(y9(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return uA(this.context.next,this.base,this.pos)}};function y9(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function x9(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=s)return null;let u=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+u}}a=l.to}}function S9(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==t.pos+s,l=e?x9(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}var k9=200;function cA(){return ie.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+k9)return t;let o=n.sliceString(i.from,r);if(!e.some(u=>u.test(o)))return t;let{state:s}=t,a=-1,l=[];for(let{head:u}of s.selection.ranges){let c=s.doc.lineAt(u);if(c.from==a)continue;a=c.from;let f=dd(s,c.from);if(f==null)continue;let h=/^\s*/.exec(c.text)[0],p=ta(s,f);h!=p&&l.push({from:c.from,to:c.from+h.length,insert:p})}return l.length?[t,{changes:l,sequential:!0}]:t})}var qy=I.define(),w9=new j;function b9(t,e,n){let r=it(t);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<e)break;let l=a.type.prop(w9);if(l&&(a.to<r.length-50||r.length==t.doc.length||!C9(a))){let u=l(a,t);u&&u.from<=n&&u.from>=e&&u.to>n&&(o=u)}}return o}function C9(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function fd(t,e,n){for(let r of t.facet(qy)){let i=r(t,e,n);if(i)return i}return b9(t,e,n)}function fA(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}var na=U.define({map:fA}),zo=U.define({map:fA});function hA(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}var Vo=re.define({create(){return P.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=rA(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(na)&&!E9(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(Vy),i=r?P.replace({widget:new Ny(r(e.state,n.value))}):iA;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(zo)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=rA(t,e.selection.main.head)),t},provide:t=>M.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(iA.range(r,i))}return P.set(e,!0)}});function rA(t,e,n=e){let r=!1;return t.between(e,n,(i,o)=>{i<n&&o>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,o)=>i>=n||o<=e}):t}function hd(t,e,n){var r;let i=null;return(r=t.field(Vo,!1))===null||r===void 0||r.between(e,n,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function E9(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function dA(t,e){return t.field(Vo,!1)?e:e.concat(U.appendConfig.of(gA()))}var T9=t=>{for(let e of hA(t)){let n=fd(t.state,e.from,e.to);if(n)return t.dispatch({effects:dA(t.state,[na.of(n),pA(t,n)])}),!0}return!1},A9=t=>{if(!t.state.field(Vo,!1))return!1;let e=[];for(let n of hA(t)){let r=hd(t.state,n.from,n.to);r&&e.push(zo.of(r),pA(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function pA(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return M.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}var _9=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=fd(e,i.from,i.to);o&&n.push(na.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:dA(t.state,n)}),!!n.length},O9=t=>{let e=t.state.field(Vo,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(zo.of({from:r,to:i}))}),t.dispatch({effects:n}),!0};var mA=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:T9},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:A9},{key:"Ctrl-Alt-[",run:_9},{key:"Ctrl-Alt-]",run:O9}],R9={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},Vy=I.define({combine(t){return bt(t,R9)}});function gA(t){let e=[Vo,P9];return t&&e.push(Vy.of(t)),e}function vA(t,e){let{state:n}=t,r=n.facet(Vy),i=s=>{let a=t.lineBlockAt(t.posAtDOM(s.target)),l=hd(t.state,a.from,a.to);l&&t.dispatch({effects:zo.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}var iA=P.replace({widget:new class extends Ue{toDOM(t){return vA(t,null)}}}),Ny=class extends Ue{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return vA(e,this.value)}},M9={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1},Bu=class extends Ge{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}};function yA(t={}){let e={...M9,...t},n=new Bu(e,!0),r=new Bu(e,!1),i=Z.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(zi)!=s.state.facet(zi)||s.startState.field(Vo,!1)!=s.state.field(Vo,!1)||it(s.startState)!=it(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new Be;for(let l of s.viewportLineBlocks){let u=hd(s.state,l.from,l.to)?r:fd(s.state,l.from,l.to)?n:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:o}=e;return[i,Ru({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||oe.empty},initialSpacer(){return new Bu(e,!1)},domEventHandlers:{...o,click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let u=hd(s.state,a.from,a.to);if(u)return s.dispatch({effects:zo.of(u)}),!0;let c=fd(s.state,a.from,a.to);return c?(s.dispatch({effects:na.of(c)}),!0):!1}}}),gA()]}var P9=M.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),ea=class t{constructor(e,n){this.specs=e;let r;function i(a){let l=Cn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}let o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof An?a=>a.prop(Fu)==s.data:s?a=>a==s:void 0,this.style=Ty(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new Cn(r):null,this.themeType=n.themeType}static define(e,n){return new t(e,n||{})}},Iy=I.define(),xA=I.define({combine(t){return t.length?[t[0]]:null}});function Oy(t){let e=t.facet(Iy);return e.length?e:t.facet(xA)}function pd(t,e){let n=[L9],r;return t instanceof ea&&(t.module&&n.push(M.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(xA.of(t)):r?n.push(Iy.computeN([M.darkTheme],i=>i.facet(M.darkTheme)==(r=="dark")?[t]:[])):n.push(Iy.of(t)),n}var Dy=class{constructor(e){this.markCache=Object.create(null),this.tree=it(e.state),this.decorations=this.buildDeco(e,Oy(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=it(e.state),r=Oy(e.state),i=r!=Oy(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return P.none;let r=new Be;for(let{from:i,to:o}of e.visibleRanges)eA(this.tree,n,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=P.mark({class:l})))},i,o);return r.finish()}},L9=ln.high(Z.fromClass(Dy,{decorations:t=>t.decorations})),SA=ea.define([{tag:T.meta,color:"#404740"},{tag:T.link,textDecoration:"underline"},{tag:T.heading,textDecoration:"underline",fontWeight:"bold"},{tag:T.emphasis,fontStyle:"italic"},{tag:T.strong,fontWeight:"bold"},{tag:T.strikethrough,textDecoration:"line-through"},{tag:T.keyword,color:"#708"},{tag:[T.atom,T.bool,T.url,T.contentSeparator,T.labelName],color:"#219"},{tag:[T.literal,T.inserted],color:"#164"},{tag:[T.string,T.deleted],color:"#a11"},{tag:[T.regexp,T.escape,T.special(T.string)],color:"#e40"},{tag:T.definition(T.variableName),color:"#00f"},{tag:T.local(T.variableName),color:"#30a"},{tag:[T.typeName,T.namespace],color:"#085"},{tag:T.className,color:"#167"},{tag:[T.special(T.variableName),T.macroName],color:"#256"},{tag:T.definition(T.propertyName),color:"#00c"},{tag:T.comment,color:"#940"},{tag:T.invalid,color:"#f00"}]),N9=M.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),kA=1e4,wA="()[]{}",bA=I.define({combine(t){return bt(t,{afterCursor:!0,brackets:wA,maxScanDistance:kA,renderMatch:F9})}}),I9=P.mark({class:"cm-matchingBracket"}),D9=P.mark({class:"cm-nonmatchingBracket"});function F9(t){let e=[],n=t.matched?I9:D9;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}var B9=re.define({create(){return P.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(bA);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=Gn(e.state,i.head,-1,r)||i.head>0&&Gn(e.state,i.head-1,1,r)||r.afterCursor&&(Gn(e.state,i.head,1,r)||i.head<e.state.doc.length&&Gn(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return P.set(n,!0)},provide:t=>M.decorations.from(t)}),q9=[B9,N9];function CA(t={}){return[bA.of(t),q9]}var V9=new j;function Fy(t,e,n){let r=t.prop(e<0?j.openedBy:j.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function By(t){let e=t.type.prop(V9);return e?e(t.node):t}function Gn(t,e,n,r={}){let i=r.maxScanDistance||kA,o=r.brackets||wA,s=it(t),a=s.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=Fy(l.type,n,o);if(u&&l.from<l.to){let c=By(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return U9(t,e,n,l,c,u,o)}}return z9(t,e,n,s,a.type,i,o)}function U9(t,e,n,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},u=0,c=a?.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&o.indexOf(c.type.name)>-1&&c.from<c.to){let f=By(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(Fy(c.type,n,s))u++;else if(Fy(c.type,-n,s)){if(u==0){let f=By(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function z9(t,e,n,r,i,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let h=0;!c.next().done&&h<=o;){let p=c.value;n<0&&(h+=p.length);let d=e+h*n;for(let g=n>0?0:p.length-1,x=n>0?p.length:-1;g!=x;g+=n){let m=s.indexOf(p[g]);if(!(m<0||r.resolveInner(d+g,1).type!=i))if(m%2==0==n>0)f++;else{if(f==1)return{start:u,end:{from:d+g,to:d+g+1},matched:m>>1==l>>1};f--}}n>0&&(h+=p.length)}return c.done?{start:u,matched:!1}:null}var W9=Object.create(null),oA=[cn.none];var sA=[],aA=Object.create(null),j9=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])j9[t]=H9(W9,e);function Ry(t,e){sA.indexOf(t)>-1||(sA.push(t),console.warn(e))}function H9(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=t[u]||T[u];c?typeof c=="function"?l.length?l=l.map(c):Ry(u,`Modifier ${u} used at start of tag`):l.length?Ry(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:Ry(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),o=aA[i];if(o)return o.id;let s=aA[i]=cn.define({id:oA.length,name:r,props:[QT({[r]:n})]});return oA.push(s),s.id}var tce={rtl:P.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:he.RTL}),ltr:P.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:he.LTR}),auto:P.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var G9=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Ky(t.state,n.from);return r.line?K9(t):r.block?Y9(t):!1};function Gy(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}var K9=Gy(Q9,0);var $9=Gy(LA,0);var Y9=Gy((t,e)=>LA(t,e,Z9(e)),0);function Ky(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}var Uu=50;function X9(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Uu,r),s=t.sliceDoc(i,i+Uu),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,u=o.length-a;if(o.slice(u-e.length,u)==e&&s.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let c,f;i-r<=2*Uu?c=f=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+Uu),f=t.sliceDoc(i-Uu,i));let h=/^\s*/.exec(c)[0].length,p=/\s*$/.exec(f)[0].length,d=f.length-p-n.length;return c.slice(h,h+e.length)==e&&f.slice(d,d+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(c.charAt(h+e.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(f.charAt(d-1))?1:0}}:null}function Z9(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function LA(t,e,n=e.selection.ranges){let r=n.map(o=>Ky(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>X9(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:u,close:c}=a;o.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:o}}return null}function Q9(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let a=r.length,l=1e9,u=Ky(e,o).line;if(u){for(let c=o;c<=s;){let f=e.doc.lineAt(c);if(f.from>i&&(o==s||s>f.from)){i=f.from;let h=/^\s*/.exec(f.text)[0].length,p=h==f.length,d=f.text.slice(h,h+u.length)==u?h:-1;h<f.text.length&&h<l&&(l=h),r.push({line:f,comment:d,token:u,indent:h,empty:p,single:!1})}c=f.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:u,empty:c,single:f}of r)(f||!c)&&o.push({from:a.from+u,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let u=s.from+a,c=u+l.length;s.text[c-s.from]==" "&&c++,o.push({from:u,to:c})}return{changes:o}}return null}var zy=nt.define(),J9=nt.define(),e7=I.define(),NA=I.define({combine(t){return bt(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),IA=re.define({create(){return Wo.empty},update(t,e){let n=e.state.facet(NA),r=e.annotation(zy);if(r){let l=Kn.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return l?c=gd(c,c.length,n.minDepth,l):c=qA(c,e.startState.selection),new Wo(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(J9);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Qe.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=Kn.fromTransaction(e),s=e.annotation(Qe.time),a=e.annotation(Qe.userEvent);return o?t=t.addChanges(o,s,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Wo(t.done.map(Kn.fromJSON),t.undone.map(Kn.fromJSON))}});function DA(t={}){return[IA,NA.of(t),M.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?FA:e.inputType=="historyRedo"?Wy:null;return r?(e.preventDefault(),r(n)):!1}})]}function vd(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(IA,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}var FA=vd(0,!1),Wy=vd(1,!1),t7=vd(0,!0),n7=vd(1,!0);var Kn=class t{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new t(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new t(e.changes&&Lt.fromJSON(e.changes),[],e.mapped&&Kr.fromJSON(e.mapped),e.startSelection&&_.fromJSON(e.startSelection),e.selectionsAfter.map(_.fromJSON))}static fromTransaction(e,n){let r=_n;for(let i of e.startState.facet(e7)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new t(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,_n)}static selection(e){return new t(void 0,_n,void 0,void 0,e)}};function gd(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function r7(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,s,a)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];a>=u&&s<=c&&(r=!0)}}),r}function i7(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function BA(t,e){return t.length?e.length?t.concat(e):t:e}var _n=[],o7=200;function qA(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-o7));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),gd(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Kn.selection([e])]}function s7(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Uy(t,e){if(!t.length)return t;let n=t.length,r=_n;for(;n;){let i=a7(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Kn.selection(r)]:_n}function a7(t,e,n){let r=BA(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):_n,n);if(!t.changes)return Kn.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new Kn(i,U.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}var l7=/^(input\.type|delete)($|\.)/,Wo=class t{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new t(this.done,this.undone):this}addChanges(e,n,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||l7.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,r7(a.changes,e.changes))||r=="input.type.compose")?s=gd(s,s.length-1,i.minDepth,new Kn(e.changes.compose(a.changes),BA(U.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,_n)):s=gd(s,s.length,i.minDepth,e),new t(s,_n,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:_n;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&i7(o[o.length-1],e)?this:new t(qA(this.done,e),this.undone,n,r)}addMapping(e){return new t(Uy(this.done,e),Uy(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:zy.of({side:e,rest:s7(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?_n:i.slice(0,i.length-1);return o.mapped&&(a=Uy(a,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:zy.of({side:e,rest:a,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};Wo.empty=new Wo(_n,_n);var VA=[{key:"Mod-z",run:FA,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Wy,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Wy,preventDefault:!0},{key:"Mod-u",run:t7,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:n7,preventDefault:!0}];function ra(t,e){return _.create(t.ranges.map(e),t.mainIndex)}function $n(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Yn({state:t,dispatch:e},n){let r=ra(t.selection,n);return r.eq(t.selection,!0)?!1:(e($n(t,r)),!0)}function yd(t,e){return _.cursor(e?t.to:t.from)}function UA(t,e){return Yn(t,n=>n.empty?t.moveByChar(n,e):yd(n,e))}function Et(t){return t.textDirectionAt(t.state.selection.main.head)==he.LTR}var zA=t=>UA(t,!Et(t)),WA=t=>UA(t,Et(t));function jA(t,e){return Yn(t,n=>n.empty?t.moveByGroup(n,e):yd(n,e))}var u7=t=>jA(t,!Et(t)),c7=t=>jA(t,Et(t));var cce=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function f7(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function xd(t,e,n){let r=it(t).resolveInner(e.head),i=n?j.closedBy:j.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;f7(t,u,i)?r=u:l=n?u.to:u.from}let o=r.type.prop(i),s,a;return o&&(s=n?Gn(t,r.from,1):Gn(t,r.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?r.to:r.from,_.cursor(a,n?-1:1)}var h7=t=>Yn(t,e=>xd(t.state,e,!Et(t))),d7=t=>Yn(t,e=>xd(t.state,e,Et(t)));function HA(t,e){return Yn(t,n=>{if(!n.empty)return yd(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}var GA=t=>HA(t,!1),KA=t=>HA(t,!0);function $A(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(M.scrollMargins)){let s=o(t);s?.top&&(n=Math.max(s?.top,n)),s?.bottom&&(r=Math.max(s?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function YA(t,e){let n=$A(t),{state:r}=t,i=ra(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):yd(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;s&&s.top>l&&s.bottom<u&&(o=M.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-l}))}return t.dispatch($n(r,i),{effects:o}),!0}var EA=t=>YA(t,!1),jy=t=>YA(t,!0);function Wi(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=_.cursor(r.from+o))}return i}var p7=t=>Yn(t,e=>Wi(t,e,!0)),m7=t=>Yn(t,e=>Wi(t,e,!1)),g7=t=>Yn(t,e=>Wi(t,e,!Et(t))),v7=t=>Yn(t,e=>Wi(t,e,Et(t))),y7=t=>Yn(t,e=>_.cursor(t.lineBlockAt(e.head).from,1)),x7=t=>Yn(t,e=>_.cursor(t.lineBlockAt(e.head).to,-1));function S7(t,e,n){let r=!1,i=ra(t.selection,o=>{let s=Gn(t,o.head,-1)||Gn(t,o.head,1)||o.head>0&&Gn(t,o.head-1,1)||o.head<t.doc.length&&Gn(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return n?_.range(o.anchor,a):_.cursor(a)});return r?(e($n(t,i)),!0):!1}var k7=({state:t,dispatch:e})=>S7(t,e,!1);function On(t,e){let n=ra(t.state.selection,r=>{let i=e(r);return _.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch($n(t.state,n)),!0)}function XA(t,e){return On(t,n=>t.moveByChar(n,e))}var ZA=t=>XA(t,!Et(t)),QA=t=>XA(t,Et(t));function JA(t,e){return On(t,n=>t.moveByGroup(n,e))}var w7=t=>JA(t,!Et(t)),b7=t=>JA(t,Et(t));var C7=t=>On(t,e=>xd(t.state,e,!Et(t))),E7=t=>On(t,e=>xd(t.state,e,Et(t)));function e2(t,e){return On(t,n=>t.moveVertically(n,e))}var t2=t=>e2(t,!1),n2=t=>e2(t,!0);function r2(t,e){return On(t,n=>t.moveVertically(n,e,$A(t).height))}var TA=t=>r2(t,!1),AA=t=>r2(t,!0),T7=t=>On(t,e=>Wi(t,e,!0)),A7=t=>On(t,e=>Wi(t,e,!1)),_7=t=>On(t,e=>Wi(t,e,!Et(t))),O7=t=>On(t,e=>Wi(t,e,Et(t))),R7=t=>On(t,e=>_.cursor(t.lineBlockAt(e.head).from)),M7=t=>On(t,e=>_.cursor(t.lineBlockAt(e.head).to)),_A=({state:t,dispatch:e})=>(e($n(t,{anchor:0})),!0),OA=({state:t,dispatch:e})=>(e($n(t,{anchor:t.doc.length})),!0),RA=({state:t,dispatch:e})=>(e($n(t,{anchor:t.selection.main.anchor,head:0})),!0),MA=({state:t,dispatch:e})=>(e($n(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),P7=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),L7=({state:t,dispatch:e})=>{let n=Sd(t).map(({from:r,to:i})=>_.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:_.create(n),userEvent:"select"})),!0},N7=({state:t,dispatch:e})=>{let n=ra(t.selection,r=>{let i=it(t),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return _.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e($n(t,n)),!0)};function i2(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let o of n.selection.ranges){let s=n.doc.lineAt(o.head);if(e?s.to<t.state.doc.length:s.from>0)for(let a=o;;){let l=t.moveVertically(a,e);if(l.head<s.from||l.head>s.to){i.some(u=>u.head==l.head)||i.push(l);break}else{if(l.head==a.head)break;a=l}}}return i.length==r.ranges.length?!1:(t.dispatch($n(n,_.create(i,i.length-1))),!0)}var I7=t=>i2(t,!1),D7=t=>i2(t,!0),F7=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=_.create([n.main]):n.main.empty||(r=_.create([_.cursor(n.main.head)])),r?(e($n(t,r)),!0):!1};function zu(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(n="delete.backward",l=md(t,l,!1)):l>s&&(n="delete.forward",l=md(t,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=md(t,s,!1),a=md(t,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:_.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?M.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function md(t,e,n){if(t instanceof M)for(let r of t.state.facet(M.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}var o2=(t,e,n)=>zu(t,r=>{let i=r.from,{state:o}=t,s=o.doc.lineAt(i),a,l;if(n&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let u=$r(a,o.tabSize),c=u%Vu(o)||Vu(o);for(let f=0;f<c&&a[a.length-1-f]==" ";f++)i--;l=i}else l=je(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=je(s.text,l-s.from,!1,!1)+s.from);return l}),Hy=t=>o2(t,!1,!0);var s2=t=>o2(t,!0,!1),a2=(t,e)=>zu(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=je(o.text,r-o.from,e)+o.from,u=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),c=s(u);if(a!=null&&c!=a)break;(u!=" "||r!=n.head)&&(a=c),r=l}return r}),l2=t=>a2(t,!1),B7=t=>a2(t,!0);var q7=t=>zu(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)});var V7=t=>zu(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),U7=t=>zu(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)});var z7=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:X.of(["",""])},range:_.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},W7=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:je(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:je(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(s,i))},range:_.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Sd(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function u2(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of Sd(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),a=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let l of o.ranges)i.push(_.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let l of o.ranges)i.push(_.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:_.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}var j7=({state:t,dispatch:e})=>u2(t,e,!1),H7=({state:t,dispatch:e})=>u2(t,e,!0);function c2(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Sd(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var G7=({state:t,dispatch:e})=>c2(t,e,!1),K7=({state:t,dispatch:e})=>c2(t,e,!0),$7=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Sd(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=ra(e.selection,i=>{let o;if(t.lineWrapping){let s=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Y7(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=it(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(j.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}var PA=f2(!1),X7=f2(!0);function f2(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),l=!t&&o==s&&Y7(e,o);t&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let u=new qo(e,{simulateBreak:o,simulateDoubleBreak:!!l}),c=dd(u,o);for(c==null&&(c=$r(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let f=["",ta(e,c)];return l&&f.push(ta(e,u.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:X.of(f)},range:_.cursor(o+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function $y(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=t.doc.lineAt(s);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),s=a.to+1}let o=t.changes(i);return{changes:i,range:_.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}var Z7=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new qo(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=$y(t,(o,s,a)=>{let l=dd(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let u=/^\s*/.exec(o.text)[0],c=ta(t,l);(u!=c||a.from<o.from+u.length)&&(n[o.from]=l,s.push({from:o.from,to:o.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},h2=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update($y(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Uo)})}),{userEvent:"input.indent"})),!0),d2=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update($y(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=$r(i,t.tabSize),s=0,a=ta(t,Math.max(0,o-Vu(t)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),Q7=t=>(t.setTabFocusMode(),!0);var J7=[{key:"Ctrl-b",run:zA,shift:ZA,preventDefault:!0},{key:"Ctrl-f",run:WA,shift:QA},{key:"Ctrl-p",run:GA,shift:t2},{key:"Ctrl-n",run:KA,shift:n2},{key:"Ctrl-a",run:y7,shift:R7},{key:"Ctrl-e",run:x7,shift:M7},{key:"Ctrl-d",run:s2},{key:"Ctrl-h",run:Hy},{key:"Ctrl-k",run:q7},{key:"Ctrl-Alt-h",run:l2},{key:"Ctrl-o",run:z7},{key:"Ctrl-t",run:W7},{key:"Ctrl-v",run:jy}],eV=[{key:"ArrowLeft",run:zA,shift:ZA,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:u7,shift:w7,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:g7,shift:_7,preventDefault:!0},{key:"ArrowRight",run:WA,shift:QA,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:c7,shift:b7,preventDefault:!0},{mac:"Cmd-ArrowRight",run:v7,shift:O7,preventDefault:!0},{key:"ArrowUp",run:GA,shift:t2,preventDefault:!0},{mac:"Cmd-ArrowUp",run:_A,shift:RA},{mac:"Ctrl-ArrowUp",run:EA,shift:TA},{key:"ArrowDown",run:KA,shift:n2,preventDefault:!0},{mac:"Cmd-ArrowDown",run:OA,shift:MA},{mac:"Ctrl-ArrowDown",run:jy,shift:AA},{key:"PageUp",run:EA,shift:TA},{key:"PageDown",run:jy,shift:AA},{key:"Home",run:m7,shift:A7,preventDefault:!0},{key:"Mod-Home",run:_A,shift:RA},{key:"End",run:p7,shift:T7,preventDefault:!0},{key:"Mod-End",run:OA,shift:MA},{key:"Enter",run:PA,shift:PA},{key:"Mod-a",run:P7},{key:"Backspace",run:Hy,shift:Hy,preventDefault:!0},{key:"Delete",run:s2,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:l2,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:B7,preventDefault:!0},{mac:"Mod-Backspace",run:V7,preventDefault:!0},{mac:"Mod-Delete",run:U7,preventDefault:!0}].concat(J7.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),p2=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:h7,shift:C7},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:d7,shift:E7},{key:"Alt-ArrowUp",run:j7},{key:"Shift-Alt-ArrowUp",run:G7},{key:"Alt-ArrowDown",run:H7},{key:"Shift-Alt-ArrowDown",run:K7},{key:"Mod-Alt-ArrowUp",run:I7},{key:"Mod-Alt-ArrowDown",run:D7},{key:"Escape",run:F7},{key:"Mod-Enter",run:X7},{key:"Alt-l",mac:"Ctrl-l",run:L7},{key:"Mod-i",run:N7,preventDefault:!0},{key:"Mod-[",run:d2},{key:"Mod-]",run:h2},{key:"Mod-Alt-\\",run:Z7},{key:"Shift-Mod-k",run:$7},{key:"Shift-Mod-\\",run:k7},{key:"Mod-/",run:G9},{key:"Alt-A",run:$9},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Q7}].concat(eV),m2={key:"Tab",run:h2,shift:d2};var g2=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t,Hi=class{constructor(e,n,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(g2(a)):g2,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ft(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=su(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=an(e);let i=this.normalize(n);if(i.length)for(let o=0,s=r;;o++){let a=i.charCodeAt(o),l=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(l)return this.value=l,this;break}s==r&&o<n.length&&n.charCodeAt(o)==a&&s++}}}match(e,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}};typeof Symbol<"u"&&(Hi.prototype[Symbol.iterator]=function(){return this});var S2={from:-1,to:-1,match:/.*/.exec("")},t1="gm"+(/x/.unicode==null?"":"u"),bd=class{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=S2,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Ed(e,n,r,i,o);this.re=new RegExp(n,t1+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=Td(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Td(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}},Yy=new WeakMap,Cd=class t{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=Yy.get(e);if(!i||i.from>=r||i.to<=n){let a=new t(n,e.sliceString(n,r));return Yy.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:o,from:s}=i;return s>n&&(o=e.sliceString(n,s)+o,s=n),i.to<r&&(o+=e.sliceString(i.to,r)),Yy.set(e,new t(s,o)),new t(n,o.slice(n-s,r-s))}},Ed=class{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=S2,this.matchPos=Td(e,i),this.re=new RegExp(n,t1+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Cd.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Td(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Cd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}};typeof Symbol<"u"&&(bd.prototype[Symbol.iterator]=Ed.prototype[Symbol.iterator]=function(){return this});function tV(t){try{return new RegExp(t,t1),!0}catch{return!1}}function Td(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function Xy(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=ae("input",{class:"cm-textfield",name:"line",value:e}),r=ae("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:Wu.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},ae("label",t.state.phrase("Go to line"),": ",n)," ",ae("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),ae("button",{name:"close",onclick:()=>{t.dispatch({effects:Wu.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},["\xD7"]));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:s}=t,a=s.doc.lineAt(s.selection.main.head),[,l,u,c,f]=o,h=c?+c.slice(1):0,p=u?+u:a.number;if(u&&f){let x=p/100;l&&(x=x*(l=="-"?-1:1)+a.number/s.doc.lines),p=Math.round(s.doc.lines*x)}else u&&l&&(p=p*(l=="-"?-1:1)+a.number);let d=s.doc.line(Math.max(1,Math.min(s.doc.lines,p))),g=_.cursor(d.from+Math.max(0,Math.min(h,d.length)));t.dispatch({effects:[Wu.of(!1),M.scrollIntoView(g.from,{y:"center"})],selection:g}),t.focus()}return{dom:r}}var Wu=U.define(),v2=re.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Wu)&&(t=n.value);return t},provide:t=>Lo.from(t,e=>e?Xy:null)}),nV=t=>{let e=Io(t,Xy);if(!e){let n=[Wu.of(!0)];t.state.field(v2,!1)==null&&n.push(U.appendConfig.of([v2,rV])),t.dispatch({effects:n}),e=Io(t,Xy)}return e&&e.dom.querySelector("input").select(),!0},rV=M.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),iV={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},k2=I.define({combine(t){return bt(t,iV,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function w2(t){let e=[uV,lV];return t&&e.push(k2.of(t)),e}var oV=P.mark({class:"cm-selectionMatch"}),sV=P.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function y2(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=fe.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=fe.Word)}function aV(t,e,n,r){return t(e.sliceDoc(n,n+1))==fe.Word&&t(e.sliceDoc(r-1,r))==fe.Word}var lV=Z.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(k2),{state:n}=t,r=n.selection;if(r.ranges.length>1)return P.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return P.none;let l=n.wordAt(i.head);if(!l)return P.none;s=n.charCategorizer(i.head),o=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return P.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!(y2(s,n,i.from,i.to)&&aV(s,n,i.from,i.to)))return P.none}else if(o=n.sliceDoc(i.from,i.to),!o)return P.none}let a=[];for(let l of t.visibleRanges){let u=new Hi(n.doc,o,l.from,l.to);for(;!u.next().done;){let{from:c,to:f}=u.value;if((!s||y2(s,n,c,f))&&(i.empty&&c<=i.from&&f>=i.to?a.push(sV.range(c,f)):(c>=i.to||f<=i.from)&&a.push(oV.range(c,f)),a.length>e.maxMatches))return P.none}}return P.set(a)}},{decorations:t=>t.decorations}),uV=M.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),cV=({state:t,dispatch:e})=>{let{selection:n}=t,r=_.create(n.ranges.map(i=>t.wordAt(i.head)||_.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function fV(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,a=new Hi(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new Hi(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(o){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}var hV=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return cV({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=fV(t,r);return i?(e(t.update({selection:t.selection.addRange(_.range(i.from,i.to),!1),effects:M.scrollIntoView(i.to)})),!0):!1},sa=I.define({combine(t){return bt(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new e1(e),scrollToMatch:e=>M.scrollIntoView(e)})}});var Ad=class{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||tV(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Qy(this):new Zy(this)}getCursor(e,n=0,r){let i=e.doc?e:ie.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?oa(this,i,n,r):ia(this,i,n,r)}},_d=class{constructor(e){this.spec=e}};function ia(t,e,n,r){return new Hi(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?dV(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function dV(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(Od(i,n-o))!=fe.Word||e(Rd(i,n-o))!=fe.Word)&&(e(Rd(i,r-o))!=fe.Word||e(Od(i,r-o))!=fe.Word))}var Zy=class extends _d{constructor(e){super(e)}nextMatch(e,n,r){let i=ia(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,n+this.spec.unquoted.length);i=ia(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),s=ia(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=ia(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=ia(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}};function oa(t,e,n,r){return new bd(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?pV(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function Od(t,e){return t.slice(je(t,e,!1),e)}function Rd(t,e){return t.slice(e,je(t,e))}function pV(t){return(e,n,r)=>!r[0].length||(t(Od(r.input,r.index))!=fe.Word||t(Rd(r.input,r.index))!=fe.Word)&&(t(Rd(r.input,r.index+r[0].length))!=fe.Word||t(Od(r.input,r.index+r[0].length))!=fe.Word)}var Qy=class extends _d{nextMatch(e,n,r){let i=oa(this.spec,e,r,e.doc.length).next();return i.done&&(i=oa(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),s=oa(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==n||a.from>o+10))return a;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return n})}matchAll(e,n){let r=oa(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=oa(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}},Hu=U.define(),n1=U.define(),ji=re.define({create(t){return new ju(Jy(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Hu)?t=new ju(n.value.create(),t.panel):n.is(n1)&&(t=new ju(t.query,n.value?r1:null));return t},provide:t=>Lo.from(t,e=>e.panel)});var ju=class{constructor(e,n){this.query=e,this.panel=n}},mV=P.mark({class:"cm-searchMatch"}),gV=P.mark({class:"cm-searchMatch cm-searchMatch-selected"}),vV=Z.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(ji))}update(t){let e=t.state.field(ji);(e!=t.startState.field(ji)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return P.none;let{view:n}=this,r=new Be;for(let i=0,o=n.visibleRanges,s=o.length;i<s;i++){let{from:a,to:l}=o[i];for(;i<s-1&&l>o[i+1].from-2*250;)l=o[++i].to;t.highlight(n.state,a,l,(u,c)=>{let f=n.state.selection.ranges.some(h=>h.from==u&&h.to==c);r.add(u,c,f?gV:mV)})}return r.finish()}},{decorations:t=>t.decorations});function Gu(t){return e=>{let n=e.state.field(ji,!1);return n&&n.query.spec.valid?t(e,n):E2(e)}}var Md=Gu((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=_.single(r.from,r.to),o=t.state.facet(sa);return t.dispatch({selection:i,effects:[i1(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),C2(t),!0}),Pd=Gu((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=_.single(i.from,i.to),s=t.state.facet(sa);return t.dispatch({selection:o,effects:[i1(t,i),s.scrollToMatch(o.main,t)],userEvent:"select.search"}),C2(t),!0}),yV=Gu((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:_.create(n.map(r=>_.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),xV=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let a=new Hi(t.doc,t.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(_.range(a.value.from,a.value.to))}return e(t.update({selection:_.create(o,s),userEvent:"select.search.matches"})),!0},x2=Gu((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let s=o,a=[],l,u,c=[];s.from==r&&s.to==i&&(u=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:u}),s=e.nextMatch(n,s.from,s.to),c.push(M.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let f=t.state.changes(a);return s&&(l=_.single(s.from,s.to).map(f),c.push(i1(t,s)),c.push(n.facet(sa).scrollToMatch(l.main,t))),t.dispatch({changes:f,selection:l,effects:c,userEvent:"input.replace"}),!0}),SV=Gu((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:M.announce.of(r),userEvent:"input.replace.all"}),!0});function r1(t){return t.state.facet(sa).createPanel(t)}function Jy(t,e){var n,r,i,o,s;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=t.facet(sa);return new Ad({search:((n=e?.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:u.literal,regexp:(o=e?.regexp)!==null&&o!==void 0?o:u.regexp,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:u.wholeWord})}function b2(t){let e=Io(t,r1);return e&&e.dom.querySelector("[main-field]")}function C2(t){let e=b2(t);e&&e==t.root.activeElement&&e.select()}var E2=t=>{let e=t.state.field(ji,!1);if(e&&e.panel){let n=b2(t);if(n&&n!=t.root.activeElement){let r=Jy(t.state,e.query.spec);r.valid&&t.dispatch({effects:Hu.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[n1.of(!0),e?Hu.of(Jy(t.state,e.query.spec)):U.appendConfig.of(wV)]});return!0},T2=t=>{let e=t.state.field(ji,!1);if(!e||!e.panel)return!1;let n=Io(t,r1);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:n1.of(!1)}),!0},A2=[{key:"Mod-f",run:E2,scope:"editor search-panel"},{key:"F3",run:Md,shift:Pd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Md,shift:Pd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:T2,scope:"editor search-panel"},{key:"Mod-Shift-l",run:xV},{key:"Mod-Alt-g",run:nV},{key:"Mod-d",run:hV,preventDefault:!0}],e1=class{constructor(e){this.view=e;let n=this.query=e.state.field(ji).query.spec;this.commit=this.commit.bind(this),this.searchField=ae("input",{value:n.search,placeholder:fn(e,"Find"),"aria-label":fn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ae("input",{value:n.replace,placeholder:fn(e,"Replace"),"aria-label":fn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ae("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=ae("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=ae("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,s){return ae("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=ae("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Md(e),[fn(e,"next")]),r("prev",()=>Pd(e),[fn(e,"previous")]),r("select",()=>yV(e),[fn(e,"all")]),ae("label",null,[this.caseField,fn(e,"match case")]),ae("label",null,[this.reField,fn(e,"regexp")]),ae("label",null,[this.wordField,fn(e,"by word")]),...e.state.readOnly?[]:[ae("br"),this.replaceField,r("replace",()=>x2(e),[fn(e,"replace")]),r("replaceAll",()=>SV(e),[fn(e,"replace all")])],ae("button",{name:"close",onclick:()=>T2(e),"aria-label":fn(e,"close"),type:"button"},["\xD7"])])}commit(){let e=new Ad({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Hu.of(e)}))}keydown(e){AT(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Pd:Md)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),x2(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Hu)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(sa).top}};function fn(t,e){return t.state.phrase(e)}var kd=30,wd=/[\s\.,:;?!]/;function i1(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-kd),s=Math.min(i,n+kd),a=t.state.sliceDoc(o,s);if(o!=r.from){for(let l=0;l<kd;l++)if(!wd.test(a[l+1])&&wd.test(a[l])){a=a.slice(l);break}}if(s!=i){for(let l=a.length-1;l>a.length-kd;l--)if(!wd.test(a[l-1])&&wd.test(a[l])){a=a.slice(0,l);break}}return M.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}var kV=M.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),wV=[ji,ln.low(vV),kV];var Nd=class{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=it(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(I2(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}};function _2(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function bV(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=_2(e)+_2(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function CV(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:bV(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}var Id=class{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}};function Ho(t){return t.selection.main.from}function I2(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}var D2=nt.define();function EV(t,e,n,r){let{main:i}=t.selection,o=n-i.from,s=r-i.from;return{...t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+o,a.from+s)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:l},range:_.cursor(a.from+o+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}var O2=new WeakMap;function TV(t){if(!Array.isArray(t))return t;let e=O2.get(t);return e||O2.set(t,e=CV(t)),e}var Dd=U.define(),Ku=U.define(),l1=class{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=ft(e,n),i=an(r);this.chars.push(r);let o=e.slice(n,n+i),s=o.toUpperCase();this.folded.push(ft(s==o?o.toLowerCase():s,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:s}=this;if(n.length==1){let v=ft(e,0),y=an(v),k=y==e.length?0:-100;if(v!=n[0])if(v==r[0])k+=-200;else return null;return this.ret(k,[0,y])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(a<0){for(let v=0,y=Math.min(e.length,200);v<y&&u<l;){let k=ft(e,v);(k==n[u]||k==r[u])&&(i[u++]=v),v+=an(k)}if(u<l)return null}let c=0,f=0,h=!1,p=0,d=-1,g=-1,x=/[a-z]/.test(e),m=!0;for(let v=0,y=Math.min(e.length,200),k=0;v<y&&f<l;){let b=ft(e,v);a<0&&(c<l&&b==n[c]&&(o[c++]=v),p<l&&(b==n[p]||b==r[p]?(p==0&&(d=v),g=v+1,p++):p=0));let w,C=b<255?b>=48&&b<=57||b>=97&&b<=122?2:b>=65&&b<=90?1:0:(w=su(b))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!v||C==1&&x||k==0&&C!=0)&&(n[f]==b||r[f]==b&&(h=!0)?s[f++]=v:s.length&&(m=!1)),k=C,v+=an(b)}return f==l&&s[0]==0&&m?this.result(-100+(h?-200:0),s,e):p==l&&d==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-900-e.length,[d,g]):f==l?this.result(-100+(h?-200:0)+-700+(m?0:-1100),s,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let s of n){let a=s+(this.astral?an(ft(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}},u1=class{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}},ot=I.define({combine(t){return bt(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:AV,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>R2(e(r),n(r)),optionClass:(e,n)=>r=>R2(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function R2(t,e){return t?e?t+" "+e:t:e}function AV(t,e,n,r,i,o){let s=t.textDirection==he.RTL,a=s,l=!1,u="top",c,f,h=e.left-i.left,p=i.right-e.right,d=r.right-r.left,g=r.bottom-r.top;if(a&&h<Math.min(d,p)?a=!1:!a&&p<Math.min(d,h)&&(a=!0),d<=(a?h:p))c=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,f=Math.min(400,a?h:p);else{l=!0,f=Math.min(400,(s?e.right:i.right-e.left)-30);let v=i.bottom-e.bottom;v>=g||v>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let x=(e.bottom-e.top)/o.offsetHeight,m=(e.right-e.left)/o.offsetWidth;return{style:`${u}: ${c/x}px; max-width: ${f/m}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function _V(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let u=0;u<o.length;){let c=o[u++],f=o[u++];c>l&&s.appendChild(document.createTextNode(a.slice(l,c)));let h=s.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(a.slice(c,f))),h.className="cm-completionMatchedText",l=f}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function o1(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}var c1=class{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:s}=i.open,a=e.state.facet(ot);this.optionContent=_V(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=o1(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,f;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<u.length){this.applyCompletion(e,u[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(ot).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ku.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=o1(o.length,s,e.state.facet(ot).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=o1(n.options.length,n.selected,this.view.state.facet(ot).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:o}=i;if(!o)return;let s=typeof o=="string"?document.createTextNode(o):o(i);if(!s)return;"then"in s?s.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>dt(this.view.state,a,"completion info")):(this.addInfoPane(s,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&RV(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(ot).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){let i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",s=>{s.target==i&&s.preventDefault()});let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=e[s],{section:u}=a;if(u){let h=typeof u=="string"?u:u.name;if(h!=o&&(s>r.from||r.from==0))if(o=h,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let p=i.appendChild(document.createElement("completion-section"));p.textContent=h}}let c=i.appendChild(document.createElement("li"));c.id=n+"-"+s,c.setAttribute("role","option");let f=this.optionClass(a);f&&(c.className=f);for(let h of this.optionContent){let p=h(a,this.view.state,this.view,l);p&&c.appendChild(p)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};function OV(t,e){return n=>new c1(n,t,e)}function RV(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function M2(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function MV(t,e){let n=[],r=null,i=null,o=c=>{n.push(c);let{section:f}=c.completion;if(f){r||(r=[]);let h=typeof f=="string"?f:f.name;r.some(p=>p.name==h)||r.push(typeof f=="string"?{name:h}:f)}},s=e.facet(ot);for(let c of t)if(c.hasResult()){let f=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)o(new Id(h,c.source,f?f(h):[],1e9-n.length));else{let h=e.sliceDoc(c.from,c.to),p,d=s.filterStrict?new u1(h):new l1(h);for(let g of c.result.options)if(p=d.match(g.label)){let x=g.displayLabel?f?f(g,p.matched):[]:p.matched,m=p.score+(g.boost||0);if(o(new Id(g,c.source,x,m)),typeof g.section=="object"&&g.section.rank==="dynamic"){let{name:v}=g.section;i||(i=Object.create(null)),i[v]=Math.max(m,i[v]||-1e9)}}}}if(r){let c=Object.create(null),f=0,h=(p,d)=>(p.rank==="dynamic"&&d.rank==="dynamic"?i[d.name]-i[p.name]:0)||(typeof p.rank=="number"?p.rank:1e9)-(typeof d.rank=="number"?d.rank:1e9)||(p.name<d.name?-1:1);for(let p of r.sort(h))f-=1e5,c[p.name]=f;for(let p of n){let{section:d}=p.completion;d&&(p.score+=c[typeof d=="string"?d:d.name])}}let a=[],l=null,u=s.compareCompletions;for(let c of n.sort((f,h)=>h.score-f.score||u(f.completion,h.completion))){let f=c.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?a.push(c):M2(c.completion)>M2(l)&&(a[a.length-1]=c),l=c.completion}return a}var f1=class t{constructor(e,n,r,i,o,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new t(this.options,P2(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o,s){if(i&&!s&&e.some(u=>u.isPending))return i.setDisabled();let a=MV(e,n);if(!a.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=n.facet(ot).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<a.length;c++)if(a[c].completion==u){l=c;break}}return new t(a,P2(r,l),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:FV,above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new t(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new t(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}},h1=class t{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new t(IV,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(ot),o=(r.override||n.languageDataAt("autocomplete",Ho(n)).map(TV)).map(l=>(this.active.find(c=>c.source==l)||new Zr(l,this.active.some(c=>c.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((l,u)=>l==this.active[u])&&(o=this.active);let s=this.open,a=e.effects.some(l=>l.is(p1));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!PV(o,this.active)||a?s=f1.build(o,n,this.id,s,r,a):s&&s.disabled&&!o.some(l=>l.isPending)&&(s=null),!s&&o.every(l=>!l.isPending)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new Zr(l.source,0):l));for(let l of e.effects)l.is(B2)&&(s=s&&s.setSelected(l.value,this.id));return o==this.active&&s==this.open?this:new t(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?LV:NV}};function PV(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}var LV={"aria-autocomplete":"list"},NV={};function P2(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}var IV=[];function F2(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(D2);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}var Zr=class t{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=F2(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new t(i.source,0)),r&4&&i.state==0&&(i=new t(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(Dd))i=new t(i.source,1,o.value);else if(o.is(Ku))i=new t(i.source,0);else if(o.is(p1))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Ho(e.state))}},Fd=class t extends Zr{constructor(e,n,r,i,o,s){super(e,3,n),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=Ho(e.state);if(a>s||!i||n&2&&(Ho(e.startState)==this.from||a<this.limit))return new Zr(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return DV(i.validFor,e.state,o,s)?new t(this.source,this.explicit,l,i,o,s):i.update&&(i=i.update(i,o,s,new Nd(e.state,a,!1)))?new t(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Ho(e.state)):new Zr(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new t(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Zr(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}};function DV(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):I2(t,!0).test(i)}var p1=U.define({map(t,e){return t.map(n=>n.map(e))}}),B2=U.define(),Gt=re.define({create(){return h1.start()},update(t,e){return t.update(e)},provide:t=>[Ou.from(t,e=>e.tooltip),M.contentAttributes.from(t,e=>e.attrs)]});function m1(t,e){let n=e.completion.apply||e.completion.label,r=t.state.field(Gt).active.find(i=>i.source==e.source);return r instanceof Fd?(typeof n=="string"?t.dispatch({...EV(t.state,n,r.from,r.to),annotations:D2.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}var FV=OV(Gt,m1);function Ld(t,e="option"){return n=>{let r=n.state.field(Gt,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(ot).interactionDelay)return!1;let i=1,o;e=="page"&&(o=my(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),n.dispatch({effects:B2.of(a)}),!0}}var BV=t=>{let e=t.state.field(Gt,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(ot).interactionDelay?!1:m1(t,e.open.options[e.open.selected])},s1=t=>t.state.field(Gt,!1)?(t.dispatch({effects:Dd.of(!0)}),!0):!1,qV=t=>{let e=t.state.field(Gt,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Ku.of(null)}),!0)},d1=class{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}},VV=50,UV=1e3,zV=Z.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Gt).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Gt),n=t.state.facet(ot);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Gt)==e)return;let r=t.transactions.some(o=>{let s=F2(o,n);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>VV&&Date.now()-s.time>UV){for(let a of s.context.abortListeners)try{a()}catch(l){dt(this.view.state,l)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(s=>s.is(Dd)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Gt);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ot).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Ho(e),r=new Nd(e,n,t.explicit,this.view),i=new d1(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Ku.of(null)}),dt(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ot).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(ot),r=this.view.state.field(Gt);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let a=Ho(o.updates.length?o.updates[0].startState:this.view.state),l=Math.min(a,o.done.from+(o.active.explicit?0:1)),u=new Fd(o.active.source,o.active.explicit,l,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:a);for(let c of o.updates)u=u.update(c,n);if(u.hasResult()){e.push(u);continue}}let s=r.active.find(a=>a.source==o.active.source);if(s&&s.isPending)if(o.done==null){let a=new Zr(o.active.source,0);for(let l of o.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:p1.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Gt,!1);if(e&&e.tooltip&&this.view.state.facet(ot).closeOnBlur){let n=e.open&&my(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Ku.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Dd.of(!1)}),20),this.composing=0}}}),WV=typeof navigator=="object"&&/Win/.test(navigator.platform),jV=ln.highest(M.domEventHandlers({keydown(t,e){let n=e.state.field(Gt,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(WV&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&m1(e,r),!1}})),HV=M.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});var $u={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},jo=U.define({map(t,e){let n=e.mapPos(t,-1,ct.TrackAfter);return n??void 0}}),g1=new class extends Wn{};g1.startSide=1;g1.endSide=-1;var q2=re.define({create(){return oe.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(jo)&&(t=t.update({add:[g1.range(n.value,n.value+1)]}));return t}});function V2(){return[KV,q2]}var a1="()[]{}<>\xAB\xBB\xBB\xAB\uFF3B\uFF3D\uFF5B\uFF5D";function U2(t){for(let e=0;e<a1.length;e+=2)if(a1.charCodeAt(e)==t)return a1.charAt(e+1);return su(t<128?t:t+1)}function z2(t,e){return t.languageDataAt("closeBrackets",e)[0]||$u}var GV=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),KV=M.inputHandler.of((t,e,n,r)=>{if((GV?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&an(ft(r,0))==1||e!=i.from||n!=i.to)return!1;let o=YV(t.state,r);return o?(t.dispatch(o),!0):!1}),$V=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=z2(t,t.selection.main.head).brackets||$u.brackets,i=null,o=t.changeByRange(s=>{if(s.empty){let a=XV(t.doc,s.head);for(let l of r)if(l==a&&Bd(t.doc,s.head)==U2(ft(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:_.cursor(s.head-l.length)}}return{range:i=s}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},W2=[{key:"Backspace",run:$V}];function YV(t,e){let n=z2(t,t.selection.main.head),r=n.brackets||$u.brackets;for(let i of r){let o=U2(ft(i,0));if(e==i)return o==i?JV(t,i,r.indexOf(i+i+i)>-1,n):ZV(t,i,o,n.before||$u.before);if(e==o&&j2(t,t.selection.main.from))return QV(t,i,o)}return null}function j2(t,e){let n=!1;return t.field(q2).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Bd(t,e){let n=t.sliceString(e,e+2);return n.slice(0,an(ft(n,0)))}function XV(t,e){let n=t.sliceString(e-2,e);return an(ft(n,0))==n.length?n:n.slice(1)}function ZV(t,e,n,r){let i=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:jo.of(s.to+e.length),range:_.range(s.anchor+e.length,s.head+e.length)};let a=Bd(t.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:jo.of(s.head+e.length),range:_.cursor(s.head+e.length)}:{range:i=s}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function QV(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&Bd(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:_.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function JV(t,e,n,r){let i=r.stringPrefixes||$u.stringPrefixes,o=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:jo.of(a.to+e.length),range:_.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Bd(t.doc,l),c;if(u==e){if(L2(t,l))return{changes:{insert:e+e,from:l},effects:jo.of(l+e.length),range:_.cursor(l+e.length)};if(j2(t,l)){let h=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:_.cursor(l+h.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=N2(t,l-2*e.length,i))>-1&&L2(t,c))return{changes:{insert:e+e+e+e,from:l},effects:jo.of(l+e.length),range:_.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=fe.Word&&N2(t,l,i)>-1&&!eU(t,l,e,i))return{changes:{insert:e+e,from:l},effects:jo.of(l+e.length),range:_.cursor(l+e.length)}}return{range:o=a}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function L2(t,e){let n=it(t).resolveInner(e+1);return n.parent&&n.from==e}function eU(t,e,n,r){let i=it(t).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function N2(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=fe.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=fe.Word)return o}return-1}function H2(t={}){return[jV,Gt,ot.of(t),zV,tU,HV]}var v1=[{key:"Ctrl-Space",run:s1},{mac:"Alt-`",run:s1},{mac:"Alt-i",run:s1},{key:"Escape",run:qV},{key:"ArrowDown",run:Ld(!0)},{key:"ArrowUp",run:Ld(!1)},{key:"PageDown",run:Ld(!0,"page")},{key:"PageUp",run:Ld(!1,"page")},{key:"Enter",run:BV}],tU=ln.highest(No.computeN([ot],t=>t.facet(ot).defaultKeymap?[v1]:[]));var Vd=class{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}},Go=class t{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(Yu).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((p,d)=>p.from-d.from||p.to-d.to),s=new Be,a=[],l=0,u=r.doc.iter(),c=0,f=r.doc.length;for(let p=0;;){let d=p==o.length?null:o[p];if(!d&&!a.length)break;let g,x;if(a.length)g=l,x=a.reduce((y,k)=>Math.min(y,k.to),d&&d.from>g?d.from:1e8);else{if(g=d.from,g>f)break;x=d.to,a.push(d),p++}for(;p<o.length;){let y=o[p];if(y.from==g&&(y.to>y.from||y.to==g))a.push(y),p++,x=Math.min(y.to,x);else{x=Math.min(y.from,x);break}}x=Math.min(x,f);let m=!1;if(a.some(y=>y.from==g&&(y.to==x||x==f))&&(m=g==x,!m&&x-g<10)){let y=g-(c+u.value.length);y>0&&(u.next(y),c=g);for(let k=g;;){if(k>=x){m=!0;break}if(!u.lineBreak&&c+u.value.length>k)break;k=c+u.value.length,c+=u.value.length,u.next()}}let v=hU(a);if(m)s.add(g,g,P.widget({widget:new y1(v),diagnostics:a.slice()}));else{let y=a.reduce((k,b)=>b.markClass?k+" "+b.markClass:k,"");s.add(g,x,P.mark({class:"cm-lintRange cm-lintRange-"+v+y,diagnostics:a.slice(),inclusiveEnd:a.some(k=>k.to>x)}))}if(l=x,l==f)break;for(let y=0;y<a.length;y++)a[y].to<=l&&a.splice(y--,1)}let h=s.finish();return new t(h,n,aa(h))}};function aa(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new Vd(i,o,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new Vd(r.from,o,r.diagnostic)}}),r}function nU(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Yu).hideOn(t,n,r);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is($2))||t.changes.touchesRange(o.from,Math.max(o.to,r)))}function rU(t,e){return t.field(hn,!1)?e:e.concat(U.appendConfig.of(dU))}var $2=U.define(),x1=U.define(),Y2=U.define(),hn=re.define({create(){return new Go(P.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=aa(n,t.selected.diagnostic,o)||aa(n,null,o)}!n.size&&i&&e.state.facet(Yu).autoPanel&&(i=null),t=new Go(n,i,r)}for(let n of e.effects)if(n.is($2)){let r=e.state.facet(Yu).autoPanel?n.value.length?Xu.open:null:t.panel;t=Go.init(n.value,r,e.state)}else n.is(x1)?t=new Go(t.diagnostics,n.value?Xu.open:null,t.selected):n.is(Y2)&&(t=new Go(t.diagnostics,t.panel,n.value));return t},provide:t=>[Lo.from(t,e=>e.panel),M.decorations.from(t,e=>e.diagnostics)]});var iU=P.mark({class:"cm-lintRange cm-lintRange-active"});function oU(t,e,n){let{diagnostics:r}=t.state.field(hn),i,o=-1,s=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{if(e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0)))return i=c.diagnostics,o=l,s=u,!1});let a=t.state.facet(Yu).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create(){return{dom:sU(t,i)}}}:null}function sU(t,e){return ae("ul",{class:"cm-tooltip-lint"},e.map(n=>Q2(t,n,!1)))}var aU=t=>{let e=t.state.field(hn,!1);(!e||!e.panel)&&t.dispatch({effects:rU(t.state,[x1.of(!0)])});let n=Io(t,Xu.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},G2=t=>{let e=t.state.field(hn,!1);return!e||!e.panel?!1:(t.dispatch({effects:x1.of(!1)}),!0)},lU=t=>{let e=t.state.field(hn,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)};var X2=[{key:"Mod-Shift-m",run:aU,preventDefault:!0},{key:"F8",run:lU}];var Yu=I.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...bt(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:K2,tooltipFilter:K2,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,o)=>e(r,i,o)||n(r,i,o):e:n,autoPanel:(e,n)=>e||n})}}});function K2(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function Z2(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function Q2(t,e,n){var r;let i=n?Z2(e.actions):[];return ae("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ae("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=p=>{if(p.preventDefault(),a)return;a=!0;let d=aa(t.state.field(hn).diagnostics,e);d&&o.apply(t,d.from,d.to)},{name:u}=o,c=i[s]?u.indexOf(i[s]):-1,f=c<0?u:[u.slice(0,c),ae("u",u.slice(c,c+1)),u.slice(c+1)],h=o.markClass?" "+o.markClass:"";return ae("button",{type:"button",class:"cm-diagnosticAction"+h,onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[s]})"`}.`},f)}),e.source&&ae("div",{class:"cm-diagnosticSource"},e.source))}var y1=class extends Ue{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return ae("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}},Ud=class{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Q2(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}},Xu=class t{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)G2(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=Z2(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=aa(this.view.state.field(hn).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=ae("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=ae("div",{class:"cm-panel-lint"},this.list,ae("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>G2(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(hn).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(hn),r=0,i=!1,o=null,s=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:u})=>{for(let c of u.diagnostics){if(s.has(c))continue;s.add(c);let f=-1,h;for(let p=r;p<this.items.length;p++)if(this.items[p].diagnostic==c){f=p;break}f<0?(h=new Ud(this.view,c),this.items.splice(r,0,h),i=!0):(h=this.items[f],f>r&&(this.items.splice(r,f-r),i=!0)),n&&h.diagnostic==n.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),o=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Ud(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let u=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/u:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(hn),r=aa(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Y2.of(r)})}static open(e){return new t(e)}};function uU(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function qd(t){return uU(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var cU=M.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:qd("#d11")},".cm-lintRange-warning":{backgroundImage:qd("orange")},".cm-lintRange-info":{backgroundImage:qd("#999")},".cm-lintRange-hint":{backgroundImage:qd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function fU(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function hU(t){let e="hint",n=1;for(let r of t){let i=fU(r.severity);i>n&&(n=i,e=r.severity)}return e}var dU=[hn,M.decorations.compute([hn],t=>{let{selected:e,panel:n}=t.field(hn);return!e||!n||e.from==e.to?P.none:P.set([iU.range(e.from,e.to)])}),VT(oU,{hideOn:nU}),cU];var S1=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(W2)),e.defaultKeymap!==!1&&(r=r.concat(p2)),e.searchKeymap!==!1&&(r=r.concat(A2)),e.historyKeymap!==!1&&(r=r.concat(VA)),e.foldKeymap!==!1&&(r=r.concat(mA)),e.completionKeymap!==!1&&(r=r.concat(v1)),e.lintKeymap!==!1&&(r=r.concat(X2));var i=[];return e.lineNumbers!==!1&&i.push(WT()),e.highlightActiveLineGutter!==!1&&i.push(jT()),e.highlightSpecialChars!==!1&&i.push(IT()),e.history!==!1&&i.push(DA()),e.foldGutter!==!1&&i.push(yA()),e.drawSelection!==!1&&i.push(MT()),e.dropCursor!==!1&&i.push(NT()),e.allowMultipleSelections!==!1&&i.push(ie.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(cA()),e.syntaxHighlighting!==!1&&i.push(pd(SA,{fallback:!0})),e.bracketMatching!==!1&&i.push(CA()),e.closeBrackets!==!1&&i.push(V2()),e.autocompletion!==!1&&i.push(H2()),e.rectangularSelection!==!1&&i.push(BT()),n!==!1&&i.push(qT()),e.highlightActiveLine!==!1&&i.push(DT()),e.highlightSelectionMatches!==!1&&i.push(w2()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Uo.of(" ".repeat(e.tabSize))),i.concat([No.of(r.flat())]).filter(Boolean)};var pU="#e5c07b",J2="#e06c75",mU="#56b6c2",gU="#ffffff",zd="#abb2bf",w1="#7d8799",vU="#61afef",yU="#98c379",e_="#d19a66",xU="#c678dd",SU="#21252b",t_="#2c313a",n_="#282c34",k1="#353a42",kU="#3E4451",r_="#528bff";var wU=M.theme({"&":{color:zd,backgroundColor:n_},".cm-content":{caretColor:r_},".cm-cursor, .cm-dropCursor":{borderLeftColor:r_},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:kU},".cm-panels":{backgroundColor:SU,color:zd},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:n_,color:w1,border:"none"},".cm-activeLineGutter":{backgroundColor:t_},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:k1},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:k1,borderBottomColor:k1},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:t_,color:zd}}},{dark:!0}),bU=ea.define([{tag:T.keyword,color:xU},{tag:[T.name,T.deleted,T.character,T.propertyName,T.macroName],color:J2},{tag:[T.function(T.variableName),T.labelName],color:vU},{tag:[T.color,T.constant(T.name),T.standard(T.name)],color:e_},{tag:[T.definition(T.name),T.separator],color:zd},{tag:[T.typeName,T.className,T.number,T.changed,T.annotation,T.modifier,T.self,T.namespace],color:pU},{tag:[T.operator,T.operatorKeyword,T.url,T.escape,T.regexp,T.link,T.special(T.string)],color:mU},{tag:[T.meta,T.comment],color:w1},{tag:T.strong,fontWeight:"bold"},{tag:T.emphasis,fontStyle:"italic"},{tag:T.strikethrough,textDecoration:"line-through"},{tag:T.link,color:w1,textDecoration:"underline"},{tag:T.heading,fontWeight:"bold",color:J2},{tag:[T.atom,T.bool,T.special(T.variableName)],color:e_},{tag:[T.processingInstruction,T.string,T.inserted],color:yU},{tag:T.invalid,color:gU}]),i_=[wU,pd(bU)];var o_=M.theme({"&":{backgroundColor:"#fff"}},{dark:!1});var s_=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:o="light",placeholder:s="",basicSetup:a=!0}=e,l=[];switch(n&&l.unshift(No.of([m2])),a&&(typeof a=="boolean"?l.unshift(S1()):l.unshift(S1(a))),s&&l.unshift(FT(s)),o){case"light":l.push(o_);break;case"dark":l.push(i_);break;case"none":break;default:l.push(o);break}return r===!1&&l.push(M.editable.of(!1)),i&&l.push(ie.readOnly.of(!0)),[...l]};var a_=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});var Wd=class{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}},jd=class{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}},b1=null,l_=()=>typeof window>"u"?new jd:(b1||(b1=new jd),b1);var u_=nt.define(),CU=200,EU=[];function c_(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:o,onUpdate:s,extensions:a=EU,autoFocus:l,theme:u="light",height:c=null,minHeight:f=null,maxHeight:h=null,width:p=null,minWidth:d=null,maxWidth:g=null,placeholder:x="",editable:m=!0,readOnly:v=!1,indentWithTab:y=!0,basicSetup:k=!0,root:b,initialState:w}=t,[C,E]=(0,Kt.useState)(),[A,O]=(0,Kt.useState)(),[q,B]=(0,Kt.useState)(),z=(0,Kt.useState)(()=>({current:null}))[0],W=(0,Kt.useState)(()=>({current:null}))[0],Y=M.theme({"&":{height:c,minHeight:f,maxHeight:h,width:p,minWidth:d,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),Te=M.updateListener.of(ee=>{if(ee.docChanged&&typeof r=="function"&&!ee.transactions.some(Ye=>Ye.annotation(u_))){z.current?z.current.reset():(z.current=new Wd(()=>{if(W.current){var Ye=W.current;W.current=null,Ye()}z.current=null},CU),l_().add(z.current));var Me=ee.state.doc,Pe=Me.toString();r(Pe,ee)}i&&i(a_(ee))}),pe=s_({theme:u,editable:m,readOnly:v,placeholder:x,indentWithTab:y,basicSetup:k}),De=[Te,Y,...pe];return s&&typeof s=="function"&&De.push(M.updateListener.of(s)),De=De.concat(a),(0,Kt.useLayoutEffect)(()=>{if(C&&!q){var ee={doc:e,selection:n,extensions:De},Me=w?ie.fromJSON(w.json,ee,w.fields):ie.create(ee);if(B(Me),!A){var Pe=new M({state:Me,parent:C,root:b});O(Pe),o&&o(Pe,Me)}}return()=>{A&&(B(void 0),O(void 0))}},[C,q]),(0,Kt.useEffect)(()=>{t.container&&E(t.container)},[t.container]),(0,Kt.useEffect)(()=>()=>{A&&(A.destroy(),O(void 0)),z.current&&(z.current.cancel(),z.current=null)},[A]),(0,Kt.useEffect)(()=>{l&&A&&A.focus()},[l,A]),(0,Kt.useEffect)(()=>{A&&A.dispatch({effects:U.reconfigure.of(De)})},[u,a,c,f,h,p,d,g,x,m,v,y,k,r,s]),(0,Kt.useEffect)(()=>{if(e!==void 0){var ee=A?A.state.doc.toString():"";if(A&&e!==ee){var Me=z.current&&!z.current.isDone,Pe=()=>{A&&e!==A.state.doc.toString()&&A.dispatch({changes:{from:0,to:A.state.doc.toString().length,insert:e||""},annotations:[u_.of(!0)]})};Me?W.current=Pe:Pe()}}},[e,A]),{state:q,setState:B,view:A,setView:O,container:C,setContainer:E}}var p_=Nn(la(),1),PU=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],m_=(0,Gi.forwardRef)((t,e)=>{var{className:n,value:r="",selection:i,extensions:o=[],onChange:s,onStatistics:a,onCreateEditor:l,onUpdate:u,autoFocus:c,theme:f="light",height:h,minHeight:p,maxHeight:d,width:g,minWidth:x,maxWidth:m,basicSetup:v,placeholder:y,indentWithTab:k,editable:b,readOnly:w,root:C,initialState:E}=t,A=pC(t,PU),O=(0,Gi.useRef)(null),{state:q,view:B,container:z,setContainer:W}=c_({root:C,value:r,autoFocus:c,theme:f,height:h,minHeight:p,maxHeight:d,width:g,minWidth:x,maxWidth:m,basicSetup:v,placeholder:y,indentWithTab:k,editable:b,readOnly:w,selection:i,onChange:s,onStatistics:a,onCreateEditor:l,onUpdate:u,extensions:o,initialState:E});(0,Gi.useImperativeHandle)(e,()=>({editor:O.current,state:q,view:B}),[O,z,q,B]);var Y=(0,Gi.useCallback)(pe=>{O.current=pe,W(pe)},[W]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var Te=typeof f=="string"?"cm-theme-"+f:"cm-theme";return(0,p_.jsx)("div",ch({ref:Y,className:""+Te+(n?" "+n:"")},A))});m_.displayName="CodeMirror";var g_=m_;var H=Nn(q6(),1);var Oge=H.default.Alternation,Rge=H.default.Alternative,Mge=H.default.CstParser,Pge=H.default.EMPTY_ALT,Lge=H.default.EOF,Nge=H.default.EarlyExitException,Ige=H.default.EmbeddedActionsParser,Dge=H.default.GAstVisitor,Fge=H.default.LLkLookaheadStrategy,mS=H.default.Lexer,Bge=H.default.LexerDefinitionErrorType,qge=H.default.MismatchedTokenException,Vge=H.default.NoViableAltException,Uge=H.default.NonTerminal,zge=H.default.NotAllInputParsedException,Wge=H.default.Option,jge=H.default.Parser,Hge=H.default.ParserDefinitionErrorType,Gge=H.default.Repetition,Kge=H.default.RepetitionMandatory,$ge=H.default.RepetitionMandatoryWithSeparator,Yge=H.default.RepetitionWithSeparator,Xge=H.default.Rule,Zge=H.default.Terminal,Qge=H.default.VERSION,Jge=H.default.clearCache,e0e=H.default.createSyntaxDiagramsCode,Vt=H.default.createToken,t0e=H.default.createTokenInstance,n0e=H.default.defaultLexerErrorProvider,r0e=H.default.defaultParserErrorProvider,i0e=H.default.generateCstDts,o0e=H.default.getLookaheadPaths,s0e=H.default.isRecognitionException,a0e=H.default.serializeGrammar,l0e=H.default.serializeProduction,u0e=H.default.tokenLabel,c0e=H.default.tokenMatcher,f0e=H.default.tokenName;var Sle=Vt({name:"NewLine",pattern:/\n/}),kle=Vt({name:"DirectoryStart",pattern:/\//}),wle=Vt({name:"FileExtension",pattern:/\.(tsx|jsx|ts|js|json|css|scss|html|md|py|java|cpp|c|go|rs|rb|php|yaml|yml|xml|sql|sh|bash)/}),ble=Vt({name:"Component",pattern:/%[a-zA-Z][a-zA-Z0-9_]*/}),Cle=Vt({name:"FunctionToken",pattern:/\$[a-zA-Z][a-zA-Z0-9_]*\(\)/}),Ele=Vt({name:"Reference",pattern:/@[a-zA-Z][a-zA-Z0-9_]*(\.[a-zA-Z][a-zA-Z0-9_]*)*/}),Tle=Vt({name:"Variable",pattern:/var[a-zA-Z][a-zA-Z0-9_]*/}),Ale=Vt({name:"UserNote",pattern:/#/}),_le=Vt({name:"StringLiteral",pattern:/"[^"]*"/}),Ole=Vt({name:"NumberLiteral",pattern:/\d+(\.\d+)?/}),Rle=Vt({name:"Equals",pattern:/=/}),Mle=Vt({name:"Identifier",pattern:/[a-zA-Z][a-zA-Z0-9_\-]*/}),Ple=Vt({name:"Content",pattern:/[^\n\r]+/}),Lle=Vt({name:"WhiteSpace",pattern:/[ \t]+/,group:mS.SKIPPED}),Nle=[Lle,Ale,_le,Ole,ble,Tle,Ele,Cle,wle,kle,Rle,Mle,Ple,Sle],V6=new mS(Nle);function Ile(t){switch(t){case"DirectoryStart":return"cm-directoryStart";case"Reference":return"cm-reference";case"FunctionToken":return"cm-function";case"Component":return"cm-component";case"Variable":return"cm-variable";case"FileExtension":return"cm-fileExtension";case"Identifier":return"cm-identifier";case"Comment":return"cm-comment";case"StringLiteral":return"cm-string";case"NumberLiteral":return"cm-number";case"BooleanLiteral":return"cm-boolean";case"SuggestionPrefix":return"cm-suggestion-prefix";case"FeedbackPrefix":return"cm-feedback-prefix";case"UserNote":return"cm-user-note";case"ToolTrigger":return"cm-tool-trigger";case"Content":return"cm-content-token";default:return"cm-defaultToken"}}var Dle=Z.fromClass(class{constructor(t){this.decorations=this.buildDecorations(t.state.doc.toString())}update(t){t.docChanged&&(this.decorations=this.buildDecorations(t.state.doc.toString()))}buildDecorations(t){let e=t.split(`
`),n=[],r=0;for(let o=0;o<e.length;o++){let s=e[o];if(s.trim()){let l=V6.tokenize(s);for(let u of l.tokens){let c=Ile(u.tokenType.name),f=P.mark({class:c}),h=r+u.startOffset,p=r+(u.endOffset??u.startOffset+u.image.length-1)+1;h!=null&&p!=null&&h<p&&n.push({from:h,to:p,decoration:f})}this.collectStructuralDecorations(n,s,r,o)}r+=s.length+1}n.sort((o,s)=>o.from-s.from);let i=new Be;for(let{from:o,to:s,decoration:a}of n)i.add(o,s,a);return i.finish()}collectStructuralDecorations(t,e,n,r){let i=e.match(/^(\s*)/),o=i?i[1]:"",s=Math.floor(o.length/2),a=e.trim();if(!a)return;if(this.isStructuralLine(a)&&s>0){let u=P.mark({class:"cm-structure-connection",attributes:{style:`--parent-indent: ${s-1};`}});t.push({from:n,to:n+e.length,decoration:u})}}isStructuralLine(t){return t.startsWith("/")&&!t.includes(".")||!!t.match(/^[a-zA-Z][a-zA-Z0-9_]*\.(tsx?|jsx?|ts|js|json|css|scss|html|md)$/)||!!t.match(/^\$[a-zA-Z][a-zA-Z0-9_]*\(\)$/)||!!t.match(/^%[a-zA-Z][a-zA-Z0-9_]*$/)||t.startsWith("#")||!!t.match(/^@[a-zA-Z][a-zA-Z0-9_]*(\.[a-zA-Z][a-zA-Z0-9_]*)*$/)}},{decorations:t=>t.decorations});function U6(){return Dle}function gS(t){let e=t.match(/^(\s*)/);return e?Math.floor(e[1].length/2):0}function z6(t){let e=[],n=t.toString().split(`
`);for(let r=0;r<n.length;r++){let i=n[r],o=i.trim(),s=gS(i);if(!o)continue;let a=null;if(o.startsWith("/")&&!o.includes(".")?a="directory":o.match(/\.(tsx?|jsx?|ts|js|json|css|scss|html|md|vue|py|java|cpp|c|go|rs|php|rb|swift|kt|dart)$/)?a="file":o.startsWith("%")?a="component":o.startsWith("$")&&o.includes("()")&&(a="function"),a){let l=Fle(n,r,s);if(l>r){let u=t.line(r+1).from,c=t.line(l+1).to;e.push({from:u,to:c,type:a,indentLevel:s})}}}return e}function Fle(t,e,n){let r=e;for(let i=e+1;i<t.length;i++){let o=t[i];if(!o.trim())continue;if(gS(o)<=n)break;r=i}return r}var j6=re.define({create(t){return z6(t.doc)},update(t,e){return e.docChanged?z6(e.state.doc):t}});function W6(t,e,n){let r=t.field(j6,!1);if(!r)return null;let o=t.doc.lineAt(e),s=o.text,a=s.trim(),l=gS(s);if(!(a.startsWith("/")&&!a.includes(".")||a.match(/\.(tsx?|jsx?|ts|js|json|css|scss|html|md|vue|py|java|cpp|c|go|rs|php|rb|swift|kt|dart)$/)||a.startsWith("%")||a.startsWith("$")&&a.includes("()")))return null;let c=r.find(f=>f.from<=e&&f.to>=n&&f.indentLevel===l);return c&&c.to>c.from?{from:o.to,to:c.to}:null}function H6(){return[j6,qy.of(W6),Z.fromClass(class{constructor(t){this.view=t}update(t){}}),M.domEventHandlers({keydown(t,e){if(t.ctrlKey&&t.shiftKey&&t.key==="["){t.preventDefault();let{state:n}=e,{selection:r}=n,i=n.doc.lineAt(r.main.head),o=W6(n,i.from,i.to);return o&&e.dispatch({effects:na.of(o)}),!0}if(t.ctrlKey&&t.shiftKey&&t.key==="]"){t.preventDefault();let{state:n}=e,{selection:r}=n,i=n.doc.lineAt(r.main.head);return e.dispatch({effects:zo.of({from:i.from,to:i.to})}),!0}return!1}})]}var vS=class extends Ue{constructor(n,r=0){super();this.iconType=n;this.level=r}toDOM(){let n=document.createElement("span");switch(n.className=`cm-file-structure-icon cm-${this.iconType}-icon`,n.style.marginLeft=`${this.level*16}px`,n.style.display="inline-block",n.style.width="16px",n.style.height="16px",n.style.marginRight="6px",n.style.verticalAlign="text-top",this.iconType){case"directory":n.innerHTML='<svg viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M853.333333 256H469.333333l-85.333333-85.333333H170.666667c-46.933333 0-85.333333 38.4-85.333334 85.333333v170.666667h853.333334v-85.333334c0-46.933333-38.4-85.333333-85.333334-85.333333z" fill="#FFA000"></path><path d="M853.333333 256H170.666667c-46.933333 0-85.333333 38.4-85.333334 85.333333v426.666667c0 46.933333 38.4 85.333333 85.333334 85.333333h682.666666c46.933333 0 85.333333-38.4 85.333334-85.333333V341.333333c0-46.933333-38.4-85.333333-85.333334-85.333333z" fill="#FFCA28"></path></g></svg>',n.style.color="#f59e0b";break;case"file-jsx":case"file-tsx":n.innerHTML='<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M18.6789 15.9759C18.6789 14.5415 17.4796 13.3785 16 13.3785C14.5206 13.3785 13.3211 14.5415 13.3211 15.9759C13.3211 17.4105 14.5206 18.5734 16 18.5734C17.4796 18.5734 18.6789 17.4105 18.6789 15.9759Z" fill="#53C1DE"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M24.7004 11.1537C25.2661 8.92478 25.9772 4.79148 23.4704 3.39016C20.9753 1.99495 17.7284 4.66843 16.0139 6.27318C14.3044 4.68442 10.9663 2.02237 8.46163 3.42814C5.96751 4.82803 6.73664 8.8928 7.3149 11.1357C4.98831 11.7764 1 13.1564 1 15.9759C1 18.7874 4.98416 20.2888 7.29698 20.9289C6.71658 23.1842 5.98596 27.1909 8.48327 28.5877C10.9973 29.9932 14.325 27.3945 16.0554 25.7722C17.7809 27.3864 20.9966 30.0021 23.4922 28.6014C25.9956 27.1963 25.3436 23.1184 24.7653 20.8625C27.0073 20.221 31 18.7523 31 15.9759C31 13.1835 26.9903 11.7923 24.7004 11.1537ZM24.4162 19.667C24.0365 18.5016 23.524 17.2623 22.8971 15.9821C23.4955 14.7321 23.9881 13.5088 24.3572 12.3509C26.0359 12.8228 29.7185 13.9013 29.7185 15.9759C29.7185 18.07 26.1846 19.1587 24.4162 19.667ZM22.85 27.526C20.988 28.571 18.2221 26.0696 16.9478 24.8809C17.7932 23.9844 18.638 22.9422 19.4625 21.7849C20.9129 21.6602 22.283 21.4562 23.5256 21.1777C23.9326 22.7734 24.7202 26.4763 22.85 27.526ZM9.12362 27.5111C7.26143 26.47 8.11258 22.8946 8.53957 21.2333C9.76834 21.4969 11.1286 21.6865 12.5824 21.8008C13.4123 22.9332 14.2816 23.9741 15.1576 24.8857C14.0753 25.9008 10.9945 28.557 9.12362 27.5111ZM2.28149 15.9759C2.28149 13.874 5.94207 12.8033 7.65904 12.3326C8.03451 13.5165 8.52695 14.7544 9.12123 16.0062C8.51925 17.2766 8.01977 18.5341 7.64085 19.732C6.00369 19.2776 2.28149 18.0791 2.28149 15.9759ZM9.1037 4.50354C10.9735 3.45416 13.8747 6.00983 15.1159 7.16013C14.2444 8.06754 13.3831 9.1006 12.5603 10.2265C11.1494 10.3533 9.79875 10.5569 8.55709 10.8297C8.09125 9.02071 7.23592 5.55179 9.1037 4.50354ZM20.3793 11.5771C21.3365 11.6942 22.2536 11.85 23.1147 12.0406C22.8562 12.844 22.534 13.6841 22.1545 14.5453C21.6044 13.5333 21.0139 12.5416 20.3793 11.5771ZM16.0143 8.0481C16.6054 8.66897 17.1974 9.3623 17.7798 10.1145C16.5985 10.0603 15.4153 10.0601 14.234 10.1137C14.8169 9.36848 15.414 8.67618 16.0143 8.0481ZM9.8565 14.5444C9.48329 13.6862 9.16398 12.8424 8.90322 12.0275C9.75918 11.8418 10.672 11.69 11.623 11.5748C10.9866 12.5372 10.3971 13.5285 9.8565 14.5444ZM11.6503 20.4657C10.6679 20.3594 9.74126 20.2153 8.88556 20.0347C9.15044 19.2055 9.47678 18.3435 9.85796 17.4668C10.406 18.4933 11.0045 19.4942 11.6503 20.4657ZM16.0498 23.9915C15.4424 23.356 14.8365 22.6531 14.2448 21.8971C15.4328 21.9423 16.6231 21.9424 17.811 21.891C17.2268 22.6608 16.6369 23.3647 16.0498 23.9915ZM22.1667 17.4222C22.5677 18.3084 22.9057 19.1657 23.1742 19.9809C22.3043 20.1734 21.3652 20.3284 20.3757 20.4435C21.015 19.4607 21.6149 18.4536 22.1667 17.4222ZM18.7473 20.5941C16.9301 20.72 15.1016 20.7186 13.2838 20.6044C12.2509 19.1415 11.3314 17.603 10.5377 16.0058C11.3276 14.4119 12.2404 12.8764 13.2684 11.4158C15.0875 11.2825 16.9178 11.2821 18.7369 11.4166C19.7561 12.8771 20.6675 14.4086 21.4757 15.9881C20.6771 17.5812 19.7595 19.1198 18.7473 20.5941ZM22.8303 4.4666C24.7006 5.51254 23.8681 9.22726 23.4595 10.8426C22.2149 10.5641 20.8633 10.3569 19.4483 10.2281C18.6239 9.09004 17.7698 8.05518 16.9124 7.15949C18.1695 5.98441 20.9781 3.43089 22.8303 4.4666Z" fill="#53C1DE"></path> </g></svg>',n.style.color="#3b82f6";break;case"file-js":n.innerHTML='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>file_type_js</title><path d="M18.774,19.7a3.727,3.727,0,0,0,3.376,2.078c1.418,0,2.324-.709,2.324-1.688,0-1.173-.931-1.589-2.491-2.272l-.856-.367c-2.469-1.052-4.11-2.37-4.11-5.156,0-2.567,1.956-4.52,5.012-4.52A5.058,5.058,0,0,1,26.9,10.52l-2.665,1.711a2.327,2.327,0,0,0-2.2-1.467,1.489,1.489,0,0,0-1.638,1.467c0,1.027.636,1.442,2.1,2.078l.856.366c2.908,1.247,4.549,2.518,4.549,5.376,0,3.081-2.42,4.769-5.671,4.769a6.575,6.575,0,0,1-6.236-3.5ZM6.686,20c.538.954,1.027,1.76,2.2,1.76,1.124,0,1.834-.44,1.834-2.15V7.975h3.422V19.658c0,3.543-2.078,5.156-5.11,5.156A5.312,5.312,0,0,1,3.9,21.688Z" style="fill:#f5de19"></path></g></svg>',n.style.color="#f59e0b";break;case"file-ts":n.innerHTML='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>file_type_typescript</title><path d="M23.827,8.243A4.424,4.424,0,0,1,26.05,9.524a5.853,5.853,0,0,1,.852,1.143c.011.045-1.534,1.083-2.471,1.662-.034.023-.169-.124-.322-.35a2.014,2.014,0,0,0-1.67-1c-1.077-.074-1.771.49-1.766,1.433a1.3,1.3,0,0,0,.153.666c.237.49.677.784,2.059,1.383,2.544,1.095,3.636,1.817,4.31,2.843a5.158,5.158,0,0,1,.416,4.333,4.764,4.764,0,0,1-3.932,2.815,10.9,10.9,0,0,1-2.708-.028,6.531,6.531,0,0,1-3.616-1.884,6.278,6.278,0,0,1-.926-1.371,2.655,2.655,0,0,1,.327-.208c.158-.09.756-.434,1.32-.761L19.1,19.6l.214.312a4.771,4.771,0,0,0,1.35,1.292,3.3,3.3,0,0,0,3.458-.175,1.545,1.545,0,0,0,.2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8,8.8,0,0,1-3.349-2.055,4.687,4.687,0,0,1-.976-1.777,7.116,7.116,0,0,1-.062-2.268,4.332,4.332,0,0,1,3.644-3.374A9,9,0,0,1,23.827,8.243ZM15.484,9.726l.011,1.454h-4.63V24.328H7.6V11.183H2.97V9.755A13.986,13.986,0,0,1,3.01,8.289c.017-.023,2.832-.034,6.245-.028l6.211.017Z" style="fill:#007acc"></path></g></svg>';break;case"file-css":n.innerHTML='<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M6 28L4 3H28L26 28L16 31L6 28Z" fill="#1172B8"></path> <path d="M26 5H16V29.5L24 27L26 5Z" fill="#33AADD"></path> <path d="M19.5 17.5H9.5L9 14L17 11.5H9L8.5 8.5H24L23.5 12L17 14.5H23L22 24L16 26L10 24L9.5 19H12.5L13 21.5L16 22.5L19 21.5L19.5 17.5Z" fill="white"></path> </g></svg>',n.style.color="#1172B8";break;case"file-html":n.innerHTML='<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M6 28L4 3H28L26 28L16 31L6 28Z" fill="#E44D26"></path> <path d="M26 5H16V29.5L24 27L26 5Z" fill="#F16529"></path> <path d="M9.5 17.5L8.5 8H24L23.5 11H11.5L12 14.5H23L22 24L16 26L10 24L9.5 19H12.5L13 21.5L16 22.5L19 21.5L19.5 17.5H9.5Z" fill="white"></path> </g></svg>',n.style.color="#F16529";break;case"file-md":n.innerHTML='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>file_type_markdown</title><rect x="2.5" y="7.955" width="27" height="16.091" style="fill:none;stroke:#755838"></rect><polygon points="5.909 20.636 5.909 11.364 8.636 11.364 11.364 14.773 14.091 11.364 16.818 11.364 16.818 20.636 14.091 20.636 14.091 15.318 11.364 18.727 8.636 15.318 8.636 20.636 5.909 20.636" style="fill:#755838"></polygon><polygon points="22.955 20.636 18.864 16.136 21.591 16.136 21.591 11.364 24.318 11.364 24.318 16.136 27.045 16.136 22.955 20.636" style="fill:#755838"></polygon></g></svg>',n.style.color="#3b82f6";break;case"file-json":n.innerHTML='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>file_type_json</title><path d="M4.014,14.976a2.51,2.51,0,0,0,1.567-.518A2.377,2.377,0,0,0,6.386,13.1,15.261,15.261,0,0,0,6.6,10.156q.012-2.085.075-2.747a5.236,5.236,0,0,1,.418-1.686,3.025,3.025,0,0,1,.755-1.018A3.046,3.046,0,0,1,9,4.125,6.762,6.762,0,0,1,10.544,4h.7V5.96h-.387a2.338,2.338,0,0,0-1.723.468A3.4,3.4,0,0,0,8.709,8.52a36.054,36.054,0,0,1-.137,4.133,4.734,4.734,0,0,1-.768,2.06A4.567,4.567,0,0,1,6.1,16a3.809,3.809,0,0,1,1.992,1.754,8.861,8.861,0,0,1,.618,3.865q0,2.435.05,2.9A1.755,1.755,0,0,0,9.264,25.7a2.639,2.639,0,0,0,1.592.337h.387V28h-.7a5.655,5.655,0,0,1-1.773-.2,2.97,2.97,0,0,1-1.324-.93,3.353,3.353,0,0,1-.681-1.63A24.175,24.175,0,0,1,6.6,22.006,16.469,16.469,0,0,0,6.386,18.9a2.408,2.408,0,0,0-.805-1.361,2.489,2.489,0,0,0-1.567-.524Z" style="fill:#f5de19"></path><path d="M27.986,17.011a2.489,2.489,0,0,0-1.567.524,2.408,2.408,0,0,0-.805,1.361,16.469,16.469,0,0,0-.212,3.109,24.175,24.175,0,0,1-.169,3.234,3.353,3.353,0,0,1-.681,1.63,2.97,2.97,0,0,1-1.324.93,5.655,5.655,0,0,1-1.773.2h-.7V26.04h.387a2.639,2.639,0,0,0,1.592-.337,1.755,1.755,0,0,0,.506-1.186q.05-.462.05-2.9a8.861,8.861,0,0,1,.618-3.865A3.809,3.809,0,0,1,25.9,16a4.567,4.567,0,0,1-1.7-1.286,4.734,4.734,0,0,1-.768-2.06,36.054,36.054,0,0,1-.137-4.133,3.4,3.4,0,0,0-.425-2.092,2.338,2.338,0,0,0-1.723-.468h-.387V4h.7A6.762,6.762,0,0,1,23,4.125a3.046,3.046,0,0,1,1.149.581,3.025,3.025,0,0,1,.755,1.018,5.236,5.236,0,0,1,.418,1.686q.062.662.075,2.747a15.261,15.261,0,0,0,.212,2.947,2.377,2.377,0,0,0,.805,1.355,2.51,2.51,0,0,0,1.567.518Z" style="fill:#f5de19"></path></g></svg>',n.style.color="#3b82f6";break;case"function":n.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.576"></g><g id="SVGRepo_iconCarrier"> <path d="M13.5 4.50012C10.5 3.50012 9.5 7.00012 9.5 7.00012L7 16.0001C7 16.0001 5.5 20.0001 2.5 19.0001M5.5 9.00007H14L16 15.0001C16 15.0001 17 17.0001 18.5 15.5001M11 15.5C13.5 16.5 16.5 8.50001 19 9.00001" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',n.style.color="#10b981";break;case"component":n.innerHTML='<svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>function-block</title> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Combined-Shape" fill="#8b5cf6"> <path d="M362.666667,85.3333333 L362.666333,234.666333 L426.666667,234.666667 L426.666667,277.333333 L362.666333,277.333333 L362.666667,426.666667 L149.333333,426.666667 L149.333333,341.333333 L85.3333333,341.333333 L85.3333333,298.666667 L149.333333,298.666333 L149.333333,213.333333 L85.3333333,213.333333 L85.3333333,170.666667 L149.333333,170.666333 L149.333333,85.3333333 L362.666667,85.3333333 Z M320,128 L192,128 L192,384 L320,384 L320,128 Z"> </path> </g> </g> </g></svg>',n.style.color="#8b5cf6";break;case"reference":n.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7071 18.364L13.0607 18.0104C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097Z" fill="#f59e0b"></path> <path d="M10.9393 15.8891L9.52513 14.4749C6.79146 11.7412 6.79146 7.309 9.52513 4.57534L9.87868 4.22179C12.6124 1.48812 17.0445 1.48812 19.7782 4.22179C22.5119 6.95546 22.5119 11.3876 19.7782 14.1213L18.364 12.7071C20.3166 10.7544 20.3166 7.58861 18.364 5.63599C16.4114 3.68337 13.2456 3.68337 11.293 5.63599L10.9393 5.98954C8.98670 7.94216 8.98670 11.1080 10.9393 13.0606L12.3535 14.4749L10.9393 15.8891Z" fill="#f59e0b"></path> </g></svg>',n.style.color="#f59e0b";break;case"user_note":n.innerHTML='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#000000" transform="matrix(-1, 0, 0, 1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>comment-3</title> <desc>Created with Sketch Beta.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Icon-Set" sketch:type="MSLayerGroup" transform="translate(-204.000000, -255.000000)" fill="#000000"> <path d="M228,267 C226.896,267 226,267.896 226,269 C226,270.104 226.896,271 228,271 C229.104,271 230,270.104 230,269 C230,267.896 229.104,267 228,267 L228,267 Z M220,281 C218.832,281 217.704,280.864 216.62,280.633 L211.912,283.463 L211.975,278.824 C208.366,276.654 206,273.066 206,269 C206,262.373 212.268,257 220,257 C227.732,257 234,262.373 234,269 C234,275.628 227.732,281 220,281 L220,281 Z M220,255 C211.164,255 204,261.269 204,269 C204,273.419 206.345,277.354 210,279.919 L210,287 L217.009,282.747 C217.979,282.907 218.977,283 220,283 C228.836,283 236,276.732 236,269 C236,261.269 228.836,255 220,255 L220,255 Z M212,267 C210.896,267 210,267.896 210,269 C210,270.104 210.896,271 212,271 C213.104,271 214,270.104 214,269 C214,267.896 213.104,267 212,267 L212,267 Z M220,267 C218.896,267 218,267.896 218,269 C218,270.104 218.896,271 220,271 C221.104,271 222,270.104 222,269 C222,267.896 221.104,267 220,267 L220,267 Z" id="comment-3" sketch:type="MSShapeGroup"> </path> </g> </g> </g></svg>',n.style.color="#6b7280";break;default:n.innerHTML="",n.style.color="#6b7280"}return n}};function Ble(t){let e=t.match(/^(\s*)/);return e?Math.floor(e[1].length/2):0}function qle(t){let e=t.toLowerCase();return e.includes(".ts")||e.includes(".tsx")?"file-ts":e.includes(".js")||e.includes(".jsx")?"file-js":e.includes(".css")||e.includes(".scss")?"file-css":e.includes(".html")?"file-html":e.includes(".md")?"file-md":e.includes(".json")?"file-json":e.includes(".txt")?"file-txt":e.includes(".yml")?"file-yml":e.includes(".yaml")?"file-yaml":"file"}function Vle(t,e){let n=[],r=t.trim(),i=Ble(t);if(!r)return n;let o="",s=!1;if(r.startsWith("/")&&!r.includes("."))o="directory",s=!0;else if(r.match(/^[a-zA-Z][a-zA-Z0-9_]*\.(tsx?|jsx?|ts|js|json|css|scss|html|md)$/)){let a=r.match(/\.(tsx?|jsx?|ts|js|json|css|scss|html|md)$/)?.[0]||"";o=qle(a),s=!0}else r.match(/^\$[a-zA-Z][a-zA-Z0-9_]*\(\)$/)?(o="function",s=!0):r.match(/^%[a-zA-Z][a-zA-Z0-9_]*$/)?(o="component",s=!0):r.startsWith("#")?(o="user_note",s=!0):r.match(/^@[a-zA-Z][a-zA-Z0-9_]*(\.[a-zA-Z][a-zA-Z0-9_]*)*$/)&&(o="reference",s=!0);if(s){let a=P.widget({widget:new vS(o,i),side:-1}),l=t.match(/^(\s*)/),u=l?l[1].length:0;n.push(a)}return n}var Ule=Z.fromClass(class{constructor(t){this.decorations=this.buildDecorations(t)}update(t){(t.docChanged||t.viewportChanged)&&(this.decorations=this.buildDecorations(t.view))}buildDecorations(t){let e=new Be,n=t.state.doc;for(let r=1;r<=n.lines;r++){let i=n.line(r),o=Vle(i.text,r);for(let s of o){let a=i.text.match(/^(\s*)/),l=a?a[1].length:0,u=i.from+l;e.add(u,u,s)}}return e.finish()}},{decorations:t=>t.decorations});function G6(){return Ule}var xS=U.define(),SS=U.define(),kS=U.define(),$6=re.define({create(){return[]},update(t,e){for(let n of e.effects){if(n.is(xS))return n.value.map((r,i)=>({...r,id:r.id||`change-${Date.now()}-${i}`}));if(n.is(SS))return[];if(n.is(kS))return console.log("rejecting change",t.find(r=>r.id===n.value.changeId)),t.filter(r=>r.id!==n.value.changeId)}return t}}),zle=P.line({class:"cm-feedbackAddedLine",attributes:{"data-feedback-type":"added"}}),Wle=P.line({class:"cm-feedbackModifiedLine",attributes:{"data-feedback-type":"modified"}}),jle=P.line({class:"cm-feedbackRenamedLine",attributes:{"data-feedback-type":"renamed"}}),Hle=P.line({class:"cm-feedbackMovedLine",attributes:{"data-feedback-type":"moved"}}),Gle=P.line({class:"cm-feedbackRefactoredLine",attributes:{"data-feedback-type":"refactored"}}),Kle=new class extends Ge{constructor(){super(...arguments);this.elementClass="cm-feedbackAddedGutter"}},$le=new class extends Ge{constructor(){super(...arguments);this.elementClass="cm-feedbackModifiedGutter"}},Yle=new class extends Ge{constructor(){super(...arguments);this.elementClass="cm-feedbackRemovedGutter"}},Xle=new class extends Ge{constructor(){super(...arguments);this.elementClass="cm-feedbackRenamedGutter"}},Zle=new class extends Ge{constructor(){super(...arguments);this.elementClass="cm-feedbackMovedGutter"}},Qle=new class extends Ge{constructor(){super(...arguments);this.elementClass="cm-feedbackRefactoredGutter"}},yS=class extends Ue{constructor(n,r,i,o){super();this.content=n;this.elementName=r;this.changeId=i;this.view=o}toDOM(n){let r=document.createElement("div");r.className="cm-feedbackDeletedChunk";let i=r.appendChild(document.createElement("div"));i.className="cm-feedbackButtonContainer";let o=i.appendChild(document.createElement("button"));if(o.className="cm-feedbackRejectButton",o.textContent="\u2715",o.title="Restore this content",o.onclick=s=>{s.preventDefault(),s.stopPropagation(),console.log("rejecting change",this.changeId),this.view.dispatch({effects:kS.of({changeId:this.changeId})}),window.dispatchEvent(new CustomEvent("feedbackChangeRejected",{detail:{changeId:this.changeId,type:"remove",content:this.content,elementName:this.elementName}}))},this.content.trim()){let s=r.appendChild(document.createElement("div"));s.className="cm-feedbackDeletedContent",this.content.split(`
`).forEach((l,u)=>{u>0&&s.appendChild(document.createElement("br"));let c=s.appendChild(document.createElement("del"));c.className="cm-feedbackDeletedText",c.textContent=l})}return r}get estimatedHeight(){let n=this.content.split(`
`).length;return Math.max(40,n*20+30)}},as=class extends Ue{constructor(n,r,i,o){super();this.changeType=n;this.changeId=r;this.view=i;this.originalContent=o}toDOM(n){let r=document.createElement("div");r.className="cm-feedbackHoverButton";let i=r.appendChild(document.createElement("button"));switch(i.className="cm-feedbackRejectButton",this.changeType){case"add":i.textContent="\u2715",i.title="Remove this addition";break;case"modify":i.textContent="\u21B6",i.title="Revert this change";break;case"rename":i.textContent="\u21B6",i.title=`Revert rename (was: ${this.originalContent||"unknown"})`;break;case"move":i.textContent="\u21B6",i.title=`Revert move (from: ${this.originalContent||"unknown"})`;break;case"refactor":i.textContent="\u21B6",i.title=`Revert refactor (${this.originalContent||"refactor"})`;break}return i.onclick=o=>{o.preventDefault(),o.stopPropagation(),this.view.dispatch({effects:kS.of({changeId:this.changeId})}),window.dispatchEvent(new CustomEvent("feedbackChangeRejected",{detail:{changeId:this.changeId,type:this.changeType,originalContent:this.originalContent}}))},r}get estimatedHeight(){return 0}};function Jle(t,e){let n=t.toString().split(`
`);if(e.lineNumber&&e.lineNumber>0&&e.lineNumber<=n.length)return e.lineNumber;let r=e.element,i=[];switch(r.type){case"component":i.push(`%${r.name}`);break;case"function":i.push(`$${r.name}()`);break;case"file":if(i.push(r.name),r.path){let o=r.path.split("/"),s=o[o.length-1];s!==r.name&&i.push(s)}break;case"directory":if(i.push(`/${r.name}`),r.path){let o=r.path.split("/").pop();o&&o!==r.name&&i.push(`/${o}`)}break;case"reference":i.push(`@${r.name}`),r.path&&i.push(`@${r.path}`);break;default:i.push(r.name)}if(e.indentLevel!==void 0){for(let o=0;o<n.length;o++){let s=n[o],a=s.match(/^(\s*)/)?.[1]||"",l=s.trim();if(Math.floor(a.length/2)===e.indentLevel){for(let c of i)if(l===c)return o+1}}for(let o=0;o<n.length;o++){let s=n[o],a=s.match(/^(\s*)/)?.[1]||"",l=s.trim();if(Math.floor(a.length/2)===e.indentLevel){for(let c of i)if(l.includes(c))return o+1}}}for(let o=0;o<n.length;o++){let s=n[o].trim();for(let a of i)if(s===a)return o+1}for(let o=0;o<n.length;o++){let s=n[o].trim();for(let a of i)if(s.includes(a))return o+1}return-1}function K6(t){let e=t.state.field($6),n=t.state.doc,r=new Be,i=new Be,o=new Map;for(let u of e){let c=Jle(n,u);c>0&&(o.has(c)||o.set(c,[]),o.get(c).push(u))}let s=Array.from(o.keys()).sort((u,c)=>u-c);for(let u of s){let c=o.get(u),f;u<=n.lines?f=n.line(u):f=n.line(n.lines);let p=c.sort((d,g)=>{let x={remove:6,refactor:5,move:4,rename:3,modify:2,add:1};return(x[g.type]||0)-(x[d.type]||0)})[0];switch(p.type){case"add":r.add(f.from,f.from,zle),i.add(f.from,f.from,Kle);let d=P.widget({widget:new as("add",p.id||"unknown",t),side:1});r.add(f.to,f.to,d);break;case"modify":r.add(f.from,f.from,Wle),i.add(f.from,f.from,$le);let g=P.widget({widget:new as("modify",p.id||"unknown",t,p.originalContent),side:1});r.add(f.to,f.to,g);break;case"rename":r.add(f.from,f.from,jle),i.add(f.from,f.from,Xle);let x=P.widget({widget:new as("rename",p.id||"unknown",t,p.fromName),side:1});r.add(f.to,f.to,x);break;case"move":r.add(f.from,f.from,Hle),i.add(f.from,f.from,Zle);let m=P.widget({widget:new as("move",p.id||"unknown",t,p.fromPath),side:1});r.add(f.to,f.to,m);break;case"refactor":r.add(f.from,f.from,Gle),i.add(f.from,f.from,Qle);let v=P.widget({widget:new as("refactor",p.id||"unknown",t,p.refactorType),side:1});r.add(f.to,f.to,v);break;case"remove":let y=P.widget({widget:new yS(p.content||"",p.element.name,p.id||"unknown",t),side:1});r.add(f.from,f.from,y),i.add(f.from,f.from,Yle);break}}let a=r.finish(),l=i.finish();return{deco:a,gutter:l}}var Y6=Z.fromClass(class{constructor(t){let e=K6(t);this.deco=e.deco,this.gutter=e.gutter}update(t){if(t.transactions.some(n=>n.effects.some(r=>r.is(xS)||r.is(SS)))){let n=K6(t.view);this.deco=n.deco,this.gutter=n.gutter}else t.docChanged&&(this.deco=this.deco.map(t.changes),this.gutter=this.gutter.map(t.changes))}},{decorations:t=>t.deco}),eue=ln.low(Ru({class:"cm-feedbackGutter",markers:t=>t.plugin(Y6)?.gutter||oe.empty})),tue=M.baseTheme({".cm-feedbackAddedLine":{backgroundColor:"rgba(34, 187, 34, 0.15)",paddingLeft:"4px",position:"relative"},".cm-feedbackModifiedLine":{backgroundColor:"rgba(255, 165, 0, 0.15)",borderLeft:"3px solid rgba(255, 165, 0, 0.6)",paddingLeft:"4px",position:"relative"},".cm-feedbackRenamedLine":{backgroundColor:"rgba(58, 150, 221, 0.15)",borderLeft:"3px solid rgba(58, 150, 221, 0.6)",paddingLeft:"4px",position:"relative"},".cm-feedbackMovedLine":{backgroundColor:"rgba(147, 112, 219, 0.15)",borderLeft:"3px solid rgba(147, 112, 219, 0.6)",paddingLeft:"4px",position:"relative"},".cm-feedbackRefactoredLine":{backgroundColor:"rgba(0, 150, 136, 0.15)",borderLeft:"3px solid rgba(0, 150, 136, 0.6)",paddingLeft:"4px",position:"relative"},".cm-feedbackRemovedLine":{backgroundColor:"rgba(238, 68, 51, 0.1)"},".cm-feedbackDeletedChunk":{backgroundColor:"rgba(238, 68, 51, 0.05)",border:"1px solid rgba(238, 68, 51, 0.2)",borderRadius:"4px",position:"relative"},".cm-feedbackDeletedContent":{fontFamily:"monospace",fontSize:"0.9em",lineHeight:"1.4"},".cm-feedbackDeletedText":{textDecoration:"line-through",color:"#666",opacity:.8},".cm-feedbackGutter":{width:"4px",paddingLeft:"1px"},".cm-feedbackAddedGutter":{background:"#22bb22",borderRadius:"2px"},".cm-feedbackModifiedGutter":{background:"#ffa500",borderRadius:"2px"},".cm-feedbackRenamedGutter":{background:"#3a96dd",borderRadius:"2px"},".cm-feedbackMovedGutter":{background:"#9370db",borderRadius:"2px"},".cm-feedbackRefactoredGutter":{background:"#009688",borderRadius:"2px"},".cm-feedbackRemovedGutter":{background:"#ee4433",borderRadius:"2px"},".cm-feedbackHoverButton":{display:"inline-block",marginLeft:"8px",opacity:"0",transition:"opacity 0.2s ease",pointerEvents:"none",position:"relative",zIndex:"10"},".cm-line:hover .cm-feedbackHoverButton":{opacity:"1",pointerEvents:"auto"},".cm-feedbackAddedLine:hover .cm-feedbackHoverButton, .cm-feedbackModifiedLine:hover .cm-feedbackHoverButton, .cm-feedbackRenamedLine:hover .cm-feedbackHoverButton, .cm-feedbackMovedLine:hover .cm-feedbackHoverButton, .cm-feedbackRefactoredLine:hover .cm-feedbackHoverButton":{opacity:"1",pointerEvents:"auto"},".cm-feedbackRejectButton":{background:"rgba(238, 68, 51, 0.8)",color:"white",border:"none",borderRadius:"3px",padding:"2px 6px",fontSize:"12px",cursor:"pointer",fontWeight:"bold",transition:"background-color 0.2s ease"},".cm-feedbackRejectButton:hover":{background:"rgba(238, 68, 51, 1)"},".cm-feedbackButtonContainer":{position:"absolute",right:"8px",top:"4px",zIndex:"10"},"&dark .cm-feedbackAddedLine":{backgroundColor:"rgba(34, 187, 34, 0.2)"},"&dark .cm-feedbackModifiedLine":{backgroundColor:"rgba(255, 165, 0, 0.2)",borderLeft:"3px solid rgba(255, 165, 0, 0.8)"},"&dark .cm-feedbackRenamedLine":{backgroundColor:"rgba(58, 150, 221, 0.2)",borderLeft:"3px solid rgba(58, 150, 221, 0.8)"},"&dark .cm-feedbackMovedLine":{backgroundColor:"rgba(147, 112, 219, 0.2)",borderLeft:"3px solid rgba(147, 112, 219, 0.8)"},"&dark .cm-feedbackRefactoredLine":{backgroundColor:"rgba(0, 150, 136, 0.2)",borderLeft:"3px solid rgba(0, 150, 136, 0.8)"},"&dark .cm-feedbackRemovedLine":{backgroundColor:"rgba(238, 68, 51, 0.15)"},"&dark .cm-feedbackDeletedChunk":{backgroundColor:"rgba(238, 68, 51, 0.08)",border:"1px solid rgba(238, 68, 51, 0.3)"},"&dark .cm-feedbackDeletedHeader":{color:"#ff6655"},"&dark .cm-feedbackDeletedText":{color:"#999"},"&dark .cm-feedbackAddedGutter":{background:"#44dd44"},"&dark .cm-feedbackModifiedGutter":{background:"#ffbb33"},"&dark .cm-feedbackRenamedGutter":{background:"#5ab4f5"},"&dark .cm-feedbackMovedGutter":{background:"#b399e3"},"&dark .cm-feedbackRefactoredGutter":{background:"#00bfa5"},"&dark .cm-feedbackRemovedGutter":{background:"#ff6655"},"&dark .cm-feedbackRejectButton":{background:"rgba(255, 102, 85, 0.8)"},"&dark .cm-feedbackRejectButton:hover":{background:"rgba(255, 102, 85, 1)"}});function X6(){return[$6,Y6,eue,tue]}function wS(t,e){t.dispatch({effects:xS.of(e)})}function rl(t){t.dispatch({effects:SS.of()})}var Z6=nt.define(),ES=U.define(),qc=U.define(),bS=U.define(),Bc=U.define(),vm=U.define(),il=re.define({create:()=>({suggestions:[],acceptedSuggestions:new Set,highlightedSuggestion:null,isNavigating:!1,rejectedPatterns:new Set}),update(t,e){let n={...t};for(let r of e.effects)r.is(ES)?(n.suggestions=r.value.suggestions,n.acceptedSuggestions=new Set,n.highlightedSuggestion=null,n.isNavigating=!1):r.is(qc)?(n.suggestions=[],n.acceptedSuggestions=new Set,n.highlightedSuggestion=null,n.isNavigating=!1):r.is(bS)?(n.acceptedSuggestions=new Set(n.acceptedSuggestions),n.acceptedSuggestions.add(r.value)):r.is(Bc)?n.highlightedSuggestion=r.value:r.is(vm)&&(n.isNavigating=r.value);return e.annotation(Z6),n}}),CS=class extends Ue{constructor(n,r,i,o){super();this.suggestion=n;this.isHighlighted=r;this.isAccepted=i;this.isVisible=o}toDOM(){let n=document.createElement("div");n.className="cm-feedforwardSuggestion",this.isVisible||(n.style.display="none"),this.isAccepted?(n.style.backgroundColor="rgba(34, 197, 94, 0.2)",n.style.borderLeft="3px solid rgba(34, 197, 94, 0.6)",n.style.opacity="0.7"):this.isHighlighted?(n.style.backgroundColor="rgba(14, 165, 233, 0.25)",n.style.borderLeft="3px solid rgba(14, 165, 233, 0.8)"):(n.style.backgroundColor="rgba(156, 163, 175, 0.15)",n.style.borderLeft="3px solid rgba(156, 163, 175, 0.4)");let r="  ".repeat(Math.max(0,this.suggestion.indentLevel)),i=document.createElement("pre");return i.className="cm-feedforwardSuggestionCode",i.textContent=r+this.suggestion.text.trim(),n.appendChild(i),n}eq(n){return this.suggestion.id===n.suggestion.id&&this.isHighlighted===n.isHighlighted&&this.isAccepted===n.isAccepted&&this.isVisible===n.isVisible}get estimatedHeight(){return 24}};function nue(t,e){let n=t.doc,r=Math.min(Math.max(e,1),n.lines);return r<=n.lines?n.line(r).to:n.length}function rue(t){let e="  ".repeat(Math.max(0,t.indentLevel));return t.groupItems&&t.groupItems.length>1?`
`+t.groupItems.map(n=>{let r=n.trim();return e+r}).join(`
`):`
`+e+t.text.trim()}var iue=Z.fromClass(class{constructor(t){this.ctrlShiftPressed=!1;this.decorations=P.none,this.setupEventListeners(t),this.buildDecorations(t)}setupEventListeners(t){let e=r=>{if(this.ctrlShiftPressed&&r.preventDefault(),r.altKey&&!this.ctrlShiftPressed)r.preventDefault(),this.ctrlShiftPressed=!0,t.dispatch({effects:vm.of(!0)}),this.buildDecorations(t),this.updateHighlight(t);else if(this.ctrlShiftPressed&&r.key==="Tab"){r.preventDefault();let i=t.state.field(il);if(!i.highlightedSuggestion)return!1;let o=i.suggestions.find(s=>s.id===i.highlightedSuggestion);return o?(t.dispatch({effects:[bS.of(o.id)]}),this.updateHighlight(t),!0):!1}else if(this.ctrlShiftPressed&&r.key==="ArrowRight"){r.preventDefault();let i=t.state.field(il);if(!i.isNavigating||i.suggestions.length===0)return!1;let o=i.suggestions.filter(u=>!i.acceptedSuggestions.has(u.id));if(o.length===0)return!1;let a=((i.highlightedSuggestion?o.findIndex(u=>u.id===i.highlightedSuggestion):-1)+1)%o.length,l=o[a];return l&&(t.dispatch({effects:Bc.of(null)}),setTimeout(()=>{t.dispatch({effects:Bc.of(l.id)})},10)),!0}},n=r=>{if(!r.altKey&&this.ctrlShiftPressed){r.preventDefault(),this.ctrlShiftPressed=!1;let i=t.state.field(il);i.acceptedSuggestions.size>0?this.insertAllAcceptedSuggestions(t,i):t.dispatch({effects:vm.of(!1)}),this.buildDecorations(t)}};this.handleKeyDown=e,this.handleKeyUp=n,window.addEventListener("keydown",e),window.addEventListener("keyup",n)}findClosestSuggestion(t,e,n){let r=t.filter(s=>!e.has(s.id));if(r.length===0)return null;let i=r[0],o=Math.abs(i.insertLine-n);for(let s of r){let a=Math.abs(s.insertLine-n);a<o&&(o=a,i=s)}return i}insertAllAcceptedSuggestions(t,e){let n=Array.from(e.acceptedSuggestions).map(o=>e.suggestions.find(s=>s.id===o)).filter(Boolean);if(n.length===0)return;let r=[...n].sort((o,s)=>s.insertLine!==o.insertLine?s.insertLine-o.insertLine:s.sequence!==void 0&&o.sequence!==void 0?o.sequence-s.sequence:s.indentLevel-o.indentLevel),i=null;for(let o of r){let s=nue(t.state,o.insertLine),a=rue(o);t.dispatch({changes:{from:s,to:s,insert:a},annotations:[Z6.of(!0)]});let l=s+a.length;i=i===null?l:Math.max(i,l)}i!==null?t.dispatch({selection:_.cursor(i),effects:[qc.of()]}):t.dispatch({effects:[qc.of()]})}updateHighlight(t){let e=t.state.field(il);if(e.suggestions.length===0)return;let n=t.state.doc.lineAt(t.state.selection.main.head).number-1,r=this.findClosestSuggestion(e.suggestions,e.acceptedSuggestions,n);r&&t.dispatch({effects:Bc.of(r.id)})}update(t){let e=!1;for(let n of t.transactions){for(let r of n.effects)if(r.is(ES)||r.is(qc)||r.is(bS)||r.is(Bc)||r.is(vm)){e=!0;break}if(e)break}(e||t.docChanged)&&this.buildDecorations(t.view)}buildDecorations(t,e){if(!e)try{e=t.state.field(il)}catch{this.decorations=P.none;return}if(e.suggestions.length===0){this.decorations=P.none;return}let n=[];for(let r of e.suggestions){let i=e.acceptedSuggestions.has(r.id),o=e.highlightedSuggestion===r.id,s=!e.isNavigating||o||this.ctrlShiftPressed||i,a=t.state.doc,l=r.insertLine;l=Math.min(Math.max(l,1),a.lines);let u=a.line(l),c=new CS(r,o,i,s),f=P.widget({widget:c,side:1});n.push({decoration:f.range(u.to),position:u.to})}n.sort((r,i)=>r.position-i.position),this.decorations=P.set(n.map(r=>r.decoration))}destroy(){this.handleKeyDown&&window.removeEventListener("keydown",this.handleKeyDown),this.handleKeyUp&&window.removeEventListener("keyup",this.handleKeyUp)}},{decorations:t=>t.decorations}),oue=M.baseTheme({".cm-feedforwardSuggestion":{margin:"2px 0",padding:"4px 8px",borderRadius:"3px",fontFamily:"inherit",fontSize:"0.95em",lineHeight:"1.3",color:"inherit",position:"relative",transition:"all 0.2s ease"},".cm-feedforwardSuggestionCode":{margin:"0",whiteSpace:"pre",fontFamily:"inherit"},"&dark .cm-feedforwardSuggestion":{color:"rgba(209, 213, 219, 0.9)"}});function Q6(){return[il,iue,oue]}function sue(t,e){t.dispatch({effects:ES.of({suggestions:e,doc:t.state.doc})})}function J6(t){t.dispatch({effects:qc.of()})}function eF(t,e){console.log("[FRONTEND] Applying feedforward suggestions:",e);let n=e.filter(r=>r.id&&r.text&&typeof r.insertLine=="number"&&typeof r.indentLevel=="number");n.length!==e.length&&console.warn("[FRONTEND] Some suggestions were invalid and filtered out"),sue(t,n)}var TS=U.define(),ym=U.define(),iF=re.define({create(){return{nodes:{},edges:[]}},update(t,e){for(let n of e.effects)if(n.is(TS))return n.value;return t}}),oF=re.define({create(){return new Set},update(t,e){for(let n of e.effects)if(n.is(ym)){let r=new Set(n.value.nodeIds);return setTimeout(()=>{},n.value.duration),r}return t}});function tF(t,e){if(e<1||e>t.lines)return{type:null,name:null};let r=t.line(e).text.trim();return r.startsWith("%")?{type:"component",name:r.substring(1)}:r.startsWith("$")&&r.includes("()")?{type:"function",name:r.substring(1,r.indexOf("()"))}:r.match(/^\w+\.\w+$/)?{type:"file",name:r}:r.startsWith("/")?{type:"directory",name:r.substring(1)}:{type:null,name:null}}function nF(t,e,n){for(let r=e;r>=1;r--){let o=t.line(r).text.trim();if(o.match(/^\w+\.\w+$/)){for(let s of Object.keys(n.nodes))if(n.nodes[s].type==="file"&&s.endsWith(o))return s;return o}}return null}function aue(t,e,n,r){let i=new Set,o=n?`${n}:${t}`:t;i.add(o);let s=r.nodes[o];if(!s){for(let[l,u]of Object.entries(r.nodes))if(u.name===t&&u.type===e){i.add(l),u.upstream.forEach(c=>i.add(c)),u.downstream.forEach(c=>i.add(c));break}return i}s.upstream.forEach(l=>i.add(l)),s.downstream.forEach(l=>i.add(l));let a=(l,u)=>{if(u>2)return;let c=r.nodes[l];c&&(c.upstream.forEach(f=>{i.has(f)||(i.add(f),a(f,u+1))}),c.downstream.forEach(f=>{i.has(f)||(i.add(f),a(f,u+1))}))};if(a(o,1),n&&(e==="function"||e==="component")){i.add(n);let l=n.split("/");for(let u=1;u<l.length;u++)i.add(l.slice(0,u).join("/"))}return i}function rF(t){let e=t.state.doc,n=t.state.field(iF),r=t.state.field(oF),i=t.state.selection.main.head,o=e.lineAt(i).number,s=tF(e,o);if(!s.type||!s.name)return P.none;if(Object.keys(n.nodes).length===0)return P.none;let a=nF(e,o,n),l=aue(s.name,s.type,a,n),u=new Be,c=0,f=0;for(let h=1;h<=e.lines;h++){let p=e.line(h),d=tF(e,h);if(!d.type||!d.name)continue;let g=!1,x=!1,m=nF(e,h,n),v=[m?`${m}:${d.name}`:d.name,m||"",d.name];for(let y of v){if(y&&l.has(y)){g=!0,f++;break}y&&r.has(y)&&(x=!0)}x?u.add(p.from,p.from,P.line({class:"cm-affectedLine",attributes:{"data-affected":"true"}})):!g&&h!==o&&(u.add(p.from,p.from,P.line({class:"cm-dimmedLine",attributes:{"data-dependency-dimmed":"true"}})),c++)}return u.finish()}var lue=Z.fromClass(class{constructor(t){this.decorations=rF(t)}update(t){(t.selectionSet||t.transactions.some(e=>e.effects.some(n=>n.is(TS)||n.is(ym))))&&(this.decorations=rF(t.view))}},{decorations:t=>t.decorations}),uue=M.baseTheme({".cm-dimmedLine":{opacity:"0.6",transition:"opacity 0.2s ease"},".cm-affectedLine":{backgroundColor:"rgba(255, 165, 0, 0.25)",transition:"background-color 0.3s ease",animation:"fadeOut 1.5s ease-in-out forwards"},"@keyframes fadeOut":{"0%":{backgroundColor:"rgba(255, 165, 0, 0.35)"},"100%":{backgroundColor:"rgba(255, 165, 0, 0)"}}});function sF(){return[iF,oF,lue,uue]}function AS(t,e){t.dispatch({effects:TS.of(e)})}function aF(t,e,n=1500){t.dispatch({effects:ym.of({nodeIds:e,duration:n})}),setTimeout(()=>{t.dispatch({effects:ym.of({nodeIds:[],duration:0})})},n)}var ci=Nn(la()),so=acquireVsCodeApi();var lF=()=>{let[t,e]=(0,Ee.useState)(""),[n,r]=(0,Ee.useState)([]),[i,o]=(0,Ee.useState)([]),[s,a]=(0,Ee.useState)(null),l=(0,Ee.useRef)(null),u=(0,Ee.useRef)(null),c=(0,Ee.useRef)(null),f=(0,Ee.useRef)(-1),h=(0,Ee.useRef)(null),p=()=>l.current?.view??null,d=(0,Ee.useCallback)(w=>{u.current&&clearTimeout(u.current),so.postMessage({type:"cancelFeedforward"}),u.current=setTimeout(()=>{let C=p();if(!C)return;let E=C.state.selection.main.head,A=C.state.doc.lineAt(E).number-1,O=E-C.state.doc.line(A+1).from;so.postMessage({type:"requestFeedforward",content:w,cursorLine:A,cursorColumn:O,parsedSchema:n})},800)},[n]);(0,Ee.useEffect)(()=>{let w=C=>{let E=C.data,A=p();switch(E.type){case"contentUpdate":E.preserveCursor&&A&&(c.current=A.state.selection.main.head),e(E.content);break;case"codebaseScanned":if(r(E.parsedSchema||[]),o(E.snapshot?.files||[]),E.snapshot?.dependencyGraph){a(E.snapshot.dependencyGraph);let O=p();O&&AS(O,E.snapshot.dependencyGraph)}break;case"feedbackChanges":if(A&&E.changes){let O=E.changes;wS(A,O)}break;case"showFeedbackDecorations":if(A&&E.changes){let O=E.changes;wS(A,O)}break;case"clearFeedbackDecorations":A&&rl(A);break;case"clearFeedback":A&&rl(A);break;case"highlightAffectedNodes":A&&E.nodeIds&&aF(A,E.nodeIds,E.duration||1500);break;case"feedforwardSuggestions":if(A&&E.suggestions){let O=E.suggestions;eF(A,O)}break;case"clearSuggestions":A&&J6(A);break}};return window.addEventListener("message",w),()=>{window.removeEventListener("message",w),u.current&&clearTimeout(u.current),h.current&&clearTimeout(h.current)}},[n,i]),(0,Ee.useEffect)(()=>{if(s){let w=p();w&&AS(w,s)}},[s]),(0,Ee.useEffect)(()=>{if(c.current!==null){let w=p();if(w){let C=Math.min(c.current,t.length);w.dispatch({selection:{anchor:C,head:C},scrollIntoView:!0}),c.current=null}}},[t]);let g=(0,Ee.useCallback)(()=>{so.postMessage({type:"syncCodebase"})},[]),x=(0,Ee.useCallback)(()=>{let w=p();w&&rl(w),so.postMessage({type:"generateCode"})},[]),m=(0,Ee.useCallback)(()=>{let w=p();w&&rl(w),so.postMessage({type:"mockGenerateCode"})},[]),v=(0,Ee.useCallback)(()=>{let w=p();w&&rl(w),so.postMessage({type:"clearAllFeedback"})},[]),y=(0,Ee.useCallback)(w=>{e(w),so.postMessage({type:"contentChanged",content:w})},[d]),k=(0,Ee.useCallback)(w=>{w!==f.current&&(h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{n.some(E=>{let A=O=>O.lineNumber===w+1?!0:O.children?O.children.some(A):!1;return A(E)})&&(f.current=w,so.postMessage({type:"cursorPositionChanged",lineNumber:w+1,parsedSchema:n}))},300))},[n]),b=Ee.default.useMemo(()=>[G6(),U6(),...H6(),...X6(),...Q6(),...sF(),M.updateListener.of(w=>{if(w.selectionSet){let C=w.state.selection.main.head,E=w.state.doc.lineAt(C).number-1;k(E)}})],[k]);return(0,ci.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"var(--vscode-editor-background)",color:"var(--vscode-editor-background)"},children:[(0,ci.jsxs)("div",{style:{padding:"4px 8px",borderBottom:"1px solid var(--vscode-panel-border)",display:"flex",gap:"8px",alignItems:"center"},children:[(0,ci.jsx)("button",{onClick:g,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"none",borderRadius:"2px",cursor:"pointer"},children:"Sync"}),(0,ci.jsx)("button",{onClick:x,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"none",borderRadius:"2px",cursor:"pointer"},children:"Generate"}),(0,ci.jsx)("button",{onClick:m,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"none",borderRadius:"2px",cursor:"pointer"},title:"Mock generation for testing (no OpenCode)",children:"Mock Gen"}),(0,ci.jsx)("button",{onClick:v,style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)",borderRadius:"2px",cursor:"pointer"},title:"Clear all feedback decorations",children:"Clear Feedback"})]}),(0,ci.jsx)(g_,{ref:l,value:t,onChange:y,extensions:b,style:{flex:1,fontSize:"14px",lineHeight:"1.6",height:"100%"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightSpecialChars:!0,history:!0,foldGutter:!0,drawSelection:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!1,rectangularSelection:!0,crosshairCursor:!0,highlightActiveLine:!0,highlightSelectionMatches:!0,closeBracketsKeymap:!0,searchKeymap:!0,foldKeymap:!0,completionKeymap:!1,lintKeymap:!0}})]})};var _S=Nn(la()),cue=cF.default.createRoot(document.getElementById("root"));cue.render((0,_S.jsx)(uF.default.StrictMode,{children:(0,_S.jsx)(lF,{})}));})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
